(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}})();function Ta(s,i){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var e=t.call(s,i);if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}function Qe(s){var i=Ta(s,"string");return typeof i=="symbol"?i:i+""}function se(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function ti(s,i){for(var t=0;t<i.length;t++){var e=i[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,Qe(e.key),e)}}function ne(s,i,t){return i&&ti(s.prototype,i),t&&ti(s,t),Object.defineProperty(s,"prototype",{writable:!1}),s}function Oe(s){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Oe(s)}function Ji(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ji=function(){return!!s})()}function Ra(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function La(s,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ra(s)}function he(s,i,t){return i=Oe(i),La(s,Ji()?Reflect.construct(i,t||[],Oe(s).constructor):i.apply(s,t))}function zt(s,i){return zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zt(s,i)}function ye(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(i&&i.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),i&&zt(s,i)}function Ba(s){if(Array.isArray(s))return s}function Da(s,i){var t=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(t!=null){var e,a,n,r,o=[],u=!0,c=!1;try{if(n=(t=t.call(s)).next,i===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(e=n.call(t)).done)&&(o.push(e.value),o.length!==i);u=!0);}catch(l){c=!0,a=l}finally{try{if(!u&&t.return!=null&&(r=t.return(),Object(r)!==r))return}finally{if(c)throw a}}return o}}function $t(s,i){(i==null||i>s.length)&&(i=s.length);for(var t=0,e=Array(i);t<i;t++)e[t]=s[t];return e}function qi(s,i){if(s){if(typeof s=="string")return $t(s,i);var t={}.toString.call(s).slice(8,-1);return t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set"?Array.from(s):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$t(s,i):void 0}}function Fa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ue(s,i){return Ba(s)||Da(s,i)||qi(s,i)||Fa()}var gt={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"},Vi=new Int8Array(4),mt=new Int32Array(Vi.buffer,0,1),Ga=new Float32Array(Vi.buffer,0,1),ka=/^\s*rgba?\s*\(/,xa=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function Ia(s){var i=0,t=0,e=0,a=1;if(s[0]==="#")s.length===4?(i=parseInt(s.charAt(1)+s.charAt(1),16),t=parseInt(s.charAt(2)+s.charAt(2),16),e=parseInt(s.charAt(3)+s.charAt(3),16)):(i=parseInt(s.charAt(1)+s.charAt(2),16),t=parseInt(s.charAt(3)+s.charAt(4),16),e=parseInt(s.charAt(5)+s.charAt(6),16)),s.length===9&&(a=parseInt(s.charAt(7)+s.charAt(8),16)/255);else if(ka.test(s)){var n=s.match(xa);n&&(i=+n[1],t=+n[2],e=+n[3],n[4]&&(a=+n[4]))}return{r:i,g:t,b:e,a}}var Ne={};for(var rt in gt)Ne[rt]=et(gt[rt]),Ne[gt[rt]]=Ne[rt];function Ki(s,i,t,e,a){return mt[0]=e<<24|t<<16|i<<8|s,mt[0]=mt[0]&4278190079,Ga[0]}function et(s){if(s=s.toLowerCase(),typeof Ne[s]<"u")return Ne[s];var i=Ia(s),t=i.r,e=i.g,a=i.b,n=i.a;n=n*255|0;var r=Ki(t,e,a,n);return Ne[s]=r,r}var vt={};function Zi(s){if(typeof vt[s]<"u")return vt[s];var i=(s&16711680)>>>16,t=(s&65280)>>>8,e=s&255,a=255,n=Ki(i,t,e,a);return vt[s]=n,n}function ii(s,i,t,e){return t+(i<<8)+(s<<16)}function ai(s,i,t,e,a,n){var r=Math.floor(t/n*a),o=Math.floor(s.drawingBufferHeight/n-e/n*a),u=new Uint8Array(4);s.bindFramebuffer(s.FRAMEBUFFER,i),s.readPixels(r,o,1,1,s.RGBA,s.UNSIGNED_BYTE,u);var c=Ue(u,4),l=c[0],d=c[1],y=c[2],p=c[3];return[l,d,y,p]}function D(s,i,t){return(i=Qe(i))in s?Object.defineProperty(s,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[i]=t,s}function si(s,i){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);i&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),t.push.apply(t,e)}return t}function I(s){for(var i=1;i<arguments.length;i++){var t=arguments[i]!=null?arguments[i]:{};i%2?si(Object(t),!0).forEach(function(e){D(s,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):si(Object(t)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(t,e))})}return s}function Na(s,i){for(;!{}.hasOwnProperty.call(s,i)&&(s=Oe(s))!==null;);return s}function Ht(){return Ht=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(s,i,t){var e=Na(s,i);if(e){var a=Object.getOwnPropertyDescriptor(e,i);return a.get?a.get.call(arguments.length<3?s:t):a.value}},Ht.apply(null,arguments)}function Yi(s,i,t,e){var a=Ht(Oe(s.prototype),i,t);return typeof a=="function"?function(n){return a.apply(t,n)}:a}function Oa(s){return s.normalized?1:s.size}function Mt(s){var i=0;return s.forEach(function(t){return i+=Oa(t)}),i}function Xi(s,i,t){var e=s==="VERTEX"?i.VERTEX_SHADER:i.FRAGMENT_SHADER,a=i.createShader(e);if(a===null)throw new Error("loadShader: error while creating the shader");i.shaderSource(a,t),i.compileShader(a);var n=i.getShaderParameter(a,i.COMPILE_STATUS);if(!n){var r=i.getShaderInfoLog(a);throw i.deleteShader(a),new Error(`loadShader: error while compiling the shader:
`.concat(r,`
`).concat(t))}return a}function Ua(s,i){return Xi("VERTEX",s,i)}function za(s,i){return Xi("FRAGMENT",s,i)}function $a(s,i){var t=s.createProgram();if(t===null)throw new Error("loadProgram: error while creating the program.");var e,a;for(e=0,a=i.length;e<a;e++)s.attachShader(t,i[e]);s.linkProgram(t);var n=s.getProgramParameter(t,s.LINK_STATUS);if(!n)throw s.deleteProgram(t),new Error("loadProgram: error while linking the program.");return t}function ni(s){var i=s.gl,t=s.buffer,e=s.program,a=s.vertexShader,n=s.fragmentShader;i.deleteShader(a),i.deleteShader(n),i.deleteProgram(e),i.deleteBuffer(t)}var ri=`#define PICKING_MODE
`,Ha=D(D(D(D(D(D(D(D({},WebGL2RenderingContext.BOOL,1),WebGL2RenderingContext.BYTE,1),WebGL2RenderingContext.UNSIGNED_BYTE,1),WebGL2RenderingContext.SHORT,2),WebGL2RenderingContext.UNSIGNED_SHORT,2),WebGL2RenderingContext.INT,4),WebGL2RenderingContext.UNSIGNED_INT,4),WebGL2RenderingContext.FLOAT,4),Qi=function(){function s(i,t,e){se(this,s),D(this,"array",new Float32Array),D(this,"constantArray",new Float32Array),D(this,"capacity",0),D(this,"verticesCount",0);var a=this.getDefinition();if(this.VERTICES=a.VERTICES,this.VERTEX_SHADER_SOURCE=a.VERTEX_SHADER_SOURCE,this.FRAGMENT_SHADER_SOURCE=a.FRAGMENT_SHADER_SOURCE,this.UNIFORMS=a.UNIFORMS,this.ATTRIBUTES=a.ATTRIBUTES,this.METHOD=a.METHOD,this.CONSTANT_ATTRIBUTES="CONSTANT_ATTRIBUTES"in a?a.CONSTANT_ATTRIBUTES:[],this.CONSTANT_DATA="CONSTANT_DATA"in a?a.CONSTANT_DATA:[],this.isInstanced="CONSTANT_ATTRIBUTES"in a,this.ATTRIBUTES_ITEMS_COUNT=Mt(this.ATTRIBUTES),this.STRIDE=this.VERTICES*this.ATTRIBUTES_ITEMS_COUNT,this.renderer=e,this.normalProgram=this.getProgramInfo("normal",i,a.VERTEX_SHADER_SOURCE,a.FRAGMENT_SHADER_SOURCE,null),this.pickProgram=t?this.getProgramInfo("pick",i,ri+a.VERTEX_SHADER_SOURCE,ri+a.FRAGMENT_SHADER_SOURCE,t):null,this.isInstanced){var n=Mt(this.CONSTANT_ATTRIBUTES);if(this.CONSTANT_DATA.length!==this.VERTICES)throw new Error("Program: error while getting constant data (expected ".concat(this.VERTICES," items, received ").concat(this.CONSTANT_DATA.length," instead)"));this.constantArray=new Float32Array(this.CONSTANT_DATA.length*n);for(var r=0;r<this.CONSTANT_DATA.length;r++){var o=this.CONSTANT_DATA[r];if(o.length!==n)throw new Error("Program: error while getting constant data (one vector has ".concat(o.length," items instead of ").concat(n,")"));for(var u=0;u<o.length;u++)this.constantArray[r*n+u]=o[u]}this.STRIDE=this.ATTRIBUTES_ITEMS_COUNT}}return ne(s,[{key:"kill",value:function(){ni(this.normalProgram),this.pickProgram&&(ni(this.pickProgram),this.pickProgram=null)}},{key:"getProgramInfo",value:function(t,e,a,n,r){var o=this.getDefinition(),u=e.createBuffer();if(u===null)throw new Error("Program: error while creating the WebGL buffer.");var c=Ua(e,a),l=za(e,n),d=$a(e,[c,l]),y={};o.UNIFORMS.forEach(function(b){var A=e.getUniformLocation(d,b);A&&(y[b]=A)});var p={};o.ATTRIBUTES.forEach(function(b){p[b.name]=e.getAttribLocation(d,b.name)});var E;if("CONSTANT_ATTRIBUTES"in o&&(o.CONSTANT_ATTRIBUTES.forEach(function(b){p[b.name]=e.getAttribLocation(d,b.name)}),E=e.createBuffer(),E===null))throw new Error("Program: error while creating the WebGL constant buffer.");return{name:t,program:d,gl:e,frameBuffer:r,buffer:u,constantBuffer:E||{},uniformLocations:y,attributeLocations:p,isPicking:t==="pick",vertexShader:c,fragmentShader:l}}},{key:"bindProgram",value:function(t){var e=this,a=0,n=t.gl,r=t.buffer;this.isInstanced?(n.bindBuffer(n.ARRAY_BUFFER,t.constantBuffer),a=0,this.CONSTANT_ATTRIBUTES.forEach(function(o){return a+=e.bindAttribute(o,t,a,!1)}),n.bufferData(n.ARRAY_BUFFER,this.constantArray,n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,t.buffer),a=0,this.ATTRIBUTES.forEach(function(o){return a+=e.bindAttribute(o,t,a,!0)}),n.bufferData(n.ARRAY_BUFFER,this.array,n.DYNAMIC_DRAW)):(n.bindBuffer(n.ARRAY_BUFFER,r),a=0,this.ATTRIBUTES.forEach(function(o){return a+=e.bindAttribute(o,t,a)}),n.bufferData(n.ARRAY_BUFFER,this.array,n.DYNAMIC_DRAW)),n.bindBuffer(n.ARRAY_BUFFER,null)}},{key:"unbindProgram",value:function(t){var e=this;this.isInstanced?(this.CONSTANT_ATTRIBUTES.forEach(function(a){return e.unbindAttribute(a,t,!1)}),this.ATTRIBUTES.forEach(function(a){return e.unbindAttribute(a,t,!0)})):this.ATTRIBUTES.forEach(function(a){return e.unbindAttribute(a,t)})}},{key:"bindAttribute",value:function(t,e,a,n){var r=Ha[t.type];if(typeof r!="number")throw new Error('Program.bind: yet unsupported attribute type "'.concat(t.type,'"'));var o=e.attributeLocations[t.name],u=e.gl;if(o!==-1){u.enableVertexAttribArray(o);var c=this.isInstanced?(n?this.ATTRIBUTES_ITEMS_COUNT:Mt(this.CONSTANT_ATTRIBUTES))*Float32Array.BYTES_PER_ELEMENT:this.ATTRIBUTES_ITEMS_COUNT*Float32Array.BYTES_PER_ELEMENT;if(u.vertexAttribPointer(o,t.size,t.type,t.normalized||!1,c,a),this.isInstanced&&n)if(u instanceof WebGL2RenderingContext)u.vertexAttribDivisor(o,1);else{var l=u.getExtension("ANGLE_instanced_arrays");l&&l.vertexAttribDivisorANGLE(o,1)}}return t.size*r}},{key:"unbindAttribute",value:function(t,e,a){var n=e.attributeLocations[t.name],r=e.gl;if(n!==-1&&(r.disableVertexAttribArray(n),this.isInstanced&&a))if(r instanceof WebGL2RenderingContext)r.vertexAttribDivisor(n,0);else{var o=r.getExtension("ANGLE_instanced_arrays");o&&o.vertexAttribDivisorANGLE(n,0)}}},{key:"reallocate",value:function(t){t!==this.capacity&&(this.capacity=t,this.verticesCount=this.VERTICES*t,this.array=new Float32Array(this.isInstanced?this.capacity*this.ATTRIBUTES_ITEMS_COUNT:this.verticesCount*this.ATTRIBUTES_ITEMS_COUNT))}},{key:"hasNothingToRender",value:function(){return this.verticesCount===0}},{key:"renderProgram",value:function(t,e){var a=e.gl,n=e.program;a.enable(a.BLEND),a.useProgram(n),this.setUniforms(t,e),this.drawWebGL(this.METHOD,e)}},{key:"render",value:function(t){this.hasNothingToRender()||(this.pickProgram&&(this.pickProgram.gl.viewport(0,0,t.width*t.pixelRatio/t.downSizingRatio,t.height*t.pixelRatio/t.downSizingRatio),this.bindProgram(this.pickProgram),this.renderProgram(I(I({},t),{},{pixelRatio:t.pixelRatio/t.downSizingRatio}),this.pickProgram),this.unbindProgram(this.pickProgram)),this.normalProgram.gl.viewport(0,0,t.width*t.pixelRatio,t.height*t.pixelRatio),this.bindProgram(this.normalProgram),this.renderProgram(t,this.normalProgram),this.unbindProgram(this.normalProgram))}},{key:"drawWebGL",value:function(t,e){var a=e.gl,n=e.frameBuffer;if(a.bindFramebuffer(a.FRAMEBUFFER,n),!this.isInstanced)a.drawArrays(t,0,this.verticesCount);else if(a instanceof WebGL2RenderingContext)a.drawArraysInstanced(t,0,this.VERTICES,this.capacity);else{var r=a.getExtension("ANGLE_instanced_arrays");r&&r.drawArraysInstancedANGLE(t,0,this.VERTICES,this.capacity)}}}])}(),ja=function(s){function i(){return se(this,i),he(this,i,arguments)}return ye(i,s),ne(i,[{key:"kill",value:function(){Yi(i,"kill",this)([])}},{key:"process",value:function(e,a,n){var r=a*this.STRIDE;if(n.hidden){for(var o=r+this.STRIDE;r<o;r++)this.array[r]=0;return}return this.processVisibleItem(Zi(e),r,n)}}])}(Qi),Jt=function(s){function i(){var t;se(this,i);for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t=he(this,i,[].concat(a)),D(t,"drawLabel",void 0),t}return ye(i,s),ne(i,[{key:"kill",value:function(){Yi(i,"kill",this)([])}},{key:"process",value:function(e,a,n,r,o){var u=a*this.STRIDE;if(o.hidden||n.hidden||r.hidden){for(var c=u+this.STRIDE;u<c;u++)this.array[u]=0;return}return this.processVisibleItem(Zi(e),u,n,r,o)}}])}(Qi);function Wa(s,i){return function(){function t(e,a,n){se(this,t),D(this,"drawLabel",i),this.programs=s.map(function(r){return new r(e,a,n)})}return ne(t,[{key:"reallocate",value:function(a){this.programs.forEach(function(n){return n.reallocate(a)})}},{key:"process",value:function(a,n,r,o,u){this.programs.forEach(function(c){return c.process(a,n,r,o,u)})}},{key:"render",value:function(a){this.programs.forEach(function(n){return n.render(a)})}},{key:"kill",value:function(){this.programs.forEach(function(a){return a.kill()})}}])}()}function Ja(s,i,t,e,a){var n=a.edgeLabelSize,r=a.edgeLabelFont,o=a.edgeLabelWeight,u=a.edgeLabelColor.attribute?i[a.edgeLabelColor.attribute]||a.edgeLabelColor.color||"#000":a.edgeLabelColor.color,c=i.label;if(c){s.fillStyle=u,s.font="".concat(o," ").concat(n,"px ").concat(r);var l=t.size,d=e.size,y=t.x,p=t.y,E=e.x,b=e.y,A=(y+E)/2,F=(p+b)/2,R=E-y,L=b-p,M=Math.sqrt(R*R+L*L);if(!(M<l+d)){y+=R*l/M,p+=L*l/M,E-=R*d/M,b-=L*d/M,A=(y+E)/2,F=(p+b)/2,R=E-y,L=b-p,M=Math.sqrt(R*R+L*L);var S=s.measureText(c).width;if(S>M){var B="â€¦";for(c=c+B,S=s.measureText(c).width;S>M&&c.length>1;)c=c.slice(0,-2)+B,S=s.measureText(c).width;if(c.length<4)return}var h;R>0?L>0?h=Math.acos(R/M):h=Math.asin(L/M):L>0?h=Math.acos(R/M)+Math.PI:h=Math.asin(R/M)+Math.PI/2,s.save(),s.translate(A,F),s.rotate(h),s.fillText(c,-S/2,i.size/2+n),s.restore()}}}function ea(s,i,t){if(i.label){var e=t.labelSize,a=t.labelFont,n=t.labelWeight,r=t.labelColor.attribute?i[t.labelColor.attribute]||t.labelColor.color||"#000":t.labelColor.color;s.fillStyle=r,s.font="".concat(n," ").concat(e,"px ").concat(a),s.fillText(i.label,i.x+i.size+3,i.y+e/3)}}function qa(s,i,t){var e=t.labelSize,a=t.labelFont,n=t.labelWeight;s.font="".concat(n," ").concat(e,"px ").concat(a),s.fillStyle="#FFF",s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=8,s.shadowColor="#000";var r=2;if(typeof i.label=="string"){var o=s.measureText(i.label).width,u=Math.round(o+5),c=Math.round(e+2*r),l=Math.max(i.size,e/2)+r,d=Math.asin(c/2/l),y=Math.sqrt(Math.abs(Math.pow(l,2)-Math.pow(c/2,2)));s.beginPath(),s.moveTo(i.x+y,i.y+c/2),s.lineTo(i.x+l+u,i.y+c/2),s.lineTo(i.x+l+u,i.y-c/2),s.lineTo(i.x+y,i.y-c/2),s.arc(i.x,i.y,l,d,-d),s.closePath(),s.fill()}else s.beginPath(),s.arc(i.x,i.y,i.size+r,0,Math.PI*2),s.closePath(),s.fill();s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,ea(s,i,t)}var Va=`
precision highp float;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;

uniform float u_correctionRatio;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  float border = u_correctionRatio * 2.0;
  float dist = length(v_diffVector) - v_radius + border;

  // No antialiasing for picking mode:
  #ifdef PICKING_MODE
  if (dist > border)
    gl_FragColor = transparent;
  else
    gl_FragColor = v_color;

  #else
  float t = 0.0;
  if (dist > border)
    t = 1.0;
  else if (dist > 0.0)
    t = dist / border;

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`,Ka=Va,Za=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_position;
attribute float a_size;
attribute float a_angle;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;
varying float v_border;

const float bias = 255.0 / 254.0;

void main() {
  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;
  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));
  vec2 position = a_position + diffVector;
  gl_Position = vec4(
    (u_matrix * vec3(position, 1)).xy,
    0,
    1
  );

  v_diffVector = diffVector;
  v_radius = size / 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,Ya=Za,ta=WebGLRenderingContext,oi=ta.UNSIGNED_BYTE,_t=ta.FLOAT,Xa=["u_sizeRatio","u_correctionRatio","u_matrix"],yt=function(s){function i(){return se(this,i),he(this,i,arguments)}return ye(i,s),ne(i,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:Ya,FRAGMENT_SHADER_SOURCE:Ka,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:Xa,ATTRIBUTES:[{name:"a_position",size:2,type:_t},{name:"a_size",size:1,type:_t},{name:"a_color",size:4,type:oi,normalized:!0},{name:"a_id",size:4,type:oi,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_angle",size:1,type:_t}],CONSTANT_DATA:[[i.ANGLE_1],[i.ANGLE_2],[i.ANGLE_3]]}}},{key:"processVisibleItem",value:function(e,a,n){var r=this.array,o=et(n.color);r[a++]=n.x,r[a++]=n.y,r[a++]=n.size,r[a++]=o,r[a++]=e}},{key:"setUniforms",value:function(e,a){var n=a.gl,r=a.uniformLocations,o=r.u_sizeRatio,u=r.u_correctionRatio,c=r.u_matrix;n.uniform1f(u,e.correctionRatio),n.uniform1f(o,e.sizeRatio),n.uniformMatrix3fv(c,!1,e.matrix)}}])}(ja);D(yt,"ANGLE_1",0);D(yt,"ANGLE_2",2*Math.PI/3);D(yt,"ANGLE_3",4*Math.PI/3);var Qa=`
precision mediump float;

varying vec4 v_color;

void main(void) {
  gl_FragColor = v_color;
}
`,es=Qa,ts=`
attribute vec2 a_position;
attribute vec2 a_normal;
attribute float a_radius;
attribute vec3 a_barycentric;

#ifdef PICKING_MODE
attribute vec4 a_id;
#else
attribute vec4 a_color;
#endif

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_lengthToThicknessRatio;
uniform float u_widenessToThicknessRatio;

varying vec4 v_color;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl and
  // edge.clamped.vert.glsl. Please read it to get better comments on what's
  // happening:
  float pixelsThickness = max(normalLength / u_sizeRatio, minThickness);
  float webGLThickness = pixelsThickness * u_correctionRatio;
  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * u_lengthToThicknessRatio * 2.0;
  float webGLArrowHeadThickness = webGLThickness * u_widenessToThicknessRatio;

  float da = a_barycentric.x;
  float db = a_barycentric.y;
  float dc = a_barycentric.z;

  vec2 delta = vec2(
      da * (webGLNodeRadius * unitNormal.y)
    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadThickness * unitNormal.x)
    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadThickness * unitNormal.x),

      da * (-webGLNodeRadius * unitNormal.x)
    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadThickness * unitNormal.y)
    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadThickness * unitNormal.y)
  );

  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;

  gl_Position = vec4(position, 0, 1);

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,is=ts,ia=WebGLRenderingContext,ui=ia.UNSIGNED_BYTE,ot=ia.FLOAT,as=["u_matrix","u_sizeRatio","u_correctionRatio","u_minEdgeThickness","u_lengthToThicknessRatio","u_widenessToThicknessRatio"],aa={extremity:"target",lengthToThicknessRatio:2.5,widenessToThicknessRatio:2};function sa(s){var i=I(I({},aa),{});return function(t){function e(){return se(this,e),he(this,e,arguments)}return ye(e,t),ne(e,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:is,FRAGMENT_SHADER_SOURCE:es,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:as,ATTRIBUTES:[{name:"a_position",size:2,type:ot},{name:"a_normal",size:2,type:ot},{name:"a_radius",size:1,type:ot},{name:"a_color",size:4,type:ui,normalized:!0},{name:"a_id",size:4,type:ui,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_barycentric",size:3,type:ot}],CONSTANT_DATA:[[1,0,0],[0,1,0],[0,0,1]]}}},{key:"processVisibleItem",value:function(n,r,o,u,c){if(i.extremity==="source"){var l=[u,o];o=l[0],u=l[1]}var d=c.size||1,y=u.size||1,p=o.x,E=o.y,b=u.x,A=u.y,F=et(c.color),R=b-p,L=A-E,M=R*R+L*L,S=0,B=0;M&&(M=1/Math.sqrt(M),S=-L*M*d,B=R*M*d);var h=this.array;h[r++]=b,h[r++]=A,h[r++]=-S,h[r++]=-B,h[r++]=y,h[r++]=F,h[r++]=n}},{key:"setUniforms",value:function(n,r){var o=r.gl,u=r.uniformLocations,c=u.u_matrix,l=u.u_sizeRatio,d=u.u_correctionRatio,y=u.u_minEdgeThickness,p=u.u_lengthToThicknessRatio,E=u.u_widenessToThicknessRatio;o.uniformMatrix3fv(c,!1,n.matrix),o.uniform1f(l,n.sizeRatio),o.uniform1f(d,n.correctionRatio),o.uniform1f(y,n.minEdgeThickness),o.uniform1f(p,i.lengthToThicknessRatio),o.uniform1f(E,i.widenessToThicknessRatio)}}])}(Jt)}sa();var ss=`
precision mediump float;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  // We only handle antialiasing for normal mode:
  #ifdef PICKING_MODE
  gl_FragColor = v_color;
  #else
  float dist = length(v_normal) * v_thickness;

  float t = smoothstep(
    v_thickness - v_feather,
    v_thickness,
    dist
  );

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`,na=ss,ns=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;
attribute float a_radius;
attribute float a_radiusCoef;

uniform mat3 u_matrix;
uniform float u_zoomRatio;
uniform float u_sizeRatio;
uniform float u_pixelRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_lengthToThicknessRatio;
uniform float u_feather;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  float radius = a_radius * a_radiusCoef;
  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // These first computations are taken from edge.vert.glsl. Please read it to
  // get better comments on what's happening:
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here, we move the point to leave space for the arrow head:
  float direction = sign(radius);
  float webGLNodeRadius = direction * radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * u_lengthToThicknessRatio * 2.0;

  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);

  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  v_feather = u_feather * u_correctionRatio / u_zoomRatio / u_pixelRatio * 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,rs=ns,ra=WebGLRenderingContext,ci=ra.UNSIGNED_BYTE,De=ra.FLOAT,os=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio","u_pixelRatio","u_feather","u_minEdgeThickness","u_lengthToThicknessRatio"],us={lengthToThicknessRatio:aa.lengthToThicknessRatio};function oa(s){var i=I(I({},us),{});return function(t){function e(){return se(this,e),he(this,e,arguments)}return ye(e,t),ne(e,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:rs,FRAGMENT_SHADER_SOURCE:na,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:os,ATTRIBUTES:[{name:"a_positionStart",size:2,type:De},{name:"a_positionEnd",size:2,type:De},{name:"a_normal",size:2,type:De},{name:"a_color",size:4,type:ci,normalized:!0},{name:"a_id",size:4,type:ci,normalized:!0},{name:"a_radius",size:1,type:De}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:De},{name:"a_normalCoef",size:1,type:De},{name:"a_radiusCoef",size:1,type:De}],CONSTANT_DATA:[[0,1,0],[0,-1,0],[1,1,1],[1,1,1],[0,-1,0],[1,-1,-1]]}}},{key:"processVisibleItem",value:function(n,r,o,u,c){var l=c.size||1,d=o.x,y=o.y,p=u.x,E=u.y,b=et(c.color),A=p-d,F=E-y,R=u.size||1,L=A*A+F*F,M=0,S=0;L&&(L=1/Math.sqrt(L),M=-F*L*l,S=A*L*l);var B=this.array;B[r++]=d,B[r++]=y,B[r++]=p,B[r++]=E,B[r++]=M,B[r++]=S,B[r++]=b,B[r++]=n,B[r++]=R}},{key:"setUniforms",value:function(n,r){var o=r.gl,u=r.uniformLocations,c=u.u_matrix,l=u.u_zoomRatio,d=u.u_feather,y=u.u_pixelRatio,p=u.u_correctionRatio,E=u.u_sizeRatio,b=u.u_minEdgeThickness,A=u.u_lengthToThicknessRatio;o.uniformMatrix3fv(c,!1,n.matrix),o.uniform1f(l,n.zoomRatio),o.uniform1f(E,n.sizeRatio),o.uniform1f(p,n.correctionRatio),o.uniform1f(y,n.pixelRatio),o.uniform1f(d,n.antiAliasingFeather),o.uniform1f(b,n.minEdgeThickness),o.uniform1f(A,i.lengthToThicknessRatio)}}])}(Jt)}oa();function cs(s){return Wa([oa(),sa()])}var ls=cs(),ds=ls,hs=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_zoomRatio;
uniform float u_pixelRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_feather;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // We require edges to be at least "minThickness" pixels thick *on screen*
  // (so we need to compensate the size ratio):
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);

  // Then, we need to retrieve the normalized thickness of the edge in the WebGL
  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction
  // ratio:
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness, 1)).xy, 0, 1);

  // For the fragment shader though, we need a thickness that takes the "magic"
  // correction ratio into account (as in webGLThickness), but so that the
  // antialiasing effect does not depend on the zoom level. So here's yet
  // another thickness version:
  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  v_feather = u_feather * u_correctionRatio / u_zoomRatio / u_pixelRatio * 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,ys=hs,ua=WebGLRenderingContext,li=ua.UNSIGNED_BYTE,Je=ua.FLOAT,fs=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio","u_pixelRatio","u_feather","u_minEdgeThickness"],ps=function(s){function i(){return se(this,i),he(this,i,arguments)}return ye(i,s),ne(i,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:ys,FRAGMENT_SHADER_SOURCE:na,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:fs,ATTRIBUTES:[{name:"a_positionStart",size:2,type:Je},{name:"a_positionEnd",size:2,type:Je},{name:"a_normal",size:2,type:Je},{name:"a_color",size:4,type:li,normalized:!0},{name:"a_id",size:4,type:li,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:Je},{name:"a_normalCoef",size:1,type:Je}],CONSTANT_DATA:[[0,1],[0,-1],[1,1],[1,1],[0,-1],[1,-1]]}}},{key:"processVisibleItem",value:function(e,a,n,r,o){var u=o.size||1,c=n.x,l=n.y,d=r.x,y=r.y,p=et(o.color),E=d-c,b=y-l,A=E*E+b*b,F=0,R=0;A&&(A=1/Math.sqrt(A),F=-b*A*u,R=E*A*u);var L=this.array;L[a++]=c,L[a++]=l,L[a++]=d,L[a++]=y,L[a++]=F,L[a++]=R,L[a++]=p,L[a++]=e}},{key:"setUniforms",value:function(e,a){var n=a.gl,r=a.uniformLocations,o=r.u_matrix,u=r.u_zoomRatio,c=r.u_feather,l=r.u_pixelRatio,d=r.u_correctionRatio,y=r.u_sizeRatio,p=r.u_minEdgeThickness;n.uniformMatrix3fv(o,!1,e.matrix),n.uniform1f(u,e.zoomRatio),n.uniform1f(y,e.sizeRatio),n.uniform1f(d,e.correctionRatio),n.uniform1f(l,e.pixelRatio),n.uniform1f(c,e.antiAliasingFeather),n.uniform1f(p,e.minEdgeThickness)}}])}(Jt);function qt(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ut={exports:{}},di;function gs(){if(di)return ut.exports;di=1;var s=typeof Reflect=="object"?Reflect:null,i=s&&typeof s.apply=="function"?s.apply:function(S,B,h){return Function.prototype.apply.call(S,B,h)},t;s&&typeof s.ownKeys=="function"?t=s.ownKeys:Object.getOwnPropertySymbols?t=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:t=function(S){return Object.getOwnPropertyNames(S)};function e(M){console&&console.warn&&console.warn(M)}var a=Number.isNaN||function(S){return S!==S};function n(){n.init.call(this)}ut.exports=n,ut.exports.once=F,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var r=10;function o(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(M){if(typeof M!="number"||M<0||a(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");r=M}}),n.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||a(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function u(M){return M._maxListeners===void 0?n.defaultMaxListeners:M._maxListeners}n.prototype.getMaxListeners=function(){return u(this)},n.prototype.emit=function(S){for(var B=[],h=1;h<arguments.length;h++)B.push(arguments[h]);var _=S==="error",g=this._events;if(g!==void 0)_=_&&g.error===void 0;else if(!_)return!1;if(_){var v;if(B.length>0&&(v=B[0]),v instanceof Error)throw v;var P=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw P.context=v,P}var T=g[S];if(T===void 0)return!1;if(typeof T=="function")i(T,this,B);else for(var f=T.length,H=E(T,f),h=0;h<f;++h)i(H[h],this,B);return!0};function c(M,S,B,h){var _,g,v;if(o(B),g=M._events,g===void 0?(g=M._events=Object.create(null),M._eventsCount=0):(g.newListener!==void 0&&(M.emit("newListener",S,B.listener?B.listener:B),g=M._events),v=g[S]),v===void 0)v=g[S]=B,++M._eventsCount;else if(typeof v=="function"?v=g[S]=h?[B,v]:[v,B]:h?v.unshift(B):v.push(B),_=u(M),_>0&&v.length>_&&!v.warned){v.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+v.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=M,P.type=S,P.count=v.length,e(P)}return M}n.prototype.addListener=function(S,B){return c(this,S,B,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(S,B){return c(this,S,B,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(M,S,B){var h={fired:!1,wrapFn:void 0,target:M,type:S,listener:B},_=l.bind(h);return _.listener=B,h.wrapFn=_,_}n.prototype.once=function(S,B){return o(B),this.on(S,d(this,S,B)),this},n.prototype.prependOnceListener=function(S,B){return o(B),this.prependListener(S,d(this,S,B)),this},n.prototype.removeListener=function(S,B){var h,_,g,v,P;if(o(B),_=this._events,_===void 0)return this;if(h=_[S],h===void 0)return this;if(h===B||h.listener===B)--this._eventsCount===0?this._events=Object.create(null):(delete _[S],_.removeListener&&this.emit("removeListener",S,h.listener||B));else if(typeof h!="function"){for(g=-1,v=h.length-1;v>=0;v--)if(h[v]===B||h[v].listener===B){P=h[v].listener,g=v;break}if(g<0)return this;g===0?h.shift():b(h,g),h.length===1&&(_[S]=h[0]),_.removeListener!==void 0&&this.emit("removeListener",S,P||B)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(S){var B,h,_;if(h=this._events,h===void 0)return this;if(h.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):h[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete h[S]),this;if(arguments.length===0){var g=Object.keys(h),v;for(_=0;_<g.length;++_)v=g[_],v!=="removeListener"&&this.removeAllListeners(v);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(B=h[S],typeof B=="function")this.removeListener(S,B);else if(B!==void 0)for(_=B.length-1;_>=0;_--)this.removeListener(S,B[_]);return this};function y(M,S,B){var h=M._events;if(h===void 0)return[];var _=h[S];return _===void 0?[]:typeof _=="function"?B?[_.listener||_]:[_]:B?A(_):E(_,_.length)}n.prototype.listeners=function(S){return y(this,S,!0)},n.prototype.rawListeners=function(S){return y(this,S,!1)},n.listenerCount=function(M,S){return typeof M.listenerCount=="function"?M.listenerCount(S):p.call(M,S)},n.prototype.listenerCount=p;function p(M){var S=this._events;if(S!==void 0){var B=S[M];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}n.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function E(M,S){for(var B=new Array(S),h=0;h<S;++h)B[h]=M[h];return B}function b(M,S){for(;S+1<M.length;S++)M[S]=M[S+1];M.pop()}function A(M){for(var S=new Array(M.length),B=0;B<S.length;++B)S[B]=M[B].listener||M[B];return S}function F(M,S){return new Promise(function(B,h){function _(v){M.removeListener(S,g),h(v)}function g(){typeof M.removeListener=="function"&&M.removeListener("error",_),B([].slice.call(arguments))}L(M,S,g,{once:!0}),S!=="error"&&R(M,_,{once:!0})})}function R(M,S,B){typeof M.on=="function"&&L(M,"error",S,B)}function L(M,S,B,h){if(typeof M.on=="function")h.once?M.once(S,B):M.on(S,B);else if(typeof M.addEventListener=="function")M.addEventListener(S,function _(g){h.once&&M.removeEventListener(S,_),B(g)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M)}return ut.exports}var ca=gs(),Vt=function(s){function i(){var t;return se(this,i),t=he(this,i),t.rawEmitter=t,t}return ye(i,s),ne(i)}(ca.EventEmitter),Et,hi;function ke(){return hi||(hi=1,Et=function(i){return i!==null&&typeof i=="object"&&typeof i.addUndirectedEdgeWithKey=="function"&&typeof i.dropNode=="function"&&typeof i.multi=="boolean"}),Et}var ms=ke();const vs=qt(ms);var Ms=function(i){return i},_s=function(i){return i*i},Es=function(i){return i*(2-i)},bs=function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)},Ss=function(i){return i*i*i},ws=function(i){return--i*i*i+1},Cs=function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)},Ps={linear:Ms,quadraticIn:_s,quadraticOut:Es,quadraticInOut:bs,cubicIn:Ss,cubicOut:ws,cubicInOut:Cs},As={easing:"quadraticInOut",duration:150};function me(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}function ct(s,i,t){return s[0]=i,s[4]=typeof t=="number"?t:i,s}function yi(s,i){var t=Math.sin(i),e=Math.cos(i);return s[0]=e,s[1]=t,s[3]=-t,s[4]=e,s}function fi(s,i,t){return s[6]=i,s[7]=t,s}function Re(s,i){var t=s[0],e=s[1],a=s[2],n=s[3],r=s[4],o=s[5],u=s[6],c=s[7],l=s[8],d=i[0],y=i[1],p=i[2],E=i[3],b=i[4],A=i[5],F=i[6],R=i[7],L=i[8];return s[0]=d*t+y*n+p*u,s[1]=d*e+y*r+p*c,s[2]=d*a+y*o+p*l,s[3]=E*t+b*n+A*u,s[4]=E*e+b*r+A*c,s[5]=E*a+b*o+A*l,s[6]=F*t+R*n+L*u,s[7]=F*e+R*r+L*c,s[8]=F*a+R*o+L*l,s}function jt(s,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,e=s[0],a=s[1],n=s[3],r=s[4],o=s[6],u=s[7],c=i.x,l=i.y;return{x:c*e+l*n+o*t,y:c*a+l*r+u*t}}function Ts(s,i){var t=s.height/s.width,e=i.height/i.width;return t<1&&e>1||t>1&&e<1?1:Math.min(Math.max(e,1/e),Math.max(1/t,t))}function qe(s,i,t,e,a){var n=s.angle,r=s.ratio,o=s.x,u=s.y,c=i.width,l=i.height,d=me(),y=Math.min(c,l)-2*e,p=Ts(i,t);return a?(Re(d,fi(me(),o,u)),Re(d,ct(me(),r)),Re(d,yi(me(),n)),Re(d,ct(me(),c/y/2/p,l/y/2/p))):(Re(d,ct(me(),2*(y/c)*p,2*(y/l)*p)),Re(d,yi(me(),-n)),Re(d,ct(me(),1/r)),Re(d,fi(me(),-o,-u))),d}function Rs(s,i,t){var e=jt(s,{x:Math.cos(i.angle),y:Math.sin(i.angle)},0),a=e.x,n=e.y;return 1/Math.sqrt(Math.pow(a,2)+Math.pow(n,2))/t.width}function Ls(s){if(!s.order)return{x:[0,1],y:[0,1]};var i=1/0,t=-1/0,e=1/0,a=-1/0;return s.forEachNode(function(n,r){var o=r.x,u=r.y;o<i&&(i=o),o>t&&(t=o),u<e&&(e=u),u>a&&(a=u)}),{x:[i,t],y:[e,a]}}function Bs(s){if(!vs(s))throw new Error("Sigma: invalid graph instance.");s.forEachNode(function(i,t){if(!Number.isFinite(t.x)||!Number.isFinite(t.y))throw new Error("Sigma: Coordinates of node ".concat(i," are invalid. A node must have a numeric 'x' and 'y' attribute."))})}function Ds(s,i,t){var e=document.createElement(s);if(i)for(var a in i)e.style[a]=i[a];if(t)for(var n in t)e.setAttribute(n,t[n]);return e}function pi(){return typeof window.devicePixelRatio<"u"?window.devicePixelRatio:1}function gi(s,i,t){return t.sort(function(e,a){var n=i(e)||0,r=i(a)||0;return n<r?-1:n>r?1:0})}function mi(s){var i=Ue(s.x,2),t=i[0],e=i[1],a=Ue(s.y,2),n=a[0],r=a[1],o=Math.max(e-t,r-n),u=(e+t)/2,c=(r+n)/2;(o===0||Math.abs(o)===1/0||isNaN(o))&&(o=1),isNaN(u)&&(u=0),isNaN(c)&&(c=0);var l=function(y){return{x:.5+(y.x-u)/o,y:.5+(y.y-c)/o}};return l.applyTo=function(d){d.x=.5+(d.x-u)/o,d.y=.5+(d.y-c)/o},l.inverse=function(d){return{x:u+o*(d.x-.5),y:c+o*(d.y-.5)}},l.ratio=o,l}function Wt(s){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Wt(s)}function vi(s,i){var t=i.size;if(t!==0){var e=s.length;s.length+=t;var a=0;i.forEach(function(n){s[e+a]=n,a++})}}function bt(s){s=s||{};for(var i=0,t=arguments.length<=1?0:arguments.length-1;i<t;i++){var e=i+1<1||arguments.length<=i+1?void 0:arguments[i+1];e&&Object.assign(s,e)}return s}var Kt={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,defaultDrawEdgeLabel:Ja,defaultDrawNodeLabel:ea,defaultDrawNodeHover:qa,minEdgeThickness:1.7,antiAliasingFeather:1,dragTimeout:100,draggedEventsTolerance:3,inertiaDuration:200,inertiaRatio:3,zoomDuration:250,zoomingRatio:1.7,doubleClickTimeout:300,doubleClickZoomingRatio:2.2,doubleClickZoomingDuration:200,tapMoveTolerance:10,zoomToSizeRatioFunction:Math.sqrt,itemSizesReference:"screen",autoRescale:!0,autoCenter:!0,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,enableCameraZooming:!0,enableCameraPanning:!0,enableCameraRotation:!0,cameraPanBoundaries:null,allowInvalidContainer:!1,nodeProgramClasses:{},nodeHoverProgramClasses:{},edgeProgramClasses:{}},Fs={circle:yt},Gs={arrow:ds,line:ps};function St(s){if(typeof s.labelDensity!="number"||s.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var i=s.minCameraRatio,t=s.maxCameraRatio;if(typeof i=="number"&&typeof t=="number"&&t<i)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")}function ks(s){var i=bt({},Kt,s);return i.nodeProgramClasses=bt({},Fs,i.nodeProgramClasses),i.edgeProgramClasses=bt({},Gs,i.edgeProgramClasses),i}var lt=1.5,Mi=function(s){function i(){var t;return se(this,i),t=he(this,i),D(t,"x",.5),D(t,"y",.5),D(t,"angle",0),D(t,"ratio",1),D(t,"minRatio",null),D(t,"maxRatio",null),D(t,"enabledZooming",!0),D(t,"enabledPanning",!0),D(t,"enabledRotation",!0),D(t,"clean",null),D(t,"nextFrame",null),D(t,"previousState",null),D(t,"enabled",!0),t.previousState=t.getState(),t}return ye(i,s),ne(i,[{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"getState",value:function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}}},{key:"hasState",value:function(e){return this.x===e.x&&this.y===e.y&&this.ratio===e.ratio&&this.angle===e.angle}},{key:"getPreviousState",value:function(){var e=this.previousState;return e?{x:e.x,y:e.y,angle:e.angle,ratio:e.ratio}:null}},{key:"getBoundedRatio",value:function(e){var a=e;return typeof this.minRatio=="number"&&(a=Math.max(a,this.minRatio)),typeof this.maxRatio=="number"&&(a=Math.min(a,this.maxRatio)),a}},{key:"validateState",value:function(e){var a={};return this.enabledPanning&&typeof e.x=="number"&&(a.x=e.x),this.enabledPanning&&typeof e.y=="number"&&(a.y=e.y),this.enabledZooming&&typeof e.ratio=="number"&&(a.ratio=this.getBoundedRatio(e.ratio)),this.enabledRotation&&typeof e.angle=="number"&&(a.angle=e.angle),this.clean?this.clean(I(I({},this.getState()),a)):a}},{key:"isAnimated",value:function(){return!!this.nextFrame}},{key:"setState",value:function(e){if(!this.enabled)return this;this.previousState=this.getState();var a=this.validateState(e);return typeof a.x=="number"&&(this.x=a.x),typeof a.y=="number"&&(this.y=a.y),typeof a.ratio=="number"&&(this.ratio=a.ratio),typeof a.angle=="number"&&(this.angle=a.angle),this.hasState(this.previousState)||this.emit("updated",this.getState()),this}},{key:"updateState",value:function(e){return this.setState(e(this.getState())),this}},{key:"animate",value:function(e){var a=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!r)return new Promise(function(p){return a.animate(e,n,p)});if(this.enabled){var o=I(I({},As),n),u=this.validateState(e),c=typeof o.easing=="function"?o.easing:Ps[o.easing],l=Date.now(),d=this.getState(),y=function(){var E=(Date.now()-l)/o.duration;if(E>=1){a.nextFrame=null,a.setState(u),a.animationCallback&&(a.animationCallback.call(null),a.animationCallback=void 0);return}var b=c(E),A={};typeof u.x=="number"&&(A.x=d.x+(u.x-d.x)*b),typeof u.y=="number"&&(A.y=d.y+(u.y-d.y)*b),a.enabledRotation&&typeof u.angle=="number"&&(A.angle=d.angle+(u.angle-d.angle)*b),typeof u.ratio=="number"&&(A.ratio=d.ratio+(u.ratio-d.ratio)*b),a.setState(A),a.nextFrame=requestAnimationFrame(y)};this.nextFrame?(cancelAnimationFrame(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=requestAnimationFrame(y)):y(),this.animationCallback=r}}},{key:"animatedZoom",value:function(e){return e?typeof e=="number"?this.animate({ratio:this.ratio/e}):this.animate({ratio:this.ratio/(e.factor||lt)},e):this.animate({ratio:this.ratio/lt})}},{key:"animatedUnzoom",value:function(e){return e?typeof e=="number"?this.animate({ratio:this.ratio*e}):this.animate({ratio:this.ratio*(e.factor||lt)},e):this.animate({ratio:this.ratio*lt})}},{key:"animatedReset",value:function(e){return this.animate({x:.5,y:.5,ratio:1,angle:0},e)}},{key:"copy",value:function(){return i.from(this.getState())}}],[{key:"from",value:function(e){var a=new i;return a.setState(e)}}])}(Vt);function ve(s,i){var t=i.getBoundingClientRect();return{x:s.clientX-t.left,y:s.clientY-t.top}}function Ce(s,i){var t=I(I({},ve(s,i)),{},{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){t.sigmaDefaultPrevented=!0},original:s});return t}function Ve(s){var i="x"in s?s:I(I({},s.touches[0]||s.previousTouches[0]),{},{original:s.original,sigmaDefaultPrevented:s.sigmaDefaultPrevented,preventSigmaDefault:function(){s.sigmaDefaultPrevented=!0,i.sigmaDefaultPrevented=!0}});return i}function xs(s,i){return I(I({},Ce(s,i)),{},{delta:la(s)})}var Is=2;function ht(s){for(var i=[],t=0,e=Math.min(s.length,Is);t<e;t++)i.push(s[t]);return i}function Ke(s,i,t){var e={touches:ht(s.touches).map(function(a){return ve(a,t)}),previousTouches:i.map(function(a){return ve(a,t)}),sigmaDefaultPrevented:!1,preventSigmaDefault:function(){e.sigmaDefaultPrevented=!0},original:s};return e}function la(s){if(typeof s.deltaY<"u")return s.deltaY*-3/360;if(typeof s.detail<"u")return s.detail/-9;throw new Error("Captor: could not extract delta from event.")}var da=function(s){function i(t,e){var a;return se(this,i),a=he(this,i),a.container=t,a.renderer=e,a}return ye(i,s),ne(i)}(Vt),Ns=["doubleClickTimeout","doubleClickZoomingDuration","doubleClickZoomingRatio","dragTimeout","draggedEventsTolerance","inertiaDuration","inertiaRatio","zoomDuration","zoomingRatio"],Os=Ns.reduce(function(s,i){return I(I({},s),{},D({},i,Kt[i]))},{}),Us=function(s){function i(t,e){var a;return se(this,i),a=he(this,i,[t,e]),D(a,"enabled",!0),D(a,"draggedEvents",0),D(a,"downStartTime",null),D(a,"lastMouseX",null),D(a,"lastMouseY",null),D(a,"isMouseDown",!1),D(a,"isMoving",!1),D(a,"movingTimeout",null),D(a,"startCameraState",null),D(a,"clicks",0),D(a,"doubleClickTimeout",null),D(a,"currentWheelDirection",0),D(a,"settings",Os),a.handleClick=a.handleClick.bind(a),a.handleRightClick=a.handleRightClick.bind(a),a.handleDown=a.handleDown.bind(a),a.handleUp=a.handleUp.bind(a),a.handleMove=a.handleMove.bind(a),a.handleWheel=a.handleWheel.bind(a),a.handleLeave=a.handleLeave.bind(a),a.handleEnter=a.handleEnter.bind(a),t.addEventListener("click",a.handleClick,{capture:!1}),t.addEventListener("contextmenu",a.handleRightClick,{capture:!1}),t.addEventListener("mousedown",a.handleDown,{capture:!1}),t.addEventListener("wheel",a.handleWheel,{capture:!1}),t.addEventListener("mouseleave",a.handleLeave,{capture:!1}),t.addEventListener("mouseenter",a.handleEnter,{capture:!1}),document.addEventListener("mousemove",a.handleMove,{capture:!1}),document.addEventListener("mouseup",a.handleUp,{capture:!1}),a}return ye(i,s),ne(i,[{key:"kill",value:function(){var e=this.container;e.removeEventListener("click",this.handleClick),e.removeEventListener("contextmenu",this.handleRightClick),e.removeEventListener("mousedown",this.handleDown),e.removeEventListener("wheel",this.handleWheel),e.removeEventListener("mouseleave",this.handleLeave),e.removeEventListener("mouseenter",this.handleEnter),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)}},{key:"handleClick",value:function(e){var a=this;if(this.enabled){if(this.clicks++,this.clicks===2)return this.clicks=0,typeof this.doubleClickTimeout=="number"&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(e);setTimeout(function(){a.clicks=0,a.doubleClickTimeout=null},this.settings.doubleClickTimeout),this.draggedEvents<this.settings.draggedEventsTolerance&&this.emit("click",Ce(e,this.container))}}},{key:"handleRightClick",value:function(e){this.enabled&&this.emit("rightClick",Ce(e,this.container))}},{key:"handleDoubleClick",value:function(e){if(this.enabled){e.preventDefault(),e.stopPropagation();var a=Ce(e,this.container);if(this.emit("doubleClick",a),!a.sigmaDefaultPrevented){var n=this.renderer.getCamera(),r=n.getBoundedRatio(n.getState().ratio/this.settings.doubleClickZoomingRatio);n.animate(this.renderer.getViewportZoomedState(ve(e,this.container),r),{easing:"quadraticInOut",duration:this.settings.doubleClickZoomingDuration})}}}},{key:"handleDown",value:function(e){if(this.enabled){if(e.button===0){this.startCameraState=this.renderer.getCamera().getState();var a=ve(e,this.container),n=a.x,r=a.y;this.lastMouseX=n,this.lastMouseY=r,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0}this.emit("mousedown",Ce(e,this.container))}}},{key:"handleUp",value:function(e){var a=this;if(!(!this.enabled||!this.isMouseDown)){var n=this.renderer.getCamera();this.isMouseDown=!1,typeof this.movingTimeout=="number"&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var r=ve(e,this.container),o=r.x,u=r.y,c=n.getState(),l=n.getPreviousState()||{x:0,y:0};this.isMoving?n.animate({x:c.x+this.settings.inertiaRatio*(c.x-l.x),y:c.y+this.settings.inertiaRatio*(c.y-l.y)},{duration:this.settings.inertiaDuration,easing:"quadraticOut"}):(this.lastMouseX!==o||this.lastMouseY!==u)&&n.setState({x:c.x,y:c.y}),this.isMoving=!1,setTimeout(function(){var d=a.draggedEvents>0;a.draggedEvents=0,d&&a.renderer.getSetting("hideEdgesOnMove")&&a.renderer.refresh()},0),this.emit("mouseup",Ce(e,this.container))}}},{key:"handleMove",value:function(e){var a=this;if(this.enabled){var n=Ce(e,this.container);if(this.emit("mousemovebody",n),(e.target===this.container||e.composedPath()[0]===this.container)&&this.emit("mousemove",n),!n.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,typeof this.movingTimeout=="number"&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){a.movingTimeout=null,a.isMoving=!1},this.settings.dragTimeout);var r=this.renderer.getCamera(),o=ve(e,this.container),u=o.x,c=o.y,l=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),d=this.renderer.viewportToFramedGraph({x:u,y:c}),y=l.x-d.x,p=l.y-d.y,E=r.getState(),b=E.x+y,A=E.y+p;r.setState({x:b,y:A}),this.lastMouseX=u,this.lastMouseY=c,e.preventDefault(),e.stopPropagation()}}}},{key:"handleLeave",value:function(e){this.emit("mouseleave",Ce(e,this.container))}},{key:"handleEnter",value:function(e){this.emit("mouseenter",Ce(e,this.container))}},{key:"handleWheel",value:function(e){var a=this,n=this.renderer.getCamera();if(!(!this.enabled||!n.enabledZooming)){var r=la(e);if(r){var o=xs(e,this.container);if(this.emit("wheel",o),o.sigmaDefaultPrevented){e.preventDefault(),e.stopPropagation();return}var u=n.getState().ratio,c=r>0?1/this.settings.zoomingRatio:this.settings.zoomingRatio,l=n.getBoundedRatio(u*c),d=r>0?1:-1,y=Date.now();u!==l&&(e.preventDefault(),e.stopPropagation(),!(this.currentWheelDirection===d&&this.lastWheelTriggerTime&&y-this.lastWheelTriggerTime<this.settings.zoomDuration/5)&&(n.animate(this.renderer.getViewportZoomedState(ve(e,this.container),l),{easing:"quadraticOut",duration:this.settings.zoomDuration},function(){a.currentWheelDirection=0}),this.currentWheelDirection=d,this.lastWheelTriggerTime=y))}}}},{key:"setSettings",value:function(e){this.settings=e}}])}(da),zs=["dragTimeout","inertiaDuration","inertiaRatio","doubleClickTimeout","doubleClickZoomingRatio","doubleClickZoomingDuration","tapMoveTolerance"],$s=zs.reduce(function(s,i){return I(I({},s),{},D({},i,Kt[i]))},{}),Hs=function(s){function i(t,e){var a;return se(this,i),a=he(this,i,[t,e]),D(a,"enabled",!0),D(a,"isMoving",!1),D(a,"hasMoved",!1),D(a,"touchMode",0),D(a,"startTouchesPositions",[]),D(a,"lastTouches",[]),D(a,"lastTap",null),D(a,"settings",$s),a.handleStart=a.handleStart.bind(a),a.handleLeave=a.handleLeave.bind(a),a.handleMove=a.handleMove.bind(a),t.addEventListener("touchstart",a.handleStart,{capture:!1}),t.addEventListener("touchcancel",a.handleLeave,{capture:!1}),document.addEventListener("touchend",a.handleLeave,{capture:!1,passive:!1}),document.addEventListener("touchmove",a.handleMove,{capture:!1,passive:!1}),a}return ye(i,s),ne(i,[{key:"kill",value:function(){var e=this.container;e.removeEventListener("touchstart",this.handleStart),e.removeEventListener("touchcancel",this.handleLeave),document.removeEventListener("touchend",this.handleLeave),document.removeEventListener("touchmove",this.handleMove)}},{key:"getDimensions",value:function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}}},{key:"handleStart",value:function(e){var a=this;if(this.enabled){e.preventDefault();var n=ht(e.touches);if(this.touchMode=n.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=n.map(function(p){return ve(p,a.container)}),this.touchMode===2){var r=Ue(this.startTouchesPositions,2),o=r[0],u=o.x,c=o.y,l=r[1],d=l.x,y=l.y;this.startTouchesAngle=Math.atan2(y-c,d-u),this.startTouchesDistance=Math.sqrt(Math.pow(d-u,2)+Math.pow(y-c,2))}this.emit("touchdown",Ke(e,this.lastTouches,this.container)),this.lastTouches=n,this.lastTouchesPositions=this.startTouchesPositions}}},{key:"handleLeave",value:function(e){if(!(!this.enabled||!this.startTouchesPositions.length)){switch(e.cancelable&&e.preventDefault(),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(e.touches.length===1){this.handleStart(e),e.preventDefault();break}case 1:if(this.isMoving){var a=this.renderer.getCamera(),n=a.getState(),r=a.getPreviousState()||{x:0,y:0};a.animate({x:n.x+this.settings.inertiaRatio*(n.x-r.x),y:n.y+this.settings.inertiaRatio*(n.y-r.y)},{duration:this.settings.inertiaDuration,easing:"quadraticOut"})}this.hasMoved=!1,this.isMoving=!1,this.touchMode=0;break}if(this.emit("touchup",Ke(e,this.lastTouches,this.container)),!e.touches.length){var o=ve(this.lastTouches[0],this.container),u=this.startTouchesPositions[0],c=Math.pow(o.x-u.x,2)+Math.pow(o.y-u.y,2);if(!e.touches.length&&c<Math.pow(this.settings.tapMoveTolerance,2))if(this.lastTap&&Date.now()-this.lastTap.time<this.settings.doubleClickTimeout){var l=Ke(e,this.lastTouches,this.container);if(this.emit("doubletap",l),this.lastTap=null,!l.sigmaDefaultPrevented){var d=this.renderer.getCamera(),y=d.getBoundedRatio(d.getState().ratio/this.settings.doubleClickZoomingRatio);d.animate(this.renderer.getViewportZoomedState(o,y),{easing:"quadraticInOut",duration:this.settings.doubleClickZoomingDuration})}}else{var p=Ke(e,this.lastTouches,this.container);this.emit("tap",p),this.lastTap={time:Date.now(),position:p.touches[0]||p.previousTouches[0]}}}this.lastTouches=ht(e.touches),this.startTouchesPositions=[]}}},{key:"handleMove",value:function(e){var a=this;if(!(!this.enabled||!this.startTouchesPositions.length)){e.preventDefault();var n=ht(e.touches),r=n.map(function(Y){return ve(Y,a.container)}),o=this.lastTouches;this.lastTouches=n,this.lastTouchesPositions=r;var u=Ke(e,o,this.container);if(this.emit("touchmove",u),!u.sigmaDefaultPrevented&&(this.hasMoved||(this.hasMoved=r.some(function(Y,V){var x=a.startTouchesPositions[V];return x&&(Y.x!==x.x||Y.y!==x.y)})),!!this.hasMoved)){this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){a.isMoving=!1},this.settings.dragTimeout);var c=this.renderer.getCamera(),l=this.startCameraState,d=this.renderer.getSetting("stagePadding");switch(this.touchMode){case 1:{var y=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),p=y.x,E=y.y,b=this.renderer.viewportToFramedGraph(r[0]),A=b.x,F=b.y;c.setState({x:l.x+p-A,y:l.y+E-F});break}case 2:{var R={x:.5,y:.5,angle:0,ratio:1},L=r[0],M=L.x,S=L.y,B=r[1],h=B.x,_=B.y,g=Math.atan2(_-S,h-M)-this.startTouchesAngle,v=Math.hypot(_-S,h-M)/this.startTouchesDistance,P=c.getBoundedRatio(l.ratio/v);R.ratio=P,R.angle=l.angle+g;var T=this.getDimensions(),f=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:l}),H=Math.min(T.width,T.height)-2*d,j=H/T.width,C=H/T.height,m=P/H,U=M-H/2/j,$=S-H/2/C,K=[U*Math.cos(-R.angle)-$*Math.sin(-R.angle),$*Math.cos(-R.angle)+U*Math.sin(-R.angle)];U=K[0],$=K[1],R.x=f.x-U*m,R.y=f.y+$*m,c.setState(R);break}}}}}},{key:"setSettings",value:function(e){this.settings=e}}])}(da);function js(s){if(Array.isArray(s))return $t(s)}function Ws(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function Js(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _i(s){return js(s)||Ws(s)||qi(s)||Js()}function qs(s,i){if(s==null)return{};var t={};for(var e in s)if({}.hasOwnProperty.call(s,e)){if(i.indexOf(e)!==-1)continue;t[e]=s[e]}return t}function wt(s,i){if(s==null)return{};var t,e,a=qs(s,i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);for(e=0;e<n.length;e++)t=n[e],i.indexOf(t)===-1&&{}.propertyIsEnumerable.call(s,t)&&(a[t]=s[t])}return a}var Ei=function(){function s(i,t){se(this,s),this.key=i,this.size=t}return ne(s,null,[{key:"compare",value:function(t,e){return t.size>e.size?-1:t.size<e.size||t.key>e.key?1:-1}}])}(),bi=function(){function s(){se(this,s),D(this,"width",0),D(this,"height",0),D(this,"cellSize",0),D(this,"columns",0),D(this,"rows",0),D(this,"cells",{})}return ne(s,[{key:"resizeAndClear",value:function(t,e){this.width=t.width,this.height=t.height,this.cellSize=e,this.columns=Math.ceil(t.width/e),this.rows=Math.ceil(t.height/e),this.cells={}}},{key:"getIndex",value:function(t){var e=Math.floor(t.x/this.cellSize),a=Math.floor(t.y/this.cellSize);return a*this.columns+e}},{key:"add",value:function(t,e,a){var n=new Ei(t,e),r=this.getIndex(a),o=this.cells[r];o||(o=[],this.cells[r]=o),o.push(n)}},{key:"organize",value:function(){for(var t in this.cells){var e=this.cells[t];e.sort(Ei.compare)}}},{key:"getLabelsToDisplay",value:function(t,e){var a=this.cellSize*this.cellSize,n=a/t/t,r=n*e/a,o=Math.ceil(r),u=[];for(var c in this.cells)for(var l=this.cells[c],d=0;d<Math.min(o,l.length);d++)u.push(l[d].key);return u}}])}();function Vs(s){var i=s.graph,t=s.hoveredNode,e=s.highlightedNodes,a=s.displayedNodeLabels,n=[];return i.forEachEdge(function(r,o,u,c){(u===t||c===t||e.has(u)||e.has(c)||a.has(u)&&a.has(c))&&n.push(r)}),n}var Ks=150,Zs=50,Pe=Object.prototype.hasOwnProperty;function Ys(s,i,t){if(!Pe.call(t,"x")||!Pe.call(t,"y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(i,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return t.color||(t.color=s.defaultNodeColor),!t.label&&t.label!==""&&(t.label=null),t.label!==void 0&&t.label!==null?t.label=""+t.label:t.label=null,t.size||(t.size=2),Pe.call(t,"hidden")||(t.hidden=!1),Pe.call(t,"highlighted")||(t.highlighted=!1),Pe.call(t,"forceLabel")||(t.forceLabel=!1),(!t.type||t.type==="")&&(t.type=s.defaultNodeType),t.zIndex||(t.zIndex=0),t}function Xs(s,i,t){return t.color||(t.color=s.defaultEdgeColor),t.label||(t.label=""),t.size||(t.size=.5),Pe.call(t,"hidden")||(t.hidden=!1),Pe.call(t,"forceLabel")||(t.forceLabel=!1),(!t.type||t.type==="")&&(t.type=s.defaultEdgeType),t.zIndex||(t.zIndex=0),t}var Qs=function(s){function i(t,e){var a,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(se(this,i),a=he(this,i),D(a,"elements",{}),D(a,"canvasContexts",{}),D(a,"webGLContexts",{}),D(a,"pickingLayers",new Set),D(a,"textures",{}),D(a,"frameBuffers",{}),D(a,"activeListeners",{}),D(a,"labelGrid",new bi),D(a,"nodeDataCache",{}),D(a,"edgeDataCache",{}),D(a,"nodeProgramIndex",{}),D(a,"edgeProgramIndex",{}),D(a,"nodesWithForcedLabels",new Set),D(a,"edgesWithForcedLabels",new Set),D(a,"nodeExtent",{x:[0,1],y:[0,1]}),D(a,"nodeZExtent",[1/0,-1/0]),D(a,"edgeZExtent",[1/0,-1/0]),D(a,"matrix",me()),D(a,"invMatrix",me()),D(a,"correctionRatio",1),D(a,"customBBox",null),D(a,"normalizationFunction",mi({x:[0,1],y:[0,1]})),D(a,"graphToViewportRatio",1),D(a,"itemIDsIndex",{}),D(a,"nodeIndices",{}),D(a,"edgeIndices",{}),D(a,"width",0),D(a,"height",0),D(a,"pixelRatio",pi()),D(a,"pickingDownSizingRatio",2*a.pixelRatio),D(a,"displayedNodeLabels",new Set),D(a,"displayedEdgeLabels",new Set),D(a,"highlightedNodes",new Set),D(a,"hoveredNode",null),D(a,"hoveredEdge",null),D(a,"renderFrame",null),D(a,"renderHighlightedNodesFrame",null),D(a,"needToProcess",!1),D(a,"checkEdgesEventsFrame",null),D(a,"nodePrograms",{}),D(a,"nodeHoverPrograms",{}),D(a,"edgePrograms",{}),a.settings=ks(n),St(a.settings),Bs(t),!(e instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");a.graph=t,a.container=e,a.createWebGLContext("edges",{picking:n.enableEdgeEvents}),a.createCanvasContext("edgeLabels"),a.createWebGLContext("nodes",{picking:!0}),a.createCanvasContext("labels"),a.createCanvasContext("hovers"),a.createWebGLContext("hoverNodes"),a.createCanvasContext("mouse",{style:{touchAction:"none",userSelect:"none"}}),a.resize();for(var r in a.settings.nodeProgramClasses)a.registerNodeProgram(r,a.settings.nodeProgramClasses[r],a.settings.nodeHoverProgramClasses[r]);for(var o in a.settings.edgeProgramClasses)a.registerEdgeProgram(o,a.settings.edgeProgramClasses[o]);return a.camera=new Mi,a.bindCameraHandlers(),a.mouseCaptor=new Us(a.elements.mouse,a),a.mouseCaptor.setSettings(a.settings),a.touchCaptor=new Hs(a.elements.mouse,a),a.touchCaptor.setSettings(a.settings),a.bindEventHandlers(),a.bindGraphHandlers(),a.handleSettingsUpdate(),a.refresh(),a}return ye(i,s),ne(i,[{key:"registerNodeProgram",value:function(e,a,n){return this.nodePrograms[e]&&this.nodePrograms[e].kill(),this.nodeHoverPrograms[e]&&this.nodeHoverPrograms[e].kill(),this.nodePrograms[e]=new a(this.webGLContexts.nodes,this.frameBuffers.nodes,this),this.nodeHoverPrograms[e]=new(n||a)(this.webGLContexts.hoverNodes,null,this),this}},{key:"registerEdgeProgram",value:function(e,a){return this.edgePrograms[e]&&this.edgePrograms[e].kill(),this.edgePrograms[e]=new a(this.webGLContexts.edges,this.frameBuffers.edges,this),this}},{key:"unregisterNodeProgram",value:function(e){if(this.nodePrograms[e]){var a=this.nodePrograms,n=a[e],r=wt(a,[e].map(Qe));n.kill(),this.nodePrograms=r}if(this.nodeHoverPrograms[e]){var o=this.nodeHoverPrograms,u=o[e],c=wt(o,[e].map(Qe));u.kill(),this.nodePrograms=c}return this}},{key:"unregisterEdgeProgram",value:function(e){if(this.edgePrograms[e]){var a=this.edgePrograms,n=a[e],r=wt(a,[e].map(Qe));n.kill(),this.edgePrograms=r}return this}},{key:"resetWebGLTexture",value:function(e){var a=this.webGLContexts[e],n=this.frameBuffers[e],r=this.textures[e];r&&a.deleteTexture(r);var o=a.createTexture();return a.bindFramebuffer(a.FRAMEBUFFER,n),a.bindTexture(a.TEXTURE_2D,o),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.width,this.height,0,a.RGBA,a.UNSIGNED_BYTE,null),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,o,0),this.textures[e]=o,this}},{key:"bindCameraHandlers",value:function(){var e=this;return this.activeListeners.camera=function(){e.scheduleRender()},this.camera.on("updated",this.activeListeners.camera),this}},{key:"unbindCameraHandlers",value:function(){return this.camera.removeListener("updated",this.activeListeners.camera),this}},{key:"getNodeAtPosition",value:function(e){var a=e.x,n=e.y,r=ai(this.webGLContexts.nodes,this.frameBuffers.nodes,a,n,this.pixelRatio,this.pickingDownSizingRatio),o=ii.apply(void 0,_i(r)),u=this.itemIDsIndex[o];return u&&u.type==="node"?u.id:null}},{key:"bindEventHandlers",value:function(){var e=this;this.activeListeners.handleResize=function(){e.scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(n){var r=Ve(n),o={event:r,preventSigmaDefault:function(){r.preventSigmaDefault()}},u=e.getNodeAtPosition(r);if(u&&e.hoveredNode!==u&&!e.nodeDataCache[u].hidden){e.hoveredNode&&e.emit("leaveNode",I(I({},o),{},{node:e.hoveredNode})),e.hoveredNode=u,e.emit("enterNode",I(I({},o),{},{node:u})),e.scheduleHighlightedNodesRender();return}if(e.hoveredNode&&e.getNodeAtPosition(r)!==e.hoveredNode){var c=e.hoveredNode;e.hoveredNode=null,e.emit("leaveNode",I(I({},o),{},{node:c})),e.scheduleHighlightedNodesRender();return}if(e.settings.enableEdgeEvents){var l=e.hoveredNode?null:e.getEdgeAtPoint(o.event.x,o.event.y);l!==e.hoveredEdge&&(e.hoveredEdge&&e.emit("leaveEdge",I(I({},o),{},{edge:e.hoveredEdge})),l&&e.emit("enterEdge",I(I({},o),{},{edge:l})),e.hoveredEdge=l)}},this.activeListeners.handleMoveBody=function(n){var r=Ve(n);e.emit("moveBody",{event:r,preventSigmaDefault:function(){r.preventSigmaDefault()}})},this.activeListeners.handleLeave=function(n){var r=Ve(n),o={event:r,preventSigmaDefault:function(){r.preventSigmaDefault()}};e.hoveredNode&&(e.emit("leaveNode",I(I({},o),{},{node:e.hoveredNode})),e.scheduleHighlightedNodesRender()),e.settings.enableEdgeEvents&&e.hoveredEdge&&(e.emit("leaveEdge",I(I({},o),{},{edge:e.hoveredEdge})),e.scheduleHighlightedNodesRender()),e.emit("leaveStage",I({},o))},this.activeListeners.handleEnter=function(n){var r=Ve(n),o={event:r,preventSigmaDefault:function(){r.preventSigmaDefault()}};e.emit("enterStage",I({},o))};var a=function(r){return function(o){var u=Ve(o),c={event:u,preventSigmaDefault:function(){u.preventSigmaDefault()}},l=e.getNodeAtPosition(u);if(l)return e.emit("".concat(r,"Node"),I(I({},c),{},{node:l}));if(e.settings.enableEdgeEvents){var d=e.getEdgeAtPoint(u.x,u.y);if(d)return e.emit("".concat(r,"Edge"),I(I({},c),{},{edge:d}))}return e.emit("".concat(r,"Stage"),c)}};return this.activeListeners.handleClick=a("click"),this.activeListeners.handleRightClick=a("rightClick"),this.activeListeners.handleDoubleClick=a("doubleClick"),this.activeListeners.handleWheel=a("wheel"),this.activeListeners.handleDown=a("down"),this.activeListeners.handleUp=a("up"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("mousemovebody",this.activeListeners.handleMoveBody),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this.mouseCaptor.on("mouseup",this.activeListeners.handleUp),this.mouseCaptor.on("mouseleave",this.activeListeners.handleLeave),this.mouseCaptor.on("mouseenter",this.activeListeners.handleEnter),this.touchCaptor.on("touchdown",this.activeListeners.handleDown),this.touchCaptor.on("touchdown",this.activeListeners.handleMove),this.touchCaptor.on("touchup",this.activeListeners.handleUp),this.touchCaptor.on("touchmove",this.activeListeners.handleMove),this.touchCaptor.on("tap",this.activeListeners.handleClick),this.touchCaptor.on("doubletap",this.activeListeners.handleDoubleClick),this.touchCaptor.on("touchmove",this.activeListeners.handleMoveBody),this}},{key:"bindGraphHandlers",value:function(){var e=this,a=this.graph,n=new Set(["x","y","zIndex","type"]);return this.activeListeners.eachNodeAttributesUpdatedGraphUpdate=function(r){var o,u=(o=r.hints)===null||o===void 0?void 0:o.attributes;e.graph.forEachNode(function(l){return e.updateNode(l)});var c=!u||u.some(function(l){return n.has(l)});e.refresh({partialGraph:{nodes:a.nodes()},skipIndexation:!c,schedule:!0})},this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate=function(r){var o,u=(o=r.hints)===null||o===void 0?void 0:o.attributes;e.graph.forEachEdge(function(l){return e.updateEdge(l)});var c=u&&["zIndex","type"].some(function(l){return u==null?void 0:u.includes(l)});e.refresh({partialGraph:{edges:a.edges()},skipIndexation:!c,schedule:!0})},this.activeListeners.addNodeGraphUpdate=function(r){var o=r.key;e.addNode(o),e.refresh({partialGraph:{nodes:[o]},skipIndexation:!1,schedule:!0})},this.activeListeners.updateNodeGraphUpdate=function(r){var o=r.key;e.refresh({partialGraph:{nodes:[o]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropNodeGraphUpdate=function(r){var o=r.key;e.removeNode(o),e.refresh({schedule:!0})},this.activeListeners.addEdgeGraphUpdate=function(r){var o=r.key;e.addEdge(o),e.refresh({partialGraph:{edges:[o]},schedule:!0})},this.activeListeners.updateEdgeGraphUpdate=function(r){var o=r.key;e.refresh({partialGraph:{edges:[o]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropEdgeGraphUpdate=function(r){var o=r.key;e.removeEdge(o),e.refresh({schedule:!0})},this.activeListeners.clearEdgesGraphUpdate=function(){e.clearEdgeState(),e.clearEdgeIndices(),e.refresh({schedule:!0})},this.activeListeners.clearGraphUpdate=function(){e.clearEdgeState(),e.clearNodeState(),e.clearEdgeIndices(),e.clearNodeIndices(),e.refresh({schedule:!0})},a.on("nodeAdded",this.activeListeners.addNodeGraphUpdate),a.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),a.on("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),a.on("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),a.on("edgeAdded",this.activeListeners.addEdgeGraphUpdate),a.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),a.on("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),a.on("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),a.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),a.on("cleared",this.activeListeners.clearGraphUpdate),this}},{key:"unbindGraphHandlers",value:function(){var e=this.graph;e.removeListener("nodeAdded",this.activeListeners.addNodeGraphUpdate),e.removeListener("nodeDropped",this.activeListeners.dropNodeGraphUpdate),e.removeListener("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),e.removeListener("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),e.removeListener("edgeAdded",this.activeListeners.addEdgeGraphUpdate),e.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),e.removeListener("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),e.removeListener("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),e.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),e.removeListener("cleared",this.activeListeners.clearGraphUpdate)}},{key:"getEdgeAtPoint",value:function(e,a){var n=ai(this.webGLContexts.edges,this.frameBuffers.edges,e,a,this.pixelRatio,this.pickingDownSizingRatio),r=ii.apply(void 0,_i(n)),o=this.itemIDsIndex[r];return o&&o.type==="edge"?o.id:null}},{key:"process",value:function(){var e=this;this.emit("beforeProcess");var a=this.graph,n=this.settings,r=this.getDimensions();if(this.nodeExtent=Ls(this.graph),!this.settings.autoRescale){var o=r.width,u=r.height,c=this.nodeExtent,l=c.x,d=c.y;this.nodeExtent={x:[(l[0]+l[1])/2-o/2,(l[0]+l[1])/2+o/2],y:[(d[0]+d[1])/2-u/2,(d[0]+d[1])/2+u/2]}}this.normalizationFunction=mi(this.customBBox||this.nodeExtent);var y=new Mi,p=qe(y.getState(),r,this.getGraphDimensions(),this.getStagePadding());this.labelGrid.resizeAndClear(r,n.labelGridCellSize);for(var E={},b={},A={},F={},R=1,L=a.nodes(),M=0,S=L.length;M<S;M++){var B=L[M],h=this.nodeDataCache[B],_=a.getNodeAttributes(B);h.x=_.x,h.y=_.y,this.normalizationFunction.applyTo(h),typeof h.label=="string"&&!h.hidden&&this.labelGrid.add(B,h.size,this.framedGraphToViewport(h,{matrix:p})),E[h.type]=(E[h.type]||0)+1}this.labelGrid.organize();for(var g in this.nodePrograms){if(!Pe.call(this.nodePrograms,g))throw new Error('Sigma: could not find a suitable program for node type "'.concat(g,'"!'));this.nodePrograms[g].reallocate(E[g]||0),E[g]=0}this.settings.zIndex&&this.nodeZExtent[0]!==this.nodeZExtent[1]&&(L=gi(this.nodeZExtent,function(Q){return e.nodeDataCache[Q].zIndex},L));for(var v=0,P=L.length;v<P;v++){var T=L[v];b[T]=R,F[b[T]]={type:"node",id:T},R++;var f=this.nodeDataCache[T];this.addNodeToProgram(T,b[T],E[f.type]++)}for(var H={},j=a.edges(),C=0,m=j.length;C<m;C++){var U=j[C],$=this.edgeDataCache[U];H[$.type]=(H[$.type]||0)+1}this.settings.zIndex&&this.edgeZExtent[0]!==this.edgeZExtent[1]&&(j=gi(this.edgeZExtent,function(Q){return e.edgeDataCache[Q].zIndex},j));for(var K in this.edgePrograms){if(!Pe.call(this.edgePrograms,K))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(K,'"!'));this.edgePrograms[K].reallocate(H[K]||0),H[K]=0}for(var Y=0,V=j.length;Y<V;Y++){var x=j[Y];A[x]=R,F[A[x]]={type:"edge",id:x},R++;var re=this.edgeDataCache[x];this.addEdgeToProgram(x,A[x],H[re.type]++)}return this.itemIDsIndex=F,this.nodeIndices=b,this.edgeIndices=A,this.emit("afterProcess"),this}},{key:"handleSettingsUpdate",value:function(e){var a=this,n=this.settings;if(this.camera.minRatio=n.minCameraRatio,this.camera.maxRatio=n.maxCameraRatio,this.camera.enabledZooming=n.enableCameraZooming,this.camera.enabledPanning=n.enableCameraPanning,this.camera.enabledRotation=n.enableCameraRotation,n.cameraPanBoundaries?this.camera.clean=function(l){return a.cleanCameraState(l,n.cameraPanBoundaries&&Wt(n.cameraPanBoundaries)==="object"?n.cameraPanBoundaries:{})}:this.camera.clean=null,this.camera.setState(this.camera.validateState(this.camera.getState())),e){if(e.edgeProgramClasses!==n.edgeProgramClasses){for(var r in n.edgeProgramClasses)n.edgeProgramClasses[r]!==e.edgeProgramClasses[r]&&this.registerEdgeProgram(r,n.edgeProgramClasses[r]);for(var o in e.edgeProgramClasses)n.edgeProgramClasses[o]||this.unregisterEdgeProgram(o)}if(e.nodeProgramClasses!==n.nodeProgramClasses||e.nodeHoverProgramClasses!==n.nodeHoverProgramClasses){for(var u in n.nodeProgramClasses)(n.nodeProgramClasses[u]!==e.nodeProgramClasses[u]||n.nodeHoverProgramClasses[u]!==e.nodeHoverProgramClasses[u])&&this.registerNodeProgram(u,n.nodeProgramClasses[u],n.nodeHoverProgramClasses[u]);for(var c in e.nodeProgramClasses)n.nodeProgramClasses[c]||this.unregisterNodeProgram(c)}}return this.mouseCaptor.setSettings(this.settings),this.touchCaptor.setSettings(this.settings),this}},{key:"cleanCameraState",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=a.tolerance,r=n===void 0?0:n,o=a.boundaries,u=I({},e),c=o||this.nodeExtent,l=Ue(c.x,2),d=l[0],y=l[1],p=Ue(c.y,2),E=p[0],b=p[1],A=[this.graphToViewport({x:d,y:E},{cameraState:e}),this.graphToViewport({x:y,y:E},{cameraState:e}),this.graphToViewport({x:d,y:b},{cameraState:e}),this.graphToViewport({x:y,y:b},{cameraState:e})],F=1/0,R=-1/0,L=1/0,M=-1/0;A.forEach(function(H){var j=H.x,C=H.y;F=Math.min(F,j),R=Math.max(R,j),L=Math.min(L,C),M=Math.max(M,C)});var S=R-F,B=M-L,h=this.getDimensions(),_=h.width,g=h.height,v=0,P=0;if(S>=_?R<_-r?v=R-(_-r):F>r&&(v=F-r):R>_+r?v=R-(_+r):F<-r&&(v=F+r),B>=g?M<g-r?P=M-(g-r):L>r&&(P=L-r):M>g+r?P=M-(g+r):L<-r&&(P=L+r),v||P){var T=this.viewportToFramedGraph({x:0,y:0},{cameraState:e}),f=this.viewportToFramedGraph({x:v,y:P},{cameraState:e});v=f.x-T.x,P=f.y-T.y,u.x+=v,u.y+=P}return u}},{key:"renderLabels",value:function(){if(!this.settings.renderLabels)return this;var e=this.camera.getState(),a=this.labelGrid.getLabelsToDisplay(e.ratio,this.settings.labelDensity);vi(a,this.nodesWithForcedLabels),this.displayedNodeLabels=new Set;for(var n=this.canvasContexts.labels,r=0,o=a.length;r<o;r++){var u=a[r],c=this.nodeDataCache[u];if(!this.displayedNodeLabels.has(u)&&!c.hidden){var l=this.framedGraphToViewport(c),d=l.x,y=l.y,p=this.scaleSize(c.size);if(!(!c.forceLabel&&p<this.settings.labelRenderedSizeThreshold)&&!(d<-150||d>this.width+Ks||y<-50||y>this.height+Zs)){this.displayedNodeLabels.add(u);var E=this.settings.defaultDrawNodeLabel,b=this.nodePrograms[c.type],A=(b==null?void 0:b.drawLabel)||E;A(n,I(I({key:u},c),{},{size:p,x:d,y}),this.settings)}}}return this}},{key:"renderEdgeLabels",value:function(){if(!this.settings.renderEdgeLabels)return this;var e=this.canvasContexts.edgeLabels;e.clearRect(0,0,this.width,this.height);var a=Vs({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedNodeLabels,highlightedNodes:this.highlightedNodes});vi(a,this.edgesWithForcedLabels);for(var n=new Set,r=0,o=a.length;r<o;r++){var u=a[r],c=this.graph.extremities(u),l=this.nodeDataCache[c[0]],d=this.nodeDataCache[c[1]],y=this.edgeDataCache[u];if(!n.has(u)&&!(y.hidden||l.hidden||d.hidden)){var p=this.settings.defaultDrawEdgeLabel,E=this.edgePrograms[y.type],b=(E==null?void 0:E.drawLabel)||p;b(e,I(I({key:u},y),{},{size:this.scaleSize(y.size)}),I(I(I({key:c[0]},l),this.framedGraphToViewport(l)),{},{size:this.scaleSize(l.size)}),I(I(I({key:c[1]},d),this.framedGraphToViewport(d)),{},{size:this.scaleSize(d.size)}),this.settings),n.add(u)}}return this.displayedEdgeLabels=n,this}},{key:"renderHighlightedNodes",value:function(){var e=this,a=this.canvasContexts.hovers;a.clearRect(0,0,this.width,this.height);var n=function(p){var E=e.nodeDataCache[p],b=e.framedGraphToViewport(E),A=b.x,F=b.y,R=e.scaleSize(E.size),L=e.settings.defaultDrawNodeHover,M=e.nodePrograms[E.type],S=(M==null?void 0:M.drawHover)||L;S(a,I(I({key:p},E),{},{size:R,x:A,y:F}),e.settings)},r=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&r.push(this.hoveredNode),this.highlightedNodes.forEach(function(y){y!==e.hoveredNode&&r.push(y)}),r.forEach(function(y){return n(y)});var o={};r.forEach(function(y){var p=e.nodeDataCache[y].type;o[p]=(o[p]||0)+1});for(var u in this.nodeHoverPrograms)this.nodeHoverPrograms[u].reallocate(o[u]||0),o[u]=0;r.forEach(function(y){var p=e.nodeDataCache[y];e.nodeHoverPrograms[p.type].process(0,o[p.type]++,p)}),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);var c=this.getRenderParams();for(var l in this.nodeHoverPrograms){var d=this.nodeHoverPrograms[l];d.render(c)}}},{key:"scheduleHighlightedNodesRender",value:function(){var e=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=requestAnimationFrame(function(){e.renderHighlightedNodesFrame=null,e.renderHighlightedNodes(),e.renderEdgeLabels()}))}},{key:"render",value:function(){var e=this;this.emit("beforeRender");var a=function(){return e.emit("afterRender"),e};if(this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.resize(),this.needToProcess&&this.process(),this.needToProcess=!1,this.clear(),this.pickingLayers.forEach(function(A){return e.resetWebGLTexture(A)}),!this.graph.order)return a();var n=this.mouseCaptor,r=this.camera.isAnimated()||n.isMoving||n.draggedEvents||n.currentWheelDirection,o=this.camera.getState(),u=this.getDimensions(),c=this.getGraphDimensions(),l=this.getStagePadding();this.matrix=qe(o,u,c,l),this.invMatrix=qe(o,u,c,l,!0),this.correctionRatio=Rs(this.matrix,o,u),this.graphToViewportRatio=this.getGraphToViewportRatio();var d=this.getRenderParams();for(var y in this.nodePrograms){var p=this.nodePrograms[y];p.render(d)}if(!this.settings.hideEdgesOnMove||!r)for(var E in this.edgePrograms){var b=this.edgePrograms[E];b.render(d)}return this.settings.hideLabelsOnMove&&r||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),a()}},{key:"addNode",value:function(e){var a=Object.assign({},this.graph.getNodeAttributes(e));this.settings.nodeReducer&&(a=this.settings.nodeReducer(e,a));var n=Ys(this.settings,e,a);this.nodeDataCache[e]=n,this.nodesWithForcedLabels.delete(e),n.forceLabel&&!n.hidden&&this.nodesWithForcedLabels.add(e),this.highlightedNodes.delete(e),n.highlighted&&!n.hidden&&this.highlightedNodes.add(e),this.settings.zIndex&&(n.zIndex<this.nodeZExtent[0]&&(this.nodeZExtent[0]=n.zIndex),n.zIndex>this.nodeZExtent[1]&&(this.nodeZExtent[1]=n.zIndex))}},{key:"updateNode",value:function(e){this.addNode(e);var a=this.nodeDataCache[e];this.normalizationFunction.applyTo(a)}},{key:"removeNode",value:function(e){delete this.nodeDataCache[e],delete this.nodeProgramIndex[e],this.highlightedNodes.delete(e),this.hoveredNode===e&&(this.hoveredNode=null),this.nodesWithForcedLabels.delete(e)}},{key:"addEdge",value:function(e){var a=Object.assign({},this.graph.getEdgeAttributes(e));this.settings.edgeReducer&&(a=this.settings.edgeReducer(e,a));var n=Xs(this.settings,e,a);this.edgeDataCache[e]=n,this.edgesWithForcedLabels.delete(e),n.forceLabel&&!n.hidden&&this.edgesWithForcedLabels.add(e),this.settings.zIndex&&(n.zIndex<this.edgeZExtent[0]&&(this.edgeZExtent[0]=n.zIndex),n.zIndex>this.edgeZExtent[1]&&(this.edgeZExtent[1]=n.zIndex))}},{key:"updateEdge",value:function(e){this.addEdge(e)}},{key:"removeEdge",value:function(e){delete this.edgeDataCache[e],delete this.edgeProgramIndex[e],this.hoveredEdge===e&&(this.hoveredEdge=null),this.edgesWithForcedLabels.delete(e)}},{key:"clearNodeIndices",value:function(){this.labelGrid=new bi,this.nodeExtent={x:[0,1],y:[0,1]},this.nodeDataCache={},this.edgeProgramIndex={},this.nodesWithForcedLabels=new Set,this.nodeZExtent=[1/0,-1/0],this.highlightedNodes=new Set}},{key:"clearEdgeIndices",value:function(){this.edgeDataCache={},this.edgeProgramIndex={},this.edgesWithForcedLabels=new Set,this.edgeZExtent=[1/0,-1/0]}},{key:"clearIndices",value:function(){this.clearEdgeIndices(),this.clearNodeIndices()}},{key:"clearNodeState",value:function(){this.displayedNodeLabels=new Set,this.highlightedNodes=new Set,this.hoveredNode=null}},{key:"clearEdgeState",value:function(){this.displayedEdgeLabels=new Set,this.highlightedNodes=new Set,this.hoveredEdge=null}},{key:"clearState",value:function(){this.clearEdgeState(),this.clearNodeState()}},{key:"addNodeToProgram",value:function(e,a,n){var r=this.nodeDataCache[e],o=this.nodePrograms[r.type];if(!o)throw new Error('Sigma: could not find a suitable program for node type "'.concat(r.type,'"!'));o.process(a,n,r),this.nodeProgramIndex[e]=n}},{key:"addEdgeToProgram",value:function(e,a,n){var r=this.edgeDataCache[e],o=this.edgePrograms[r.type];if(!o)throw new Error('Sigma: could not find a suitable program for edge type "'.concat(r.type,'"!'));var u=this.graph.extremities(e),c=this.nodeDataCache[u[0]],l=this.nodeDataCache[u[1]];o.process(a,n,c,l,r),this.edgeProgramIndex[e]=n}},{key:"getRenderParams",value:function(){return{matrix:this.matrix,invMatrix:this.invMatrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,zoomRatio:this.camera.ratio,cameraAngle:this.camera.angle,sizeRatio:1/this.scaleSize(),correctionRatio:this.correctionRatio,downSizingRatio:this.pickingDownSizingRatio,minEdgeThickness:this.settings.minEdgeThickness,antiAliasingFeather:this.settings.antiAliasingFeather}}},{key:"getStagePadding",value:function(){var e=this.settings,a=e.stagePadding,n=e.autoRescale;return n&&a||0}},{key:"createLayer",value:function(e,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.elements[e])throw new Error('Sigma: a layer named "'.concat(e,'" already exists'));var r=Ds(a,{position:"absolute"},{class:"sigma-".concat(e)});return n.style&&Object.assign(r.style,n.style),this.elements[e]=r,"beforeLayer"in n&&n.beforeLayer?this.elements[n.beforeLayer].before(r):"afterLayer"in n&&n.afterLayer?this.elements[n.afterLayer].after(r):this.container.appendChild(r),r}},{key:"createCanvas",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.createLayer(e,"canvas",a)}},{key:"createCanvasContext",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.createCanvas(e,a),r={preserveDrawingBuffer:!1,antialias:!1};return this.canvasContexts[e]=n.getContext("2d",r),this}},{key:"createWebGLContext",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=(a==null?void 0:a.canvas)||this.createCanvas(e,a);a.hidden&&n.remove();var r=I({preserveDrawingBuffer:!1,antialias:!1},a),o;o=n.getContext("webgl2",r),o||(o=n.getContext("webgl",r)),o||(o=n.getContext("experimental-webgl",r));var u=o;if(this.webGLContexts[e]=u,u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),a.picking){this.pickingLayers.add(e);var c=u.createFramebuffer();if(!c)throw new Error("Sigma: cannot create a new frame buffer for layer ".concat(e));this.frameBuffers[e]=c}return u}},{key:"killLayer",value:function(e){var a=this.elements[e];if(!a)throw new Error("Sigma: cannot kill layer ".concat(e,", which does not exist"));if(this.webGLContexts[e]){var n,r=this.webGLContexts[e];(n=r.getExtension("WEBGL_lose_context"))===null||n===void 0||n.loseContext(),delete this.webGLContexts[e]}else this.canvasContexts[e]&&delete this.canvasContexts[e];return a.remove(),delete this.elements[e],this}},{key:"getCamera",value:function(){return this.camera}},{key:"setCamera",value:function(e){this.unbindCameraHandlers(),this.camera=e,this.bindCameraHandlers()}},{key:"getContainer",value:function(){return this.container}},{key:"getGraph",value:function(){return this.graph}},{key:"setGraph",value:function(e){e!==this.graph&&(this.hoveredNode&&!e.hasNode(this.hoveredNode)&&(this.hoveredNode=null),this.hoveredEdge&&!e.hasEdge(this.hoveredEdge)&&(this.hoveredEdge=null),this.unbindGraphHandlers(),this.checkEdgesEventsFrame!==null&&(cancelAnimationFrame(this.checkEdgesEventsFrame),this.checkEdgesEventsFrame=null),this.graph=e,this.bindGraphHandlers(),this.refresh())}},{key:"getMouseCaptor",value:function(){return this.mouseCaptor}},{key:"getTouchCaptor",value:function(){return this.touchCaptor}},{key:"getDimensions",value:function(){return{width:this.width,height:this.height}}},{key:"getGraphDimensions",value:function(){var e=this.customBBox||this.nodeExtent;return{width:e.x[1]-e.x[0]||1,height:e.y[1]-e.y[0]||1}}},{key:"getNodeDisplayData",value:function(e){var a=this.nodeDataCache[e];return a?Object.assign({},a):void 0}},{key:"getEdgeDisplayData",value:function(e){var a=this.edgeDataCache[e];return a?Object.assign({},a):void 0}},{key:"getNodeDisplayedLabels",value:function(){return new Set(this.displayedNodeLabels)}},{key:"getEdgeDisplayedLabels",value:function(){return new Set(this.displayedEdgeLabels)}},{key:"getSettings",value:function(){return I({},this.settings)}},{key:"getSetting",value:function(e){return this.settings[e]}},{key:"setSetting",value:function(e,a){var n=I({},this.settings);return this.settings[e]=a,St(this.settings),this.handleSettingsUpdate(n),this.scheduleRefresh(),this}},{key:"updateSetting",value:function(e,a){return this.setSetting(e,a(this.settings[e])),this}},{key:"setSettings",value:function(e){var a=I({},this.settings);return this.settings=I(I({},this.settings),e),St(this.settings),this.handleSettingsUpdate(a),this.scheduleRefresh(),this}},{key:"resize",value:function(e){var a=this.width,n=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=pi(),this.width===0)if(this.settings.allowInvalidContainer)this.width=1;else throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(this.height===0)if(this.settings.allowInvalidContainer)this.height=1;else throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(!e&&a===this.width&&n===this.height)return this;for(var r in this.elements){var o=this.elements[r];o.style.width=this.width+"px",o.style.height=this.height+"px"}for(var u in this.canvasContexts)this.elements[u].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[u].setAttribute("height",this.height*this.pixelRatio+"px"),this.pixelRatio!==1&&this.canvasContexts[u].scale(this.pixelRatio,this.pixelRatio);for(var c in this.webGLContexts){this.elements[c].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[c].setAttribute("height",this.height*this.pixelRatio+"px");var l=this.webGLContexts[c];if(l.viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio),this.pickingLayers.has(c)){var d=this.textures[c];d&&l.deleteTexture(d)}}return this.emit("resize"),this}},{key:"clear",value:function(){return this.emit("beforeClear"),this.webGLContexts.nodes.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.nodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.edges.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.edges.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this.emit("afterClear"),this}},{key:"refresh",value:function(e){var a=this,n=(e==null?void 0:e.skipIndexation)!==void 0?e==null?void 0:e.skipIndexation:!1,r=(e==null?void 0:e.schedule)!==void 0?e.schedule:!1,o=!e||!e.partialGraph;if(o)this.clearEdgeIndices(),this.clearNodeIndices(),this.graph.forEachNode(function(M){return a.addNode(M)}),this.graph.forEachEdge(function(M){return a.addEdge(M)});else{for(var u,c,l=((u=e.partialGraph)===null||u===void 0?void 0:u.nodes)||[],d=0,y=(l==null?void 0:l.length)||0;d<y;d++){var p=l[d];if(this.updateNode(p),n){var E=this.nodeProgramIndex[p];if(E===void 0)throw new Error('Sigma: node "'.concat(p,`" can't be repaint`));this.addNodeToProgram(p,this.nodeIndices[p],E)}}for(var b=(e==null||(c=e.partialGraph)===null||c===void 0?void 0:c.edges)||[],A=0,F=b.length;A<F;A++){var R=b[A];if(this.updateEdge(R),n){var L=this.edgeProgramIndex[R];if(L===void 0)throw new Error('Sigma: edge "'.concat(R,`" can't be repaint`));this.addEdgeToProgram(R,this.edgeIndices[R],L)}}}return(o||!n)&&(this.needToProcess=!0),r?this.scheduleRender():this.render(),this}},{key:"scheduleRender",value:function(){var e=this;return this.renderFrame||(this.renderFrame=requestAnimationFrame(function(){e.render()})),this}},{key:"scheduleRefresh",value:function(e){return this.refresh(I(I({},e),{},{schedule:!0}))}},{key:"getViewportZoomedState",value:function(e,a){var n=this.camera.getState(),r=n.ratio,o=n.angle,u=n.x,c=n.y,l=this.settings,d=l.minCameraRatio,y=l.maxCameraRatio;typeof y=="number"&&(a=Math.min(a,y)),typeof d=="number"&&(a=Math.max(a,d));var p=a/r,E={x:this.width/2,y:this.height/2},b=this.viewportToFramedGraph(e),A=this.viewportToFramedGraph(E);return{angle:o,x:(b.x-A.x)*(1-p)+u,y:(b.y-A.y)*(1-p)+c,ratio:a}}},{key:"viewRectangle",value:function(){var e=this.viewportToFramedGraph({x:0,y:0}),a=this.viewportToFramedGraph({x:this.width,y:0}),n=this.viewportToFramedGraph({x:0,y:this.height});return{x1:e.x,y1:e.y,x2:a.x,y2:a.y,height:a.y-n.y}}},{key:"framedGraphToViewport",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=!!a.cameraState||!!a.viewportDimensions||!!a.graphDimensions,r=a.matrix?a.matrix:n?qe(a.cameraState||this.camera.getState(),a.viewportDimensions||this.getDimensions(),a.graphDimensions||this.getGraphDimensions(),a.padding||this.getStagePadding()):this.matrix,o=jt(r,e);return{x:(1+o.x)*this.width/2,y:(1-o.y)*this.height/2}}},{key:"viewportToFramedGraph",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=!!a.cameraState||!!a.viewportDimensions||!a.graphDimensions,r=a.matrix?a.matrix:n?qe(a.cameraState||this.camera.getState(),a.viewportDimensions||this.getDimensions(),a.graphDimensions||this.getGraphDimensions(),a.padding||this.getStagePadding(),!0):this.invMatrix,o=jt(r,{x:e.x/this.width*2-1,y:1-e.y/this.height*2});return isNaN(o.x)&&(o.x=0),isNaN(o.y)&&(o.y=0),o}},{key:"viewportToGraph",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.normalizationFunction.inverse(this.viewportToFramedGraph(e,a))}},{key:"graphToViewport",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.framedGraphToViewport(this.normalizationFunction(e),a)}},{key:"getGraphToViewportRatio",value:function(){var e={x:0,y:0},a={x:1,y:1},n=Math.sqrt(Math.pow(e.x-a.x,2)+Math.pow(e.y-a.y,2)),r=this.graphToViewport(e),o=this.graphToViewport(a),u=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2));return u/n}},{key:"getBBox",value:function(){return this.nodeExtent}},{key:"getCustomBBox",value:function(){return this.customBBox}},{key:"setCustomBBox",value:function(e){return this.customBBox=e,this.scheduleRender(),this}},{key:"kill",value:function(){this.emit("kill"),this.removeAllListeners(),this.unbindCameraHandlers(),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),this.unbindGraphHandlers(),this.clearIndices(),this.clearState(),this.nodeDataCache={},this.edgeDataCache={},this.highlightedNodes.clear(),this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&(cancelAnimationFrame(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var e=this.container;e.firstChild;)e.removeChild(e.firstChild);for(var a in this.nodePrograms)this.nodePrograms[a].kill();for(var n in this.nodeHoverPrograms)this.nodeHoverPrograms[n].kill();for(var r in this.edgePrograms)this.edgePrograms[r].kill();this.nodePrograms={},this.nodeHoverPrograms={},this.edgePrograms={};for(var o in this.elements)this.killLayer(o);this.canvasContexts={},this.webGLContexts={},this.elements={}}},{key:"scaleSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.camera.ratio;return e/this.settings.zoomToSizeRatioFunction(a)*(this.getSetting("itemSizesReference")==="positions"?a*this.graphToViewportRatio:1)}},{key:"getCanvases",value:function(){var e={};for(var a in this.elements)this.elements[a]instanceof HTMLCanvasElement&&(e[a]=this.elements[a]);return e}}])}(Vt),en=Qs;function tn(){const s=arguments[0];for(let i=1,t=arguments.length;i<t;i++)if(arguments[i])for(const e in arguments[i])s[e]=arguments[i][e];return s}let ee=tn;typeof Object.assign=="function"&&(ee=Object.assign);function le(s,i,t,e){const a=s._nodes.get(i);let n=null;return a&&(e==="mixed"?n=a.out&&a.out[t]||a.undirected&&a.undirected[t]:e==="directed"?n=a.out&&a.out[t]:n=a.undirected&&a.undirected[t]),n}function ie(s){return typeof s=="object"&&s!==null}function ha(s){let i;for(i in s)return!1;return!0}function ce(s,i,t){Object.defineProperty(s,i,{enumerable:!1,configurable:!1,writable:!0,value:t})}function ge(s,i,t){const e={enumerable:!0,configurable:!0};typeof t=="function"?e.get=t:(e.value=t,e.writable=!1),Object.defineProperty(s,i,e)}function Si(s){return!(!ie(s)||s.attributes&&!Array.isArray(s.attributes))}function an(){let s=Math.floor(Math.random()*256)&255;return()=>s++}function Ae(){const s=arguments;let i=null,t=-1;return{[Symbol.iterator](){return this},next(){let e=null;do{if(i===null){if(t++,t>=s.length)return{done:!0};i=s[t][Symbol.iterator]()}if(e=i.next(),e.done){i=null;continue}break}while(!0);return e}}}function $e(){return{[Symbol.iterator](){return this},next(){return{done:!0}}}}class Zt extends Error{constructor(i){super(),this.name="GraphError",this.message=i}}class k extends Zt{constructor(i){super(i),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,k.prototype.constructor)}}class G extends Zt{constructor(i){super(i),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,G.prototype.constructor)}}class z extends Zt{constructor(i){super(i),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,z.prototype.constructor)}}function ya(s,i){this.key=s,this.attributes=i,this.clear()}ya.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function fa(s,i){this.key=s,this.attributes=i,this.clear()}fa.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function pa(s,i){this.key=s,this.attributes=i,this.clear()}pa.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function He(s,i,t,e,a){this.key=i,this.attributes=a,this.undirected=s,this.source=t,this.target=e}He.prototype.attach=function(){let s="out",i="in";this.undirected&&(s=i="undirected");const t=this.source.key,e=this.target.key;this.source[s][e]=this,!(this.undirected&&t===e)&&(this.target[i][t]=this)};He.prototype.attachMulti=function(){let s="out",i="in";const t=this.source.key,e=this.target.key;this.undirected&&(s=i="undirected");const a=this.source[s],n=a[e];if(typeof n>"u"){a[e]=this,this.undirected&&t===e||(this.target[i][t]=this);return}n.previous=this,this.next=n,a[e]=this,this.target[i][t]=this};He.prototype.detach=function(){const s=this.source.key,i=this.target.key;let t="out",e="in";this.undirected&&(t=e="undirected"),delete this.source[t][i],delete this.target[e][s]};He.prototype.detachMulti=function(){const s=this.source.key,i=this.target.key;let t="out",e="in";this.undirected&&(t=e="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[t][i],delete this.target[e][s]):(this.next.previous=void 0,this.source[t][i]=this.next,this.target[e][s]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const ga=0,ma=1,sn=2,va=3;function Te(s,i,t,e,a,n,r){let o,u,c,l;if(e=""+e,t===ga){if(o=s._nodes.get(e),!o)throw new G(`Graph.${i}: could not find the "${e}" node in the graph.`);c=a,l=n}else if(t===va){if(a=""+a,u=s._edges.get(a),!u)throw new G(`Graph.${i}: could not find the "${a}" edge in the graph.`);const d=u.source.key,y=u.target.key;if(e===d)o=u.target;else if(e===y)o=u.source;else throw new G(`Graph.${i}: the "${e}" node is not attached to the "${a}" edge (${d}, ${y}).`);c=n,l=r}else{if(u=s._edges.get(e),!u)throw new G(`Graph.${i}: could not find the "${e}" edge in the graph.`);t===ma?o=u.source:o=u.target,c=a,l=n}return[o,c,l]}function nn(s,i,t){s.prototype[i]=function(e,a,n){const[r,o]=Te(this,i,t,e,a,n);return r.attributes[o]}}function rn(s,i,t){s.prototype[i]=function(e,a){const[n]=Te(this,i,t,e,a);return n.attributes}}function on(s,i,t){s.prototype[i]=function(e,a,n){const[r,o]=Te(this,i,t,e,a,n);return r.attributes.hasOwnProperty(o)}}function un(s,i,t){s.prototype[i]=function(e,a,n,r){const[o,u,c]=Te(this,i,t,e,a,n,r);return o.attributes[u]=c,this.emit("nodeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:u}),this}}function cn(s,i,t){s.prototype[i]=function(e,a,n,r){const[o,u,c]=Te(this,i,t,e,a,n,r);if(typeof c!="function")throw new k(`Graph.${i}: updater should be a function.`);const l=o.attributes,d=c(l[u]);return l[u]=d,this.emit("nodeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:u}),this}}function ln(s,i,t){s.prototype[i]=function(e,a,n){const[r,o]=Te(this,i,t,e,a,n);return delete r.attributes[o],this.emit("nodeAttributesUpdated",{key:r.key,type:"remove",attributes:r.attributes,name:o}),this}}function dn(s,i,t){s.prototype[i]=function(e,a,n){const[r,o]=Te(this,i,t,e,a,n);if(!ie(o))throw new k(`Graph.${i}: provided attributes are not a plain object.`);return r.attributes=o,this.emit("nodeAttributesUpdated",{key:r.key,type:"replace",attributes:r.attributes}),this}}function hn(s,i,t){s.prototype[i]=function(e,a,n){const[r,o]=Te(this,i,t,e,a,n);if(!ie(o))throw new k(`Graph.${i}: provided attributes are not a plain object.`);return ee(r.attributes,o),this.emit("nodeAttributesUpdated",{key:r.key,type:"merge",attributes:r.attributes,data:o}),this}}function yn(s,i,t){s.prototype[i]=function(e,a,n){const[r,o]=Te(this,i,t,e,a,n);if(typeof o!="function")throw new k(`Graph.${i}: provided updater is not a function.`);return r.attributes=o(r.attributes),this.emit("nodeAttributesUpdated",{key:r.key,type:"update",attributes:r.attributes}),this}}const fn=[{name:s=>`get${s}Attribute`,attacher:nn},{name:s=>`get${s}Attributes`,attacher:rn},{name:s=>`has${s}Attribute`,attacher:on},{name:s=>`set${s}Attribute`,attacher:un},{name:s=>`update${s}Attribute`,attacher:cn},{name:s=>`remove${s}Attribute`,attacher:ln},{name:s=>`replace${s}Attributes`,attacher:dn},{name:s=>`merge${s}Attributes`,attacher:hn},{name:s=>`update${s}Attributes`,attacher:yn}];function pn(s){fn.forEach(function({name:i,attacher:t}){t(s,i("Node"),ga),t(s,i("Source"),ma),t(s,i("Target"),sn),t(s,i("Opposite"),va)})}function gn(s,i,t){s.prototype[i]=function(e,a){let n;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new z(`Graph.${i}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new z(`Graph.${i}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const r=""+e,o=""+a;if(a=arguments[2],n=le(this,r,o,t),!n)throw new G(`Graph.${i}: could not find an edge for the given path ("${r}" - "${o}").`)}else{if(t!=="mixed")throw new z(`Graph.${i}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,n=this._edges.get(e),!n)throw new G(`Graph.${i}: could not find the "${e}" edge in the graph.`)}return n.attributes[a]}}function mn(s,i,t){s.prototype[i]=function(e){let a;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new z(`Graph.${i}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new z(`Graph.${i}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const n=""+e,r=""+arguments[1];if(a=le(this,n,r,t),!a)throw new G(`Graph.${i}: could not find an edge for the given path ("${n}" - "${r}").`)}else{if(t!=="mixed")throw new z(`Graph.${i}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,a=this._edges.get(e),!a)throw new G(`Graph.${i}: could not find the "${e}" edge in the graph.`)}return a.attributes}}function vn(s,i,t){s.prototype[i]=function(e,a){let n;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new z(`Graph.${i}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new z(`Graph.${i}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const r=""+e,o=""+a;if(a=arguments[2],n=le(this,r,o,t),!n)throw new G(`Graph.${i}: could not find an edge for the given path ("${r}" - "${o}").`)}else{if(t!=="mixed")throw new z(`Graph.${i}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,n=this._edges.get(e),!n)throw new G(`Graph.${i}: could not find the "${e}" edge in the graph.`)}return n.attributes.hasOwnProperty(a)}}function Mn(s,i,t){s.prototype[i]=function(e,a,n){let r;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new z(`Graph.${i}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new z(`Graph.${i}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+e,u=""+a;if(a=arguments[2],n=arguments[3],r=le(this,o,u,t),!r)throw new G(`Graph.${i}: could not find an edge for the given path ("${o}" - "${u}").`)}else{if(t!=="mixed")throw new z(`Graph.${i}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,r=this._edges.get(e),!r)throw new G(`Graph.${i}: could not find the "${e}" edge in the graph.`)}return r.attributes[a]=n,this.emit("edgeAttributesUpdated",{key:r.key,type:"set",attributes:r.attributes,name:a}),this}}function _n(s,i,t){s.prototype[i]=function(e,a,n){let r;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new z(`Graph.${i}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new z(`Graph.${i}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+e,u=""+a;if(a=arguments[2],n=arguments[3],r=le(this,o,u,t),!r)throw new G(`Graph.${i}: could not find an edge for the given path ("${o}" - "${u}").`)}else{if(t!=="mixed")throw new z(`Graph.${i}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,r=this._edges.get(e),!r)throw new G(`Graph.${i}: could not find the "${e}" edge in the graph.`)}if(typeof n!="function")throw new k(`Graph.${i}: updater should be a function.`);return r.attributes[a]=n(r.attributes[a]),this.emit("edgeAttributesUpdated",{key:r.key,type:"set",attributes:r.attributes,name:a}),this}}function En(s,i,t){s.prototype[i]=function(e,a){let n;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new z(`Graph.${i}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new z(`Graph.${i}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const r=""+e,o=""+a;if(a=arguments[2],n=le(this,r,o,t),!n)throw new G(`Graph.${i}: could not find an edge for the given path ("${r}" - "${o}").`)}else{if(t!=="mixed")throw new z(`Graph.${i}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,n=this._edges.get(e),!n)throw new G(`Graph.${i}: could not find the "${e}" edge in the graph.`)}return delete n.attributes[a],this.emit("edgeAttributesUpdated",{key:n.key,type:"remove",attributes:n.attributes,name:a}),this}}function bn(s,i,t){s.prototype[i]=function(e,a){let n;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new z(`Graph.${i}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new z(`Graph.${i}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const r=""+e,o=""+a;if(a=arguments[2],n=le(this,r,o,t),!n)throw new G(`Graph.${i}: could not find an edge for the given path ("${r}" - "${o}").`)}else{if(t!=="mixed")throw new z(`Graph.${i}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,n=this._edges.get(e),!n)throw new G(`Graph.${i}: could not find the "${e}" edge in the graph.`)}if(!ie(a))throw new k(`Graph.${i}: provided attributes are not a plain object.`);return n.attributes=a,this.emit("edgeAttributesUpdated",{key:n.key,type:"replace",attributes:n.attributes}),this}}function Sn(s,i,t){s.prototype[i]=function(e,a){let n;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new z(`Graph.${i}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new z(`Graph.${i}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const r=""+e,o=""+a;if(a=arguments[2],n=le(this,r,o,t),!n)throw new G(`Graph.${i}: could not find an edge for the given path ("${r}" - "${o}").`)}else{if(t!=="mixed")throw new z(`Graph.${i}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,n=this._edges.get(e),!n)throw new G(`Graph.${i}: could not find the "${e}" edge in the graph.`)}if(!ie(a))throw new k(`Graph.${i}: provided attributes are not a plain object.`);return ee(n.attributes,a),this.emit("edgeAttributesUpdated",{key:n.key,type:"merge",attributes:n.attributes,data:a}),this}}function wn(s,i,t){s.prototype[i]=function(e,a){let n;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new z(`Graph.${i}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new z(`Graph.${i}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const r=""+e,o=""+a;if(a=arguments[2],n=le(this,r,o,t),!n)throw new G(`Graph.${i}: could not find an edge for the given path ("${r}" - "${o}").`)}else{if(t!=="mixed")throw new z(`Graph.${i}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(e=""+e,n=this._edges.get(e),!n)throw new G(`Graph.${i}: could not find the "${e}" edge in the graph.`)}if(typeof a!="function")throw new k(`Graph.${i}: provided updater is not a function.`);return n.attributes=a(n.attributes),this.emit("edgeAttributesUpdated",{key:n.key,type:"update",attributes:n.attributes}),this}}const Cn=[{name:s=>`get${s}Attribute`,attacher:gn},{name:s=>`get${s}Attributes`,attacher:mn},{name:s=>`has${s}Attribute`,attacher:vn},{name:s=>`set${s}Attribute`,attacher:Mn},{name:s=>`update${s}Attribute`,attacher:_n},{name:s=>`remove${s}Attribute`,attacher:En},{name:s=>`replace${s}Attributes`,attacher:bn},{name:s=>`merge${s}Attributes`,attacher:Sn},{name:s=>`update${s}Attributes`,attacher:wn}];function Pn(s){Cn.forEach(function({name:i,attacher:t}){t(s,i("Edge"),"mixed"),t(s,i("DirectedEdge"),"directed"),t(s,i("UndirectedEdge"),"undirected")})}const An=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Tn(s,i,t,e){let a=!1;for(const n in i){if(n===e)continue;const r=i[n];if(a=t(r.key,r.attributes,r.source.key,r.target.key,r.source.attributes,r.target.attributes,r.undirected),s&&a)return r.key}}function Rn(s,i,t,e){let a,n,r,o=!1;for(const u in i)if(u!==e){a=i[u];do{if(n=a.source,r=a.target,o=t(a.key,a.attributes,n.key,r.key,n.attributes,r.attributes,a.undirected),s&&o)return a.key;a=a.next}while(a!==void 0)}}function Ct(s,i){const t=Object.keys(s),e=t.length;let a,n=0;return{[Symbol.iterator](){return this},next(){do if(a)a=a.next;else{if(n>=e)return{done:!0};const r=t[n++];if(r===i){a=void 0;continue}a=s[r]}while(!a);return{done:!1,value:{edge:a.key,attributes:a.attributes,source:a.source.key,target:a.target.key,sourceAttributes:a.source.attributes,targetAttributes:a.target.attributes,undirected:a.undirected}}}}}function Ln(s,i,t,e){const a=i[t];if(!a)return;const n=a.source,r=a.target;if(e(a.key,a.attributes,n.key,r.key,n.attributes,r.attributes,a.undirected)&&s)return a.key}function Bn(s,i,t,e){let a=i[t];if(!a)return;let n=!1;do{if(n=e(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),s&&n)return a.key;a=a.next}while(a!==void 0)}function Pt(s,i){let t=s[i];if(t.next!==void 0)return{[Symbol.iterator](){return this},next(){if(!t)return{done:!0};const a={edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected};return t=t.next,{done:!1,value:a}}};let e=!1;return{[Symbol.iterator](){return this},next(){return e===!0?{done:!0}:(e=!0,{done:!1,value:{edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected}})}}}function Dn(s,i){if(s.size===0)return[];if(i==="mixed"||i===s.type)return Array.from(s._edges.keys());const t=i==="undirected"?s.undirectedSize:s.directedSize,e=new Array(t),a=i==="undirected",n=s._edges.values();let r=0,o,u;for(;o=n.next(),o.done!==!0;)u=o.value,u.undirected===a&&(e[r++]=u.key);return e}function Ma(s,i,t,e){if(i.size===0)return;const a=t!=="mixed"&&t!==i.type,n=t==="undirected";let r,o,u=!1;const c=i._edges.values();for(;r=c.next(),r.done!==!0;){if(o=r.value,a&&o.undirected!==n)continue;const{key:l,attributes:d,source:y,target:p}=o;if(u=e(l,d,y.key,p.key,y.attributes,p.attributes,o.undirected),s&&u)return l}}function Fn(s,i){if(s.size===0)return $e();const t=i!=="mixed"&&i!==s.type,e=i==="undirected",a=s._edges.values();return{[Symbol.iterator](){return this},next(){let n,r;for(;;){if(n=a.next(),n.done)return n;if(r=n.value,!(t&&r.undirected!==e))break}return{value:{edge:r.key,attributes:r.attributes,source:r.source.key,target:r.target.key,sourceAttributes:r.source.attributes,targetAttributes:r.target.attributes,undirected:r.undirected},done:!1}}}}function Yt(s,i,t,e,a,n){const r=i?Rn:Tn;let o;if(t!=="undirected"&&(e!=="out"&&(o=r(s,a.in,n),s&&o)||e!=="in"&&(o=r(s,a.out,n,e?void 0:a.key),s&&o))||t!=="directed"&&(o=r(s,a.undirected,n),s&&o))return o}function Gn(s,i,t,e){const a=[];return Yt(!1,s,i,t,e,function(n){a.push(n)}),a}function kn(s,i,t){let e=$e();return s!=="undirected"&&(i!=="out"&&typeof t.in<"u"&&(e=Ae(e,Ct(t.in))),i!=="in"&&typeof t.out<"u"&&(e=Ae(e,Ct(t.out,i?void 0:t.key)))),s!=="directed"&&typeof t.undirected<"u"&&(e=Ae(e,Ct(t.undirected))),e}function Xt(s,i,t,e,a,n,r){const o=t?Bn:Ln;let u;if(i!=="undirected"&&(typeof a.in<"u"&&e!=="out"&&(u=o(s,a.in,n,r),s&&u)||typeof a.out<"u"&&e!=="in"&&(e||a.key!==n)&&(u=o(s,a.out,n,r),s&&u))||i!=="directed"&&typeof a.undirected<"u"&&(u=o(s,a.undirected,n,r),s&&u))return u}function xn(s,i,t,e,a){const n=[];return Xt(!1,s,i,t,e,a,function(r){n.push(r)}),n}function In(s,i,t,e){let a=$e();return s!=="undirected"&&(typeof t.in<"u"&&i!=="out"&&e in t.in&&(a=Ae(a,Pt(t.in,e))),typeof t.out<"u"&&i!=="in"&&e in t.out&&(i||t.key!==e)&&(a=Ae(a,Pt(t.out,e)))),s!=="directed"&&typeof t.undirected<"u"&&e in t.undirected&&(a=Ae(a,Pt(t.undirected,e))),a}function Nn(s,i){const{name:t,type:e,direction:a}=i;s.prototype[t]=function(n,r){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return[];if(!arguments.length)return Dn(this,e);if(arguments.length===1){n=""+n;const o=this._nodes.get(n);if(typeof o>"u")throw new G(`Graph.${t}: could not find the "${n}" node in the graph.`);return Gn(this.multi,e==="mixed"?this.type:e,a,o)}if(arguments.length===2){n=""+n,r=""+r;const o=this._nodes.get(n);if(!o)throw new G(`Graph.${t}:  could not find the "${n}" source node in the graph.`);if(!this._nodes.has(r))throw new G(`Graph.${t}:  could not find the "${r}" target node in the graph.`);return xn(e,this.multi,a,o,r)}throw new k(`Graph.${t}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function On(s,i){const{name:t,type:e,direction:a}=i,n="forEach"+t[0].toUpperCase()+t.slice(1,-1);s.prototype[n]=function(c,l,d){if(!(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)){if(arguments.length===1)return d=c,Ma(!1,this,e,d);if(arguments.length===2){c=""+c,d=l;const y=this._nodes.get(c);if(typeof y>"u")throw new G(`Graph.${n}: could not find the "${c}" node in the graph.`);return Yt(!1,this.multi,e==="mixed"?this.type:e,a,y,d)}if(arguments.length===3){c=""+c,l=""+l;const y=this._nodes.get(c);if(!y)throw new G(`Graph.${n}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(l))throw new G(`Graph.${n}:  could not find the "${l}" target node in the graph.`);return Xt(!1,e,this.multi,a,y,l,d)}throw new k(`Graph.${n}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const r="map"+t[0].toUpperCase()+t.slice(1);s.prototype[r]=function(){const c=Array.prototype.slice.call(arguments),l=c.pop();let d;if(c.length===0){let y=0;e!=="directed"&&(y+=this.undirectedSize),e!=="undirected"&&(y+=this.directedSize),d=new Array(y);let p=0;c.push((E,b,A,F,R,L,M)=>{d[p++]=l(E,b,A,F,R,L,M)})}else d=[],c.push((y,p,E,b,A,F,R)=>{d.push(l(y,p,E,b,A,F,R))});return this[n].apply(this,c),d};const o="filter"+t[0].toUpperCase()+t.slice(1);s.prototype[o]=function(){const c=Array.prototype.slice.call(arguments),l=c.pop(),d=[];return c.push((y,p,E,b,A,F,R)=>{l(y,p,E,b,A,F,R)&&d.push(y)}),this[n].apply(this,c),d};const u="reduce"+t[0].toUpperCase()+t.slice(1);s.prototype[u]=function(){let c=Array.prototype.slice.call(arguments);if(c.length<2||c.length>4)throw new k(`Graph.${u}: invalid number of arguments (expecting 2, 3 or 4 and got ${c.length}).`);if(typeof c[c.length-1]=="function"&&typeof c[c.length-2]!="function")throw new k(`Graph.${u}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let l,d;c.length===2?(l=c[0],d=c[1],c=[]):c.length===3?(l=c[1],d=c[2],c=[c[0]]):c.length===4&&(l=c[2],d=c[3],c=[c[0],c[1]]);let y=d;return c.push((p,E,b,A,F,R,L)=>{y=l(y,p,E,b,A,F,R,L)}),this[n].apply(this,c),y}}function Un(s,i){const{name:t,type:e,direction:a}=i,n="find"+t[0].toUpperCase()+t.slice(1,-1);s.prototype[n]=function(u,c,l){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return!1;if(arguments.length===1)return l=u,Ma(!0,this,e,l);if(arguments.length===2){u=""+u,l=c;const d=this._nodes.get(u);if(typeof d>"u")throw new G(`Graph.${n}: could not find the "${u}" node in the graph.`);return Yt(!0,this.multi,e==="mixed"?this.type:e,a,d,l)}if(arguments.length===3){u=""+u,c=""+c;const d=this._nodes.get(u);if(!d)throw new G(`Graph.${n}:  could not find the "${u}" source node in the graph.`);if(!this._nodes.has(c))throw new G(`Graph.${n}:  could not find the "${c}" target node in the graph.`);return Xt(!0,e,this.multi,a,d,c,l)}throw new k(`Graph.${n}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const r="some"+t[0].toUpperCase()+t.slice(1,-1);s.prototype[r]=function(){const u=Array.prototype.slice.call(arguments),c=u.pop();return u.push((d,y,p,E,b,A,F)=>c(d,y,p,E,b,A,F)),!!this[n].apply(this,u)};const o="every"+t[0].toUpperCase()+t.slice(1,-1);s.prototype[o]=function(){const u=Array.prototype.slice.call(arguments),c=u.pop();return u.push((d,y,p,E,b,A,F)=>!c(d,y,p,E,b,A,F)),!this[n].apply(this,u)}}function zn(s,i){const{name:t,type:e,direction:a}=i,n=t.slice(0,-1)+"Entries";s.prototype[n]=function(r,o){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return $e();if(!arguments.length)return Fn(this,e);if(arguments.length===1){r=""+r;const u=this._nodes.get(r);if(!u)throw new G(`Graph.${n}: could not find the "${r}" node in the graph.`);return kn(e,a,u)}if(arguments.length===2){r=""+r,o=""+o;const u=this._nodes.get(r);if(!u)throw new G(`Graph.${n}:  could not find the "${r}" source node in the graph.`);if(!this._nodes.has(o))throw new G(`Graph.${n}:  could not find the "${o}" target node in the graph.`);return In(e,a,u,o)}throw new k(`Graph.${n}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function $n(s){An.forEach(i=>{Nn(s,i),On(s,i),Un(s,i),zn(s,i)})}const Hn=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function ft(){this.A=null,this.B=null}ft.prototype.wrap=function(s){this.A===null?this.A=s:this.B===null&&(this.B=s)};ft.prototype.has=function(s){return this.A!==null&&s in this.A||this.B!==null&&s in this.B};function Ze(s,i,t,e,a){for(const n in e){const r=e[n],o=r.source,u=r.target,c=o===t?u:o;if(i&&i.has(c.key))continue;const l=a(c.key,c.attributes);if(s&&l)return c.key}}function Qt(s,i,t,e,a){if(i!=="mixed"){if(i==="undirected")return Ze(s,null,e,e.undirected,a);if(typeof t=="string")return Ze(s,null,e,e[t],a)}const n=new ft;let r;if(i!=="undirected"){if(t!=="out"){if(r=Ze(s,null,e,e.in,a),s&&r)return r;n.wrap(e.in)}if(t!=="in"){if(r=Ze(s,n,e,e.out,a),s&&r)return r;n.wrap(e.out)}}if(i!=="directed"&&(r=Ze(s,n,e,e.undirected,a),s&&r))return r}function jn(s,i,t){if(s!=="mixed"){if(s==="undirected")return Object.keys(t.undirected);if(typeof i=="string")return Object.keys(t[i])}const e=[];return Qt(!1,s,i,t,function(a){e.push(a)}),e}function Ye(s,i,t){const e=Object.keys(t),a=e.length;let n=0;return{[Symbol.iterator](){return this},next(){let r=null;do{if(n>=a)return s&&s.wrap(t),{done:!0};const o=t[e[n++]],u=o.source,c=o.target;if(r=u===i?c:u,s&&s.has(r.key)){r=null;continue}}while(r===null);return{done:!1,value:{neighbor:r.key,attributes:r.attributes}}}}}function Wn(s,i,t){if(s!=="mixed"){if(s==="undirected")return Ye(null,t,t.undirected);if(typeof i=="string")return Ye(null,t,t[i])}let e=$e();const a=new ft;return s!=="undirected"&&(i!=="out"&&(e=Ae(e,Ye(a,t,t.in))),i!=="in"&&(e=Ae(e,Ye(a,t,t.out)))),s!=="directed"&&(e=Ae(e,Ye(a,t,t.undirected))),e}function Jn(s,i){const{name:t,type:e,direction:a}=i;s.prototype[t]=function(n){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return[];n=""+n;const r=this._nodes.get(n);if(typeof r>"u")throw new G(`Graph.${t}: could not find the "${n}" node in the graph.`);return jn(e==="mixed"?this.type:e,a,r)}}function qn(s,i){const{name:t,type:e,direction:a}=i,n="forEach"+t[0].toUpperCase()+t.slice(1,-1);s.prototype[n]=function(c,l){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return;c=""+c;const d=this._nodes.get(c);if(typeof d>"u")throw new G(`Graph.${n}: could not find the "${c}" node in the graph.`);Qt(!1,e==="mixed"?this.type:e,a,d,l)};const r="map"+t[0].toUpperCase()+t.slice(1);s.prototype[r]=function(c,l){const d=[];return this[n](c,(y,p)=>{d.push(l(y,p))}),d};const o="filter"+t[0].toUpperCase()+t.slice(1);s.prototype[o]=function(c,l){const d=[];return this[n](c,(y,p)=>{l(y,p)&&d.push(y)}),d};const u="reduce"+t[0].toUpperCase()+t.slice(1);s.prototype[u]=function(c,l,d){if(arguments.length<3)throw new k(`Graph.${u}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let y=d;return this[n](c,(p,E)=>{y=l(y,p,E)}),y}}function Vn(s,i){const{name:t,type:e,direction:a}=i,n=t[0].toUpperCase()+t.slice(1,-1),r="find"+n;s.prototype[r]=function(c,l){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return;c=""+c;const d=this._nodes.get(c);if(typeof d>"u")throw new G(`Graph.${r}: could not find the "${c}" node in the graph.`);return Qt(!0,e==="mixed"?this.type:e,a,d,l)};const o="some"+n;s.prototype[o]=function(c,l){return!!this[r](c,l)};const u="every"+n;s.prototype[u]=function(c,l){return!this[r](c,(y,p)=>!l(y,p))}}function Kn(s,i){const{name:t,type:e,direction:a}=i,n=t.slice(0,-1)+"Entries";s.prototype[n]=function(r){if(e!=="mixed"&&this.type!=="mixed"&&e!==this.type)return $e();r=""+r;const o=this._nodes.get(r);if(typeof o>"u")throw new G(`Graph.${n}: could not find the "${r}" node in the graph.`);return Wn(e==="mixed"?this.type:e,a,o)}}function Zn(s){Hn.forEach(i=>{Jn(s,i),qn(s,i),Vn(s,i),Kn(s,i)})}function dt(s,i,t,e,a){const n=e._nodes.values(),r=e.type;let o,u,c,l,d,y;for(;o=n.next(),o.done!==!0;){let p=!1;if(u=o.value,r!=="undirected"){l=u.out;for(c in l){d=l[c];do y=d.target,p=!0,a(u.key,y.key,u.attributes,y.attributes,d.key,d.attributes,d.undirected),d=d.next;while(d)}}if(r!=="directed"){l=u.undirected;for(c in l)if(!(i&&u.key>c)){d=l[c];do y=d.target,y.key!==c&&(y=d.source),p=!0,a(u.key,y.key,u.attributes,y.attributes,d.key,d.attributes,d.undirected),d=d.next;while(d)}}t&&!p&&a(u.key,null,u.attributes,null,null,null,null)}}function Yn(s,i){const t={key:s};return ha(i.attributes)||(t.attributes=ee({},i.attributes)),t}function Xn(s,i,t){const e={key:i,source:t.source.key,target:t.target.key};return ha(t.attributes)||(e.attributes=ee({},t.attributes)),s==="mixed"&&t.undirected&&(e.undirected=!0),e}function Qn(s){if(!ie(s))throw new k('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in s))throw new k("Graph.import: serialized node is missing its key.");if("attributes"in s&&(!ie(s.attributes)||s.attributes===null))throw new k("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function er(s){if(!ie(s))throw new k('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in s))throw new k("Graph.import: serialized edge is missing its source.");if(!("target"in s))throw new k("Graph.import: serialized edge is missing its target.");if("attributes"in s&&(!ie(s.attributes)||s.attributes===null))throw new k("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in s&&typeof s.undirected!="boolean")throw new k("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const tr=an(),ir=new Set(["directed","undirected","mixed"]),wi=new Set(["domain","_events","_eventsCount","_maxListeners"]),ar=[{name:s=>`${s}Edge`,generateKey:!0},{name:s=>`${s}DirectedEdge`,generateKey:!0,type:"directed"},{name:s=>`${s}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:s=>`${s}EdgeWithKey`},{name:s=>`${s}DirectedEdgeWithKey`,type:"directed"},{name:s=>`${s}UndirectedEdgeWithKey`,type:"undirected"}],sr={allowSelfLoops:!0,multi:!1,type:"mixed"};function nr(s,i,t){if(t&&!ie(t))throw new k(`Graph.addNode: invalid attributes. Expecting an object but got "${t}"`);if(i=""+i,t=t||{},s._nodes.has(i))throw new z(`Graph.addNode: the "${i}" node already exist in the graph.`);const e=new s.NodeDataClass(i,t);return s._nodes.set(i,e),s.emit("nodeAdded",{key:i,attributes:t}),e}function Ci(s,i,t){const e=new s.NodeDataClass(i,t);return s._nodes.set(i,e),s.emit("nodeAdded",{key:i,attributes:t}),e}function _a(s,i,t,e,a,n,r,o){if(!e&&s.type==="undirected")throw new z(`Graph.${i}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(e&&s.type==="directed")throw new z(`Graph.${i}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(o&&!ie(o))throw new k(`Graph.${i}: invalid attributes. Expecting an object but got "${o}"`);if(n=""+n,r=""+r,o=o||{},!s.allowSelfLoops&&n===r)throw new z(`Graph.${i}: source & target are the same ("${n}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const u=s._nodes.get(n),c=s._nodes.get(r);if(!u)throw new G(`Graph.${i}: source node "${n}" not found.`);if(!c)throw new G(`Graph.${i}: target node "${r}" not found.`);const l={key:null,undirected:e,source:n,target:r,attributes:o};if(t)a=s._edgeKeyGenerator();else if(a=""+a,s._edges.has(a))throw new z(`Graph.${i}: the "${a}" edge already exists in the graph.`);if(!s.multi&&(e?typeof u.undirected[r]<"u":typeof u.out[r]<"u"))throw new z(`Graph.${i}: an edge linking "${n}" to "${r}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const d=new He(e,a,u,c,o);s._edges.set(a,d);const y=n===r;return e?(u.undirectedDegree++,c.undirectedDegree++,y&&(u.undirectedLoops++,s._undirectedSelfLoopCount++)):(u.outDegree++,c.inDegree++,y&&(u.directedLoops++,s._directedSelfLoopCount++)),s.multi?d.attachMulti():d.attach(),e?s._undirectedSize++:s._directedSize++,l.key=a,s.emit("edgeAdded",l),a}function rr(s,i,t,e,a,n,r,o,u){if(!e&&s.type==="undirected")throw new z(`Graph.${i}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(e&&s.type==="directed")throw new z(`Graph.${i}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(o){if(u){if(typeof o!="function")throw new k(`Graph.${i}: invalid updater function. Expecting a function but got "${o}"`)}else if(!ie(o))throw new k(`Graph.${i}: invalid attributes. Expecting an object but got "${o}"`)}n=""+n,r=""+r;let c;if(u&&(c=o,o=void 0),!s.allowSelfLoops&&n===r)throw new z(`Graph.${i}: source & target are the same ("${n}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let l=s._nodes.get(n),d=s._nodes.get(r),y,p;if(!t&&(y=s._edges.get(a),y)){if((y.source.key!==n||y.target.key!==r)&&(!e||y.source.key!==r||y.target.key!==n))throw new z(`Graph.${i}: inconsistency detected when attempting to merge the "${a}" edge with "${n}" source & "${r}" target vs. ("${y.source.key}", "${y.target.key}").`);p=y}if(!p&&!s.multi&&l&&(p=e?l.undirected[r]:l.out[r]),p){const R=[p.key,!1,!1,!1];if(u?!c:!o)return R;if(u){const L=p.attributes;p.attributes=c(L),s.emit("edgeAttributesUpdated",{type:"replace",key:p.key,attributes:p.attributes})}else ee(p.attributes,o),s.emit("edgeAttributesUpdated",{type:"merge",key:p.key,attributes:p.attributes,data:o});return R}o=o||{},u&&c&&(o=c(o));const E={key:null,undirected:e,source:n,target:r,attributes:o};if(t)a=s._edgeKeyGenerator();else if(a=""+a,s._edges.has(a))throw new z(`Graph.${i}: the "${a}" edge already exists in the graph.`);let b=!1,A=!1;l||(l=Ci(s,n,{}),b=!0,n===r&&(d=l,A=!0)),d||(d=Ci(s,r,{}),A=!0),y=new He(e,a,l,d,o),s._edges.set(a,y);const F=n===r;return e?(l.undirectedDegree++,d.undirectedDegree++,F&&(l.undirectedLoops++,s._undirectedSelfLoopCount++)):(l.outDegree++,d.inDegree++,F&&(l.directedLoops++,s._directedSelfLoopCount++)),s.multi?y.attachMulti():y.attach(),e?s._undirectedSize++:s._directedSize++,E.key=a,s.emit("edgeAdded",E),[a,!0,b,A]}function xe(s,i){s._edges.delete(i.key);const{source:t,target:e,attributes:a}=i,n=i.undirected,r=t===e;n?(t.undirectedDegree--,e.undirectedDegree--,r&&(t.undirectedLoops--,s._undirectedSelfLoopCount--)):(t.outDegree--,e.inDegree--,r&&(t.directedLoops--,s._directedSelfLoopCount--)),s.multi?i.detachMulti():i.detach(),n?s._undirectedSize--:s._directedSize--,s.emit("edgeDropped",{key:i.key,attributes:a,source:t.key,target:e.key,undirected:n})}class Z extends ca.EventEmitter{constructor(i){if(super(),i=ee({},sr,i),typeof i.multi!="boolean")throw new k(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${i.multi}".`);if(!ir.has(i.type))throw new k(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${i.type}".`);if(typeof i.allowSelfLoops!="boolean")throw new k(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${i.allowSelfLoops}".`);const t=i.type==="mixed"?ya:i.type==="directed"?fa:pa;ce(this,"NodeDataClass",t);const e="geid_"+tr()+"_";let a=0;const n=()=>{let r;do r=e+a++;while(this._edges.has(r));return r};ce(this,"_attributes",{}),ce(this,"_nodes",new Map),ce(this,"_edges",new Map),ce(this,"_directedSize",0),ce(this,"_undirectedSize",0),ce(this,"_directedSelfLoopCount",0),ce(this,"_undirectedSelfLoopCount",0),ce(this,"_edgeKeyGenerator",n),ce(this,"_options",i),wi.forEach(r=>ce(this,r,this[r])),ge(this,"order",()=>this._nodes.size),ge(this,"size",()=>this._edges.size),ge(this,"directedSize",()=>this._directedSize),ge(this,"undirectedSize",()=>this._undirectedSize),ge(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),ge(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),ge(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),ge(this,"multi",this._options.multi),ge(this,"type",this._options.type),ge(this,"allowSelfLoops",this._options.allowSelfLoops),ge(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(i){return this._nodes.has(""+i)}hasDirectedEdge(i,t){if(this.type==="undirected")return!1;if(arguments.length===1){const e=""+i,a=this._edges.get(e);return!!a&&!a.undirected}else if(arguments.length===2){i=""+i,t=""+t;const e=this._nodes.get(i);return e?e.out.hasOwnProperty(t):!1}throw new k(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(i,t){if(this.type==="directed")return!1;if(arguments.length===1){const e=""+i,a=this._edges.get(e);return!!a&&a.undirected}else if(arguments.length===2){i=""+i,t=""+t;const e=this._nodes.get(i);return e?e.undirected.hasOwnProperty(t):!1}throw new k(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(i,t){if(arguments.length===1){const e=""+i;return this._edges.has(e)}else if(arguments.length===2){i=""+i,t=""+t;const e=this._nodes.get(i);return e?typeof e.out<"u"&&e.out.hasOwnProperty(t)||typeof e.undirected<"u"&&e.undirected.hasOwnProperty(t):!1}throw new k(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(i,t){if(this.type==="undirected")return;if(i=""+i,t=""+t,this.multi)throw new z("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const e=this._nodes.get(i);if(!e)throw new G(`Graph.directedEdge: could not find the "${i}" source node in the graph.`);if(!this._nodes.has(t))throw new G(`Graph.directedEdge: could not find the "${t}" target node in the graph.`);const a=e.out&&e.out[t]||void 0;if(a)return a.key}undirectedEdge(i,t){if(this.type==="directed")return;if(i=""+i,t=""+t,this.multi)throw new z("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const e=this._nodes.get(i);if(!e)throw new G(`Graph.undirectedEdge: could not find the "${i}" source node in the graph.`);if(!this._nodes.has(t))throw new G(`Graph.undirectedEdge: could not find the "${t}" target node in the graph.`);const a=e.undirected&&e.undirected[t]||void 0;if(a)return a.key}edge(i,t){if(this.multi)throw new z("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");i=""+i,t=""+t;const e=this._nodes.get(i);if(!e)throw new G(`Graph.edge: could not find the "${i}" source node in the graph.`);if(!this._nodes.has(t))throw new G(`Graph.edge: could not find the "${t}" target node in the graph.`);const a=e.out&&e.out[t]||e.undirected&&e.undirected[t]||void 0;if(a)return a.key}areDirectedNeighbors(i,t){i=""+i,t=""+t;const e=this._nodes.get(i);if(!e)throw new G(`Graph.areDirectedNeighbors: could not find the "${i}" node in the graph.`);return this.type==="undirected"?!1:t in e.in||t in e.out}areOutNeighbors(i,t){i=""+i,t=""+t;const e=this._nodes.get(i);if(!e)throw new G(`Graph.areOutNeighbors: could not find the "${i}" node in the graph.`);return this.type==="undirected"?!1:t in e.out}areInNeighbors(i,t){i=""+i,t=""+t;const e=this._nodes.get(i);if(!e)throw new G(`Graph.areInNeighbors: could not find the "${i}" node in the graph.`);return this.type==="undirected"?!1:t in e.in}areUndirectedNeighbors(i,t){i=""+i,t=""+t;const e=this._nodes.get(i);if(!e)throw new G(`Graph.areUndirectedNeighbors: could not find the "${i}" node in the graph.`);return this.type==="directed"?!1:t in e.undirected}areNeighbors(i,t){i=""+i,t=""+t;const e=this._nodes.get(i);if(!e)throw new G(`Graph.areNeighbors: could not find the "${i}" node in the graph.`);return this.type!=="undirected"&&(t in e.in||t in e.out)||this.type!=="directed"&&t in e.undirected}areInboundNeighbors(i,t){i=""+i,t=""+t;const e=this._nodes.get(i);if(!e)throw new G(`Graph.areInboundNeighbors: could not find the "${i}" node in the graph.`);return this.type!=="undirected"&&t in e.in||this.type!=="directed"&&t in e.undirected}areOutboundNeighbors(i,t){i=""+i,t=""+t;const e=this._nodes.get(i);if(!e)throw new G(`Graph.areOutboundNeighbors: could not find the "${i}" node in the graph.`);return this.type!=="undirected"&&t in e.out||this.type!=="directed"&&t in e.undirected}inDegree(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.inDegree: could not find the "${i}" node in the graph.`);return this.type==="undirected"?0:t.inDegree}outDegree(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.outDegree: could not find the "${i}" node in the graph.`);return this.type==="undirected"?0:t.outDegree}directedDegree(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.directedDegree: could not find the "${i}" node in the graph.`);return this.type==="undirected"?0:t.inDegree+t.outDegree}undirectedDegree(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.undirectedDegree: could not find the "${i}" node in the graph.`);return this.type==="directed"?0:t.undirectedDegree}inboundDegree(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.inboundDegree: could not find the "${i}" node in the graph.`);let e=0;return this.type!=="directed"&&(e+=t.undirectedDegree),this.type!=="undirected"&&(e+=t.inDegree),e}outboundDegree(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.outboundDegree: could not find the "${i}" node in the graph.`);let e=0;return this.type!=="directed"&&(e+=t.undirectedDegree),this.type!=="undirected"&&(e+=t.outDegree),e}degree(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.degree: could not find the "${i}" node in the graph.`);let e=0;return this.type!=="directed"&&(e+=t.undirectedDegree),this.type!=="undirected"&&(e+=t.inDegree+t.outDegree),e}inDegreeWithoutSelfLoops(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.inDegreeWithoutSelfLoops: could not find the "${i}" node in the graph.`);return this.type==="undirected"?0:t.inDegree-t.directedLoops}outDegreeWithoutSelfLoops(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.outDegreeWithoutSelfLoops: could not find the "${i}" node in the graph.`);return this.type==="undirected"?0:t.outDegree-t.directedLoops}directedDegreeWithoutSelfLoops(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.directedDegreeWithoutSelfLoops: could not find the "${i}" node in the graph.`);return this.type==="undirected"?0:t.inDegree+t.outDegree-t.directedLoops*2}undirectedDegreeWithoutSelfLoops(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${i}" node in the graph.`);return this.type==="directed"?0:t.undirectedDegree-t.undirectedLoops*2}inboundDegreeWithoutSelfLoops(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${i}" node in the graph.`);let e=0,a=0;return this.type!=="directed"&&(e+=t.undirectedDegree,a+=t.undirectedLoops*2),this.type!=="undirected"&&(e+=t.inDegree,a+=t.directedLoops),e-a}outboundDegreeWithoutSelfLoops(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${i}" node in the graph.`);let e=0,a=0;return this.type!=="directed"&&(e+=t.undirectedDegree,a+=t.undirectedLoops*2),this.type!=="undirected"&&(e+=t.outDegree,a+=t.directedLoops),e-a}degreeWithoutSelfLoops(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.degreeWithoutSelfLoops: could not find the "${i}" node in the graph.`);let e=0,a=0;return this.type!=="directed"&&(e+=t.undirectedDegree,a+=t.undirectedLoops*2),this.type!=="undirected"&&(e+=t.inDegree+t.outDegree,a+=t.directedLoops*2),e-a}source(i){i=""+i;const t=this._edges.get(i);if(!t)throw new G(`Graph.source: could not find the "${i}" edge in the graph.`);return t.source.key}target(i){i=""+i;const t=this._edges.get(i);if(!t)throw new G(`Graph.target: could not find the "${i}" edge in the graph.`);return t.target.key}extremities(i){i=""+i;const t=this._edges.get(i);if(!t)throw new G(`Graph.extremities: could not find the "${i}" edge in the graph.`);return[t.source.key,t.target.key]}opposite(i,t){i=""+i,t=""+t;const e=this._edges.get(t);if(!e)throw new G(`Graph.opposite: could not find the "${t}" edge in the graph.`);const a=e.source.key,n=e.target.key;if(i===a)return n;if(i===n)return a;throw new G(`Graph.opposite: the "${i}" node is not attached to the "${t}" edge (${a}, ${n}).`)}hasExtremity(i,t){i=""+i,t=""+t;const e=this._edges.get(i);if(!e)throw new G(`Graph.hasExtremity: could not find the "${i}" edge in the graph.`);return e.source.key===t||e.target.key===t}isUndirected(i){i=""+i;const t=this._edges.get(i);if(!t)throw new G(`Graph.isUndirected: could not find the "${i}" edge in the graph.`);return t.undirected}isDirected(i){i=""+i;const t=this._edges.get(i);if(!t)throw new G(`Graph.isDirected: could not find the "${i}" edge in the graph.`);return!t.undirected}isSelfLoop(i){i=""+i;const t=this._edges.get(i);if(!t)throw new G(`Graph.isSelfLoop: could not find the "${i}" edge in the graph.`);return t.source===t.target}addNode(i,t){return nr(this,i,t).key}mergeNode(i,t){if(t&&!ie(t))throw new k(`Graph.mergeNode: invalid attributes. Expecting an object but got "${t}"`);i=""+i,t=t||{};let e=this._nodes.get(i);return e?(t&&(ee(e.attributes,t),this.emit("nodeAttributesUpdated",{type:"merge",key:i,attributes:e.attributes,data:t})),[i,!1]):(e=new this.NodeDataClass(i,t),this._nodes.set(i,e),this.emit("nodeAdded",{key:i,attributes:t}),[i,!0])}updateNode(i,t){if(t&&typeof t!="function")throw new k(`Graph.updateNode: invalid updater function. Expecting a function but got "${t}"`);i=""+i;let e=this._nodes.get(i);if(e){if(t){const n=e.attributes;e.attributes=t(n),this.emit("nodeAttributesUpdated",{type:"replace",key:i,attributes:e.attributes})}return[i,!1]}const a=t?t({}):{};return e=new this.NodeDataClass(i,a),this._nodes.set(i,e),this.emit("nodeAdded",{key:i,attributes:a}),[i,!0]}dropNode(i){i=""+i;const t=this._nodes.get(i);if(!t)throw new G(`Graph.dropNode: could not find the "${i}" node in the graph.`);let e;if(this.type!=="undirected"){for(const a in t.out){e=t.out[a];do xe(this,e),e=e.next;while(e)}for(const a in t.in){e=t.in[a];do xe(this,e),e=e.next;while(e)}}if(this.type!=="directed")for(const a in t.undirected){e=t.undirected[a];do xe(this,e),e=e.next;while(e)}this._nodes.delete(i),this.emit("nodeDropped",{key:i,attributes:t.attributes})}dropEdge(i){let t;if(arguments.length>1){const e=""+arguments[0],a=""+arguments[1];if(t=le(this,e,a,this.type),!t)throw new G(`Graph.dropEdge: could not find the "${e}" -> "${a}" edge in the graph.`)}else if(i=""+i,t=this._edges.get(i),!t)throw new G(`Graph.dropEdge: could not find the "${i}" edge in the graph.`);return xe(this,t),this}dropDirectedEdge(i,t){if(arguments.length<2)throw new z("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new z("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");i=""+i,t=""+t;const e=le(this,i,t,"directed");if(!e)throw new G(`Graph.dropDirectedEdge: could not find a "${i}" -> "${t}" edge in the graph.`);return xe(this,e),this}dropUndirectedEdge(i,t){if(arguments.length<2)throw new z("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new z("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const e=le(this,i,t,"undirected");if(!e)throw new G(`Graph.dropUndirectedEdge: could not find a "${i}" -> "${t}" edge in the graph.`);return xe(this,e),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const i=this._nodes.values();let t;for(;t=i.next(),t.done!==!0;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(i){return this._attributes[i]}getAttributes(){return this._attributes}hasAttribute(i){return this._attributes.hasOwnProperty(i)}setAttribute(i,t){return this._attributes[i]=t,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:i}),this}updateAttribute(i,t){if(typeof t!="function")throw new k("Graph.updateAttribute: updater should be a function.");const e=this._attributes[i];return this._attributes[i]=t(e),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:i}),this}removeAttribute(i){return delete this._attributes[i],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:i}),this}replaceAttributes(i){if(!ie(i))throw new k("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=i,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(i){if(!ie(i))throw new k("Graph.mergeAttributes: provided attributes are not a plain object.");return ee(this._attributes,i),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:i}),this}updateAttributes(i){if(typeof i!="function")throw new k("Graph.updateAttributes: provided updater is not a function.");return this._attributes=i(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(i,t){if(typeof i!="function")throw new k("Graph.updateEachNodeAttributes: expecting an updater function.");if(t&&!Si(t))throw new k("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const e=this._nodes.values();let a,n;for(;a=e.next(),a.done!==!0;)n=a.value,n.attributes=i(n.key,n.attributes);this.emit("eachNodeAttributesUpdated",{hints:t||null})}updateEachEdgeAttributes(i,t){if(typeof i!="function")throw new k("Graph.updateEachEdgeAttributes: expecting an updater function.");if(t&&!Si(t))throw new k("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const e=this._edges.values();let a,n,r,o;for(;a=e.next(),a.done!==!0;)n=a.value,r=n.source,o=n.target,n.attributes=i(n.key,n.attributes,r.key,o.key,r.attributes,o.attributes,n.undirected);this.emit("eachEdgeAttributesUpdated",{hints:t||null})}forEachAdjacencyEntry(i){if(typeof i!="function")throw new k("Graph.forEachAdjacencyEntry: expecting a callback.");dt(!1,!1,!1,this,i)}forEachAdjacencyEntryWithOrphans(i){if(typeof i!="function")throw new k("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");dt(!1,!1,!0,this,i)}forEachAssymetricAdjacencyEntry(i){if(typeof i!="function")throw new k("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");dt(!1,!0,!1,this,i)}forEachAssymetricAdjacencyEntryWithOrphans(i){if(typeof i!="function")throw new k("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");dt(!1,!0,!0,this,i)}nodes(){return Array.from(this._nodes.keys())}forEachNode(i){if(typeof i!="function")throw new k("Graph.forEachNode: expecting a callback.");const t=this._nodes.values();let e,a;for(;e=t.next(),e.done!==!0;)a=e.value,i(a.key,a.attributes)}findNode(i){if(typeof i!="function")throw new k("Graph.findNode: expecting a callback.");const t=this._nodes.values();let e,a;for(;e=t.next(),e.done!==!0;)if(a=e.value,i(a.key,a.attributes))return a.key}mapNodes(i){if(typeof i!="function")throw new k("Graph.mapNode: expecting a callback.");const t=this._nodes.values();let e,a;const n=new Array(this.order);let r=0;for(;e=t.next(),e.done!==!0;)a=e.value,n[r++]=i(a.key,a.attributes);return n}someNode(i){if(typeof i!="function")throw new k("Graph.someNode: expecting a callback.");const t=this._nodes.values();let e,a;for(;e=t.next(),e.done!==!0;)if(a=e.value,i(a.key,a.attributes))return!0;return!1}everyNode(i){if(typeof i!="function")throw new k("Graph.everyNode: expecting a callback.");const t=this._nodes.values();let e,a;for(;e=t.next(),e.done!==!0;)if(a=e.value,!i(a.key,a.attributes))return!1;return!0}filterNodes(i){if(typeof i!="function")throw new k("Graph.filterNodes: expecting a callback.");const t=this._nodes.values();let e,a;const n=[];for(;e=t.next(),e.done!==!0;)a=e.value,i(a.key,a.attributes)&&n.push(a.key);return n}reduceNodes(i,t){if(typeof i!="function")throw new k("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new k("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let e=t;const a=this._nodes.values();let n,r;for(;n=a.next(),n.done!==!0;)r=n.value,e=i(e,r.key,r.attributes);return e}nodeEntries(){const i=this._nodes.values();return{[Symbol.iterator](){return this},next(){const t=i.next();if(t.done)return t;const e=t.value;return{value:{node:e.key,attributes:e.attributes},done:!1}}}}export(){const i=new Array(this._nodes.size);let t=0;this._nodes.forEach((a,n)=>{i[t++]=Yn(n,a)});const e=new Array(this._edges.size);return t=0,this._edges.forEach((a,n)=>{e[t++]=Xn(this.type,n,a)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:i,edges:e}}import(i,t=!1){if(i instanceof Z)return i.forEachNode((u,c)=>{t?this.mergeNode(u,c):this.addNode(u,c)}),i.forEachEdge((u,c,l,d,y,p,E)=>{t?E?this.mergeUndirectedEdgeWithKey(u,l,d,c):this.mergeDirectedEdgeWithKey(u,l,d,c):E?this.addUndirectedEdgeWithKey(u,l,d,c):this.addDirectedEdgeWithKey(u,l,d,c)}),this;if(!ie(i))throw new k("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(i.attributes){if(!ie(i.attributes))throw new k("Graph.import: invalid attributes. Expecting a plain object.");t?this.mergeAttributes(i.attributes):this.replaceAttributes(i.attributes)}let e,a,n,r,o;if(i.nodes){if(n=i.nodes,!Array.isArray(n))throw new k("Graph.import: invalid nodes. Expecting an array.");for(e=0,a=n.length;e<a;e++){r=n[e],Qn(r);const{key:u,attributes:c}=r;t?this.mergeNode(u,c):this.addNode(u,c)}}if(i.edges){let u=!1;if(this.type==="undirected"&&(u=!0),n=i.edges,!Array.isArray(n))throw new k("Graph.import: invalid edges. Expecting an array.");for(e=0,a=n.length;e<a;e++){o=n[e],er(o);const{source:c,target:l,attributes:d,undirected:y=u}=o;let p;"key"in o?(p=t?y?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:y?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,p.call(this,o.key,c,l,d)):(p=t?y?this.mergeUndirectedEdge:this.mergeDirectedEdge:y?this.addUndirectedEdge:this.addDirectedEdge,p.call(this,c,l,d))}}return this}nullCopy(i){const t=new Z(ee({},this._options,i));return t.replaceAttributes(ee({},this.getAttributes())),t}emptyCopy(i){const t=this.nullCopy(i);return this._nodes.forEach((e,a)=>{const n=ee({},e.attributes);e=new t.NodeDataClass(a,n),t._nodes.set(a,e)}),t}copy(i){if(i=i||{},typeof i.type=="string"&&i.type!==this.type&&i.type!=="mixed")throw new z(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${i.type}" because this would mean losing information about the current graph.`);if(typeof i.multi=="boolean"&&i.multi!==this.multi&&i.multi!==!0)throw new z("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof i.allowSelfLoops=="boolean"&&i.allowSelfLoops!==this.allowSelfLoops&&i.allowSelfLoops!==!0)throw new z("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const t=this.emptyCopy(i),e=this._edges.values();let a,n;for(;a=e.next(),a.done!==!0;)n=a.value,_a(t,"copy",!1,n.undirected,n.key,n.source.key,n.target.key,ee({},n.attributes));return t}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const i={};this._nodes.forEach((n,r)=>{i[r]=n.attributes});const t={},e={};this._edges.forEach((n,r)=>{const o=n.undirected?"--":"->";let u="",c=n.source.key,l=n.target.key,d;n.undirected&&c>l&&(d=c,c=l,l=d);const y=`(${c})${o}(${l})`;r.startsWith("geid_")?this.multi&&(typeof e[y]>"u"?e[y]=0:e[y]++,u+=`${e[y]}. `):u+=`[${r}]: `,u+=y,t[u]=n.attributes});const a={};for(const n in this)this.hasOwnProperty(n)&&!wi.has(n)&&typeof this[n]!="function"&&typeof n!="symbol"&&(a[n]=this[n]);return a.attributes=this._attributes,a.nodes=i,a.edges=t,ce(a,"constructor",this.constructor),a}}typeof Symbol<"u"&&(Z.prototype[Symbol.for("nodejs.util.inspect.custom")]=Z.prototype.inspect);ar.forEach(s=>{["add","merge","update"].forEach(i=>{const t=s.name(i),e=i==="add"?_a:rr;s.generateKey?Z.prototype[t]=function(a,n,r){return e(this,t,!0,(s.type||this.type)==="undirected",null,a,n,r,i==="update")}:Z.prototype[t]=function(a,n,r,o){return e(this,t,!1,(s.type||this.type)==="undirected",a,n,r,o,i==="update")}})});pn(Z);Pn(Z);$n(Z);Zn(Z);class Ea extends Z{constructor(i){const t=ee({type:"directed"},i);if("multi"in t&&t.multi!==!1)throw new k("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(t.type!=="directed")throw new k('DirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}class ba extends Z{constructor(i){const t=ee({type:"undirected"},i);if("multi"in t&&t.multi!==!1)throw new k("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(t.type!=="undirected")throw new k('UndirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}class Sa extends Z{constructor(i){const t=ee({multi:!0},i);if("multi"in t&&t.multi!==!0)throw new k("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(t)}}class wa extends Z{constructor(i){const t=ee({type:"directed",multi:!0},i);if("multi"in t&&t.multi!==!0)throw new k("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(t.type!=="directed")throw new k('MultiDirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}class Ca extends Z{constructor(i){const t=ee({type:"undirected",multi:!0},i);if("multi"in t&&t.multi!==!0)throw new k("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(t.type!=="undirected")throw new k('MultiUndirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}function je(s){s.from=function(i,t){const e=ee({},i.options,t),a=new s(e);return a.import(i),a}}je(Z);je(Ea);je(ba);je(Sa);je(wa);je(Ca);Z.Graph=Z;Z.DirectedGraph=Ea;Z.UndirectedGraph=ba;Z.MultiGraph=Sa;Z.MultiDirectedGraph=wa;Z.MultiUndirectedGraph=Ca;Z.InvalidArgumentsGraphError=k;Z.NotFoundGraphError=G;Z.UsageGraphError=z;var Xe={},Pi;function or(){if(Pi)return Xe;Pi=1;function s(e){return typeof e!="number"||isNaN(e)?1:e}function i(e,a){var n={},r=function(c){return typeof c>"u"?a:c};typeof a=="function"&&(r=a);var o=function(c){return r(c[e])},u=function(){return r(void 0)};return typeof e=="string"?(n.fromAttributes=o,n.fromGraph=function(c,l){return o(c.getNodeAttributes(l))},n.fromEntry=function(c,l){return o(l)}):typeof e=="function"?(n.fromAttributes=function(){throw new Error("graphology-utils/getters/createNodeValueGetter: irrelevant usage.")},n.fromGraph=function(c,l){return r(e(l,c.getNodeAttributes(l)))},n.fromEntry=function(c,l){return r(e(c,l))}):(n.fromAttributes=u,n.fromGraph=u,n.fromEntry=u),n}function t(e,a){var n={},r=function(c){return typeof c>"u"?a:c};typeof a=="function"&&(r=a);var o=function(c){return r(c[e])},u=function(){return r(void 0)};return typeof e=="string"?(n.fromAttributes=o,n.fromGraph=function(c,l){return o(c.getEdgeAttributes(l))},n.fromEntry=function(c,l){return o(l)},n.fromPartialEntry=n.fromEntry,n.fromMinimalEntry=n.fromEntry):typeof e=="function"?(n.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},n.fromGraph=function(c,l){var d=c.extremities(l);return r(e(l,c.getEdgeAttributes(l),d[0],d[1],c.getNodeAttributes(d[0]),c.getNodeAttributes(d[1]),c.isUndirected(l)))},n.fromEntry=function(c,l,d,y,p,E,b){return r(e(c,l,d,y,p,E,b))},n.fromPartialEntry=function(c,l,d,y){return r(e(c,l,d,y))},n.fromMinimalEntry=function(c,l){return r(e(c,l))}):(n.fromAttributes=u,n.fromGraph=u,n.fromEntry=u,n.fromMinimalEntry=u),n}return Xe.createNodeValueGetter=i,Xe.createEdgeValueGetter=t,Xe.createEdgeWeightGetter=function(e){return t(e,s)},Xe}var At,Ai;function ur(){if(Ai)return At;Ai=1;var s=0,i=1,t=2,e=3,a=4,n=5,r=6,o=7,u=8,c=9,l=0,d=1,y=2,p=0,E=1,b=2,A=3,F=4,R=5,L=6,M=7,S=8,B=3,h=10,_=3,g=9,v=10;return At=function(T,f,H){var j,C,m,U,$,K,Y,V,x,re,Q=f.length,be=H.length,oe=T.adjustSizes,ue=T.barnesHutTheta*T.barnesHutTheta,ae,q,J,W,X,O,N,w=[];for(m=0;m<Q;m+=h)f[m+a]=f[m+t],f[m+n]=f[m+e],f[m+t]=0,f[m+e]=0;if(T.outboundAttractionDistribution){for(ae=0,m=0;m<Q;m+=h)ae+=f[m+r];ae/=Q/h}if(T.barnesHutOptimize){var Me=1/0,fe=-1/0,_e=1/0,Ee=-1/0,te,pe,Se;for(m=0;m<Q;m+=h)Me=Math.min(Me,f[m+s]),fe=Math.max(fe,f[m+s]),_e=Math.min(_e,f[m+i]),Ee=Math.max(Ee,f[m+i]);var Le=fe-Me,tt=Ee-_e;for(Le>tt?(_e-=(Le-tt)/2,Ee=_e+Le):(Me-=(tt-Le)/2,fe=Me+tt),w[0+p]=-1,w[0+E]=(Me+fe)/2,w[0+b]=(_e+Ee)/2,w[0+A]=Math.max(fe-Me,Ee-_e),w[0+F]=-1,w[0+R]=-1,w[0+L]=0,w[0+M]=0,w[0+S]=0,j=1,m=0;m<Q;m+=h)for(C=0,Se=B;;)if(w[C+R]>=0){f[m+s]<w[C+E]?f[m+i]<w[C+b]?te=w[C+R]:te=w[C+R]+g:f[m+i]<w[C+b]?te=w[C+R]+g*2:te=w[C+R]+g*3,w[C+M]=(w[C+M]*w[C+L]+f[m+s]*f[m+r])/(w[C+L]+f[m+r]),w[C+S]=(w[C+S]*w[C+L]+f[m+i]*f[m+r])/(w[C+L]+f[m+r]),w[C+L]+=f[m+r],C=te;continue}else if(w[C+p]<0){w[C+p]=m;break}else{if(w[C+R]=j*g,V=w[C+A]/2,x=w[C+R],w[x+p]=-1,w[x+E]=w[C+E]-V,w[x+b]=w[C+b]-V,w[x+A]=V,w[x+F]=x+g,w[x+R]=-1,w[x+L]=0,w[x+M]=0,w[x+S]=0,x+=g,w[x+p]=-1,w[x+E]=w[C+E]-V,w[x+b]=w[C+b]+V,w[x+A]=V,w[x+F]=x+g,w[x+R]=-1,w[x+L]=0,w[x+M]=0,w[x+S]=0,x+=g,w[x+p]=-1,w[x+E]=w[C+E]+V,w[x+b]=w[C+b]-V,w[x+A]=V,w[x+F]=x+g,w[x+R]=-1,w[x+L]=0,w[x+M]=0,w[x+S]=0,x+=g,w[x+p]=-1,w[x+E]=w[C+E]+V,w[x+b]=w[C+b]+V,w[x+A]=V,w[x+F]=w[C+F],w[x+R]=-1,w[x+L]=0,w[x+M]=0,w[x+S]=0,j+=4,f[w[C+p]+s]<w[C+E]?f[w[C+p]+i]<w[C+b]?te=w[C+R]:te=w[C+R]+g:f[w[C+p]+i]<w[C+b]?te=w[C+R]+g*2:te=w[C+R]+g*3,w[C+L]=f[w[C+p]+r],w[C+M]=f[w[C+p]+s],w[C+S]=f[w[C+p]+i],w[te+p]=w[C+p],w[C+p]=-1,f[m+s]<w[C+E]?f[m+i]<w[C+b]?pe=w[C+R]:pe=w[C+R]+g:f[m+i]<w[C+b]?pe=w[C+R]+g*2:pe=w[C+R]+g*3,te===pe)if(Se--){C=te;continue}else{Se=B;break}w[pe+p]=m;break}}if(T.barnesHutOptimize)for(q=T.scalingRatio,m=0;m<Q;m+=h)for(C=0;;)if(w[C+R]>=0)if(O=Math.pow(f[m+s]-w[C+M],2)+Math.pow(f[m+i]-w[C+S],2),re=w[C+A],4*re*re/O<ue){if(J=f[m+s]-w[C+M],W=f[m+i]-w[C+S],oe===!0?O>0?(N=q*f[m+r]*w[C+L]/O,f[m+t]+=J*N,f[m+e]+=W*N):O<0&&(N=-q*f[m+r]*w[C+L]/Math.sqrt(O),f[m+t]+=J*N,f[m+e]+=W*N):O>0&&(N=q*f[m+r]*w[C+L]/O,f[m+t]+=J*N,f[m+e]+=W*N),C=w[C+F],C<0)break;continue}else{C=w[C+R];continue}else{if(K=w[C+p],K>=0&&K!==m&&(J=f[m+s]-f[K+s],W=f[m+i]-f[K+i],O=J*J+W*W,oe===!0?O>0?(N=q*f[m+r]*f[K+r]/O,f[m+t]+=J*N,f[m+e]+=W*N):O<0&&(N=-q*f[m+r]*f[K+r]/Math.sqrt(O),f[m+t]+=J*N,f[m+e]+=W*N):O>0&&(N=q*f[m+r]*f[K+r]/O,f[m+t]+=J*N,f[m+e]+=W*N)),C=w[C+F],C<0)break;continue}else for(q=T.scalingRatio,U=0;U<Q;U+=h)for($=0;$<U;$+=h)J=f[U+s]-f[$+s],W=f[U+i]-f[$+i],oe===!0?(O=Math.sqrt(J*J+W*W)-f[U+u]-f[$+u],O>0?(N=q*f[U+r]*f[$+r]/O/O,f[U+t]+=J*N,f[U+e]+=W*N,f[$+t]-=J*N,f[$+e]-=W*N):O<0&&(N=100*q*f[U+r]*f[$+r],f[U+t]+=J*N,f[U+e]+=W*N,f[$+t]-=J*N,f[$+e]-=W*N)):(O=Math.sqrt(J*J+W*W),O>0&&(N=q*f[U+r]*f[$+r]/O/O,f[U+t]+=J*N,f[U+e]+=W*N,f[$+t]-=J*N,f[$+e]-=W*N));for(x=T.gravity/T.scalingRatio,q=T.scalingRatio,m=0;m<Q;m+=h)N=0,J=f[m+s],W=f[m+i],O=Math.sqrt(Math.pow(J,2)+Math.pow(W,2)),T.strongGravityMode?O>0&&(N=q*f[m+r]*x):O>0&&(N=q*f[m+r]*x/O),f[m+t]-=J*N,f[m+e]-=W*N;for(q=1*(T.outboundAttractionDistribution?ae:1),Y=0;Y<be;Y+=_)U=H[Y+l],$=H[Y+d],V=H[Y+y],X=Math.pow(V,T.edgeWeightInfluence),J=f[U+s]-f[$+s],W=f[U+i]-f[$+i],oe===!0?(O=Math.sqrt(J*J+W*W)-f[U+u]-f[$+u],T.linLogMode?T.outboundAttractionDistribution?O>0&&(N=-q*X*Math.log(1+O)/O/f[U+r]):O>0&&(N=-q*X*Math.log(1+O)/O):T.outboundAttractionDistribution?O>0&&(N=-q*X/f[U+r]):O>0&&(N=-q*X)):(O=Math.sqrt(Math.pow(J,2)+Math.pow(W,2)),T.linLogMode?T.outboundAttractionDistribution?O>0&&(N=-q*X*Math.log(1+O)/O/f[U+r]):O>0&&(N=-q*X*Math.log(1+O)/O):T.outboundAttractionDistribution?(O=1,N=-q*X/f[U+r]):(O=1,N=-q*X)),O>0&&(f[U+t]+=J*N,f[U+e]+=W*N,f[$+t]-=J*N,f[$+e]-=W*N);var it,We,at,Be,st,nt;if(oe===!0)for(m=0;m<Q;m+=h)f[m+c]!==1&&(it=Math.sqrt(Math.pow(f[m+t],2)+Math.pow(f[m+e],2)),it>v&&(f[m+t]=f[m+t]*v/it,f[m+e]=f[m+e]*v/it),We=f[m+r]*Math.sqrt((f[m+a]-f[m+t])*(f[m+a]-f[m+t])+(f[m+n]-f[m+e])*(f[m+n]-f[m+e])),at=Math.sqrt((f[m+a]+f[m+t])*(f[m+a]+f[m+t])+(f[m+n]+f[m+e])*(f[m+n]+f[m+e]))/2,Be=.1*Math.log(1+at)/(1+Math.sqrt(We)),st=f[m+s]+f[m+t]*(Be/T.slowDown),f[m+s]=st,nt=f[m+i]+f[m+e]*(Be/T.slowDown),f[m+i]=nt);else for(m=0;m<Q;m+=h)f[m+c]!==1&&(We=f[m+r]*Math.sqrt((f[m+a]-f[m+t])*(f[m+a]-f[m+t])+(f[m+n]-f[m+e])*(f[m+n]-f[m+e])),at=Math.sqrt((f[m+a]+f[m+t])*(f[m+a]+f[m+t])+(f[m+n]+f[m+e])*(f[m+n]+f[m+e]))/2,Be=f[m+o]*Math.log(1+at)/(1+Math.sqrt(We)),f[m+o]=Math.min(1,Math.sqrt(Be*(Math.pow(f[m+t],2)+Math.pow(f[m+e],2))/(1+Math.sqrt(We)))),st=f[m+s]+f[m+t]*(Be/T.slowDown),f[m+s]=st,nt=f[m+i]+f[m+e]*(Be/T.slowDown),f[m+i]=nt);return{}},At}var we={},Ti;function cr(){if(Ti)return we;Ti=1;var s=10,i=3;return we.assign=function(t){t=t||{};var e=Array.prototype.slice.call(arguments).slice(1),a,n,r;for(a=0,r=e.length;a<r;a++)if(e[a])for(n in e[a])t[n]=e[a][n];return t},we.validateSettings=function(t){return"linLogMode"in t&&typeof t.linLogMode!="boolean"?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in t&&typeof t.outboundAttractionDistribution!="boolean"?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in t&&typeof t.adjustSizes!="boolean"?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in t&&typeof t.edgeWeightInfluence!="number"?{message:"the `edgeWeightInfluence` setting should be a number."}:"scalingRatio"in t&&!(typeof t.scalingRatio=="number"&&t.scalingRatio>=0)?{message:"the `scalingRatio` setting should be a number >= 0."}:"strongGravityMode"in t&&typeof t.strongGravityMode!="boolean"?{message:"the `strongGravityMode` setting should be a boolean."}:"gravity"in t&&!(typeof t.gravity=="number"&&t.gravity>=0)?{message:"the `gravity` setting should be a number >= 0."}:"slowDown"in t&&!(typeof t.slowDown=="number"||t.slowDown>=0)?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in t&&typeof t.barnesHutOptimize!="boolean"?{message:"the `barnesHutOptimize` setting should be a boolean."}:"barnesHutTheta"in t&&!(typeof t.barnesHutTheta=="number"&&t.barnesHutTheta>=0)?{message:"the `barnesHutTheta` setting should be a number >= 0."}:null},we.graphToByteArrays=function(t,e){var a=t.order,n=t.size,r={},o,u=new Float32Array(a*s),c=new Float32Array(n*i);return o=0,t.forEachNode(function(l,d){r[l]=o,u[o]=d.x,u[o+1]=d.y,u[o+2]=0,u[o+3]=0,u[o+4]=0,u[o+5]=0,u[o+6]=1,u[o+7]=1,u[o+8]=d.size||1,u[o+9]=d.fixed?1:0,o+=s}),o=0,t.forEachEdge(function(l,d,y,p,E,b,A){var F=r[y],R=r[p],L=e(l,d,y,p,E,b,A);u[F+6]+=L,u[R+6]+=L,c[o]=F,c[o+1]=R,c[o+2]=L,o+=i}),{nodes:u,edges:c}},we.assignLayoutChanges=function(t,e,a){var n=0;t.updateEachNodeAttributes(function(r,o){return o.x=e[n],o.y=e[n+1],n+=s,a?a(r,o):o})},we.readGraphPositions=function(t,e){var a=0;t.forEachNode(function(n,r){e[a]=r.x,e[a+1]=r.y,a+=s})},we.collectLayoutChanges=function(t,e,a){for(var n=t.nodes(),r={},o=0,u=0,c=e.length;o<c;o+=s){if(a){var l=Object.assign({},t.getNodeAttributes(n[u]));l.x=e[o],l.y=e[o+1],l=a(n[u],l),r[n[u]]={x:l.x,y:l.y}}else r[n[u]]={x:e[o],y:e[o+1]};u++}return r},we.createWorker=function(e){var a=window.URL||window.webkitURL,n=e.toString(),r=a.createObjectURL(new Blob(["("+n+").call(this);"],{type:"text/javascript"})),o=new Worker(r);return a.revokeObjectURL(r),o},we}var Tt,Ri;function lr(){return Ri||(Ri=1,Tt={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:1,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5}),Tt}var Rt,Li;function dr(){if(Li)return Rt;Li=1;var s=ke(),i=or().createEdgeWeightGetter,t=ur(),e=cr(),a=lr();function n(u,c,l){if(!s(c))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");typeof l=="number"&&(l={iterations:l});var d=l.iterations;if(typeof d!="number")throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(d<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var y=i("getEdgeWeight"in l?l.getEdgeWeight:"weight").fromEntry,p=typeof l.outputReducer=="function"?l.outputReducer:null,E=e.assign({},a,l.settings),b=e.validateSettings(E);if(b)throw new Error("graphology-layout-forceatlas2: "+b.message);var A=e.graphToByteArrays(c,y),F;for(F=0;F<d;F++)t(E,A.nodes,A.edges);if(u){e.assignLayoutChanges(c,A.nodes,p);return}return e.collectLayoutChanges(c,A.nodes)}function r(u){var c=typeof u=="number"?u:u.order;return{barnesHutOptimize:c>2e3,strongGravityMode:!0,gravity:.05,scalingRatio:10,slowDown:1+Math.log(c)}}var o=n.bind(null,!1);return o.assign=n.bind(null,!0),o.inferSettings=r,Rt=o,Rt}var hr=dr();const Pa=qt(hr);var Ie={},Lt,Bi;function pt(){if(Bi)return Lt;Bi=1;function s(t){return!t||typeof t!="object"||typeof t=="function"||Array.isArray(t)||t instanceof Set||t instanceof Map||t instanceof RegExp||t instanceof Date}function i(t,e){t=t||{};var a={};for(var n in e){var r=t[n],o=e[n];if(!s(o)){a[n]=i(r,o);continue}r===void 0?a[n]=o:a[n]=r}return a}return Lt=i,Lt}var Bt,Di;function yr(){if(Di)return Bt;Di=1;function s(t){return function(e,a){return e+Math.floor(t()*(a-e+1))}}var i=s(Math.random);return i.createRandom=s,Bt=i,Bt}var Dt,Fi;function fr(){if(Fi)return Dt;Fi=1;var s=yr().createRandom;function i(e){var a=s(e);return function(n){for(var r=n.length,o=r-1,u=-1;++u<r;){var c=a(u,o),l=n[c];n[c]=n[u],n[u]=l}}}var t=i(Math.random);return t.createShuffleInPlace=i,Dt=t,Dt}var Ft,Gi;function pr(){if(Gi)return Ft;Gi=1;var s=pt(),i=ke(),t=fr(),e={attributes:{x:"x",y:"y"},center:0,hierarchyAttributes:[],rng:Math.random,scale:1};function a(h,_,g,v,P){this.wrappedCircle=P||null,this.children={},this.countChildren=0,this.id=h||null,this.next=null,this.previous=null,this.x=_||null,this.y=g||null,P?this.r=1010101:this.r=v||999}a.prototype.hasChildren=function(){return this.countChildren>0},a.prototype.addChild=function(h,_){this.children[h]=_,++this.countChildren},a.prototype.getChild=function(h){if(!this.children.hasOwnProperty(h)){var _=new a;this.children[h]=_,++this.countChildren}return this.children[h]},a.prototype.applyPositionToChildren=function(){if(this.hasChildren()){var h=this;for(var _ in h.children){var g=h.children[_];g.x+=h.x,g.y+=h.y,g.applyPositionToChildren()}}};function n(h,_,g){for(var v in _.children){var P=_.children[v];P.hasChildren()?n(h,P,g):g[P.id]={x:P.x,y:P.y}}}function r(h,_){var g=h.r-_.r,v=_.x-h.x,P=_.y-h.y;return g<0||g*g<v*v+P*P}function o(h,_){var g=h.r-_.r+1e-6,v=_.x-h.x,P=_.y-h.y;return g>0&&g*g>v*v+P*P}function u(h,_){for(var g=0;g<_.length;++g)if(!o(h,_[g]))return!1;return!0}function c(h){return new a(null,h.x,h.y,h.r)}function l(h,_){var g=h.x,v=h.y,P=h.r,T=_.x,f=_.y,H=_.r,j=T-g,C=f-v,m=H-P,U=Math.sqrt(j*j+C*C);return new a(null,(g+T+j/U*m)/2,(v+f+C/U*m)/2,(U+P+H)/2)}function d(h,_,g){var v=h.x,P=h.y,T=h.r,f=_.x,H=_.y,j=_.r,C=g.x,m=g.y,U=g.r,$=v-f,K=v-C,Y=P-H,V=P-m,x=j-T,re=U-T,Q=v*v+P*P-T*T,be=Q-f*f-H*H+j*j,oe=Q-C*C-m*m+U*U,ue=K*Y-$*V,ae=(Y*oe-V*be)/(ue*2)-v,q=(V*x-Y*re)/ue,J=(K*be-$*oe)/(ue*2)-P,W=($*re-K*x)/ue,X=q*q+W*W-1,O=2*(T+ae*q+J*W),N=ae*ae+J*J-T*T,w=-(X?(O+Math.sqrt(O*O-4*X*N))/(2*X):N/O);return new a(null,v+ae+q*w,P+J+W*w,w)}function y(h){switch(h.length){case 1:return c(h[0]);case 2:return l(h[0],h[1]);case 3:return d(h[0],h[1],h[2]);default:throw new Error("graphology-layout/circlepack: Invalid basis length "+h.length)}}function p(h,_){var g,v;if(u(_,h))return[_];for(g=0;g<h.length;++g)if(r(_,h[g])&&u(l(h[g],_),h))return[h[g],_];for(g=0;g<h.length-1;++g)for(v=g+1;v<h.length;++v)if(r(l(h[g],h[v]),_)&&r(l(h[g],_),h[v])&&r(l(h[v],_),h[g])&&u(d(h[g],h[v],_),h))return[h[g],h[v],_];throw new Error("graphology-layout/circlepack: extendBasis failure !")}function E(h){var _=h.wrappedCircle,g=h.next.wrappedCircle,v=_.r+g.r,P=(_.x*g.r+g.x*_.r)/v,T=(_.y*g.r+g.y*_.r)/v;return P*P+T*T}function b(h,_){var g=0,v=h.slice(),P=h.length,T=[],f,H;for(_(v);g<P;)f=v[g],H&&o(H,f)?++g:(T=p(T,f),H=y(T),g=0);return H}function A(h,_,g){var v=h.x-_.x,P,T,f=h.y-_.y,H,j,C=v*v+f*f;C?(T=_.r+g.r,T*=T,j=h.r+g.r,j*=j,T>j?(P=(C+j-T)/(2*C),H=Math.sqrt(Math.max(0,j/C-P*P)),g.x=h.x-P*v-H*f,g.y=h.y-P*f+H*v):(P=(C+T-j)/(2*C),H=Math.sqrt(Math.max(0,T/C-P*P)),g.x=_.x+P*v-H*f,g.y=_.y+P*f+H*v)):(g.x=_.x+g.r,g.y=_.y)}function F(h,_){var g=h.r+_.r-1e-6,v=_.x-h.x,P=_.y-h.y;return g>0&&g*g>v*v+P*P}function R(h,_){var g=h.length;if(g===0)return 0;var v,P,T,f,H,j,C,m,U,$;if(v=h[0],v.x=0,v.y=0,g<=1)return v.r;if(P=h[1],v.x=-P.r,P.x=v.r,P.y=0,g<=2)return v.r+P.r;T=h[2],A(P,v,T),v=new a(null,null,null,null,v),P=new a(null,null,null,null,P),T=new a(null,null,null,null,T),v.next=T.previous=P,P.next=v.previous=T,T.next=P.previous=v;e:for(j=3;j<g;++j){T=h[j],A(v.wrappedCircle,P.wrappedCircle,T),T=new a(null,null,null,null,T),C=P.next,m=v.previous,U=P.wrappedCircle.r,$=v.wrappedCircle.r;do if(U<=$){if(F(C.wrappedCircle,T.wrappedCircle)){P=C,v.next=P,P.previous=v,--j;continue e}U+=C.wrappedCircle.r,C=C.next}else{if(F(m.wrappedCircle,T.wrappedCircle)){v=m,v.next=P,P.previous=v,--j;continue e}$+=m.wrappedCircle.r,m=m.previous}while(C!==m.next);for(T.previous=v,T.next=P,v.next=P.previous=P=T,f=E(v);(T=T.next)!==P;)(H=E(T))<f&&(v=T,f=H);P=v.next}v=[P.wrappedCircle],T=P;for(var K=1e4;(T=T.next)!==P&&--K!==0;)v.push(T.wrappedCircle);for(T=b(v,_),j=0;j<g;++j)v=h[j],v.x-=T.x,v.y-=T.y;return T.r}function L(h,_){var g=0;if(h.hasChildren()){for(var v in h.children){var P=h.children[v];P.hasChildren()&&(P.r=L(P,_))}g=R(Object.values(h.children),_)}return g}function M(h,_){L(h,_);for(var g in h.children){var v=h.children[g];v.applyPositionToChildren()}}function S(h,_,g){if(!i(_))throw new Error("graphology-layout/circlepack: the given graph is not a valid graphology instance.");g=s(g,e);var v={},P={},T=_.nodes(),f=g.center,H=g.hierarchyAttributes,j=t.createShuffleInPlace(g.rng),C=g.scale,m=new a;_.forEachNode(function(x,re){var Q=re.size?re.size:1,be=new a(x,null,null,Q),oe=m;H.forEach(function(ue){var ae=re[ue];oe=oe.getChild(ae)}),oe.addChild(x,be)}),M(m,j),n(_,m,v);var U=T.length,$,K,Y;for(Y=0;Y<U;Y++){var V=T[Y];$=f+C*v[V].x,K=f+C*v[V].y,P[V]={x:$,y:K},h&&(_.setNodeAttribute(V,g.attributes.x,$),_.setNodeAttribute(V,g.attributes.y,K))}return P}var B=S.bind(null,!1);return B.assign=S.bind(null,!0),Ft=B,Ft}var Gt,ki;function gr(){if(ki)return Gt;ki=1;var s=pt(),i=ke(),t={dimensions:["x","y"],center:.5,scale:1};function e(n,r,o){if(!i(r))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");o=s(o,t);var u=o.dimensions;if(!Array.isArray(u)||u.length!==2)throw new Error("graphology-layout/random: given dimensions are invalid.");var c=o.center,l=o.scale,d=Math.PI*2,y=(c-.5)*l,p=r.order,E=u[0],b=u[1];function A(L,M){return M[E]=l*Math.cos(L*d/p)+y,M[b]=l*Math.sin(L*d/p)+y,M}var F=0;if(!n){var R={};return r.forEachNode(function(L){R[L]=A(F++,{})}),R}r.updateEachNodeAttributes(function(L,M){return A(F++,M),M},{attributes:u})}var a=e.bind(null,!1);return a.assign=e.bind(null,!0),Gt=a,Gt}var kt,xi;function mr(){if(xi)return kt;xi=1;var s=pt(),i=ke(),t={dimensions:["x","y"],center:.5,rng:Math.random,scale:1};function e(n,r,o){if(!i(r))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");o=s(o,t);var u=o.dimensions;if(!Array.isArray(u)||u.length<1)throw new Error("graphology-layout/random: given dimensions are invalid.");var c=u.length,l=o.center,d=o.rng,y=o.scale,p=(l-.5)*y;function E(A){for(var F=0;F<c;F++)A[u[F]]=d()*y+p;return A}if(!n){var b={};return r.forEachNode(function(A){b[A]=E({})}),b}r.updateEachNodeAttributes(function(A,F){return E(F),F},{attributes:u})}var a=e.bind(null,!1);return a.assign=e.bind(null,!0),kt=a,kt}var xt,Ii;function vr(){if(Ii)return xt;Ii=1;var s=pt(),i=ke(),t=Math.PI/180,e={dimensions:["x","y"],centeredOnZero:!1,degrees:!1};function a(r,o,u,c){if(!i(o))throw new Error("graphology-layout/rotation: the given graph is not a valid graphology instance.");c=s(c,e),c.degrees&&(u*=t);var l=c.dimensions;if(!Array.isArray(l)||l.length!==2)throw new Error("graphology-layout/random: given dimensions are invalid.");if(o.order===0)return r?void 0:{};var d=l[0],y=l[1],p=0,E=0;if(!c.centeredOnZero){var b=1/0,A=-1/0,F=1/0,R=-1/0;o.forEachNode(function(h,_){var g=_[d],v=_[y];g<b&&(b=g),g>A&&(A=g),v<F&&(F=v),v>R&&(R=v)}),p=(b+A)/2,E=(F+R)/2}var L=Math.cos(u),M=Math.sin(u);function S(h){var _=h[d],g=h[y];return h[d]=p+(_-p)*L-(g-E)*M,h[y]=E+(_-p)*M+(g-E)*L,h}if(!r){var B={};return o.forEachNode(function(h,_){var g={};g[d]=_[d],g[y]=_[y],B[h]=S(g)}),B}o.updateEachNodeAttributes(function(h,_){return S(_),_},{attributes:l})}var n=a.bind(null,!1);return n.assign=a.bind(null,!0),xt=n,xt}var Ni;function Mr(){return Ni||(Ni=1,Ie.circlepack=pr(),Ie.circular=gr(),Ie.random=mr(),Ie.rotation=vr()),Ie}var _r=Mr(),It,Oi;function Er(){if(Oi)return It;Oi=1;var s=0,i=1,t=2,e=3;function a(r,o){return r+"Â§"+o}function n(){return .01*(.5-Math.random())}return It=function(o,u){var c=o.margin,l=o.ratio,d=o.expansion,y=o.gridSize,p=o.speed,E,b,A,F,R,L,M=!0,S=u.length,B=S/e|0,h=new Float32Array(B),_=new Float32Array(B),g=1/0,v=1/0,P=-1/0,T=-1/0;for(E=0;E<S;E+=e)A=u[E+s],F=u[E+i],L=u[E+t]*l+c,g=Math.min(g,A-L),P=Math.max(P,A+L),v=Math.min(v,F-L),T=Math.max(T,F+L);var f=P-g,H=T-v,j=(g+P)/2,C=(v+T)/2;g=j-d*f/2,P=j+d*f/2,v=C-d*H/2,T=C+d*H/2;var m=new Array(y*y),U=m.length,$;for($=0;$<U;$++)m[$]=[];var K,Y,V,x,re,Q,be,oe,ue,ae;for(E=0;E<S;E+=e)for(A=u[E+s],F=u[E+i],L=u[E+t]*l+c,K=A-L,Y=A+L,V=F-L,x=F+L,re=Math.floor(y*(K-g)/(P-g)),Q=Math.floor(y*(Y-g)/(P-g)),be=Math.floor(y*(V-v)/(T-v)),oe=Math.floor(y*(x-v)/(T-v)),ue=re;ue<=Q;ue++)for(ae=be;ae<=oe;ae++)m[ue*y+ae].push(E);var q,J=new Set,W,X,O,N,w,Me,fe,_e,Ee,te,pe,Se,Le;for($=0;$<U;$++)for(q=m[$],E=0,R=q.length;E<R;E++)for(W=q[E],O=u[W+s],w=u[W+i],fe=u[W+t],b=E+1;b<R;b++)X=q[b],Ee=a(W,X),!(U>1&&J.has(Ee))&&(U>1&&J.add(Ee),N=u[X+s],Me=u[X+i],_e=u[X+t],te=N-O,pe=Me-w,Se=Math.sqrt(te*te+pe*pe),Le=Se<fe*l+c+(_e*l+c),Le&&(M=!1,X=X/e|0,Se>0?(h[X]+=te/Se*(1+fe),_[X]+=pe/Se*(1+fe)):(h[X]+=f*n(),_[X]+=H*n())));for(E=0,b=0;E<S;E+=e,b++)u[E+s]+=h[b]*.1*p,u[E+i]+=_[b]*.1*p;return{converged:M}},It}var Fe={},Ui;function br(){if(Ui)return Fe;Ui=1;var s=3;return Fe.validateSettings=function(i){return"gridSize"in i&&typeof i.gridSize!="number"||i.gridSize<=0?{message:"the `gridSize` setting should be a positive number."}:"margin"in i&&typeof i.margin!="number"||i.margin<0?{message:"the `margin` setting should be 0 or a positive number."}:"expansion"in i&&typeof i.expansion!="number"||i.expansion<=0?{message:"the `expansion` setting should be a positive number."}:"ratio"in i&&typeof i.ratio!="number"||i.ratio<=0?{message:"the `ratio` setting should be a positive number."}:"speed"in i&&typeof i.speed!="number"||i.speed<=0?{message:"the `speed` setting should be a positive number."}:null},Fe.graphToByteArray=function(i,t){var e=i.order,a=new Float32Array(e*s),n=0;return i.forEachNode(function(r,o){typeof t=="function"&&(o=t(r,o)),a[n]=o.x,a[n+1]=o.y,a[n+2]=o.size||1,n+=s}),a},Fe.assignLayoutChanges=function(i,t,e){var a=0;i.forEachNode(function(n){var r={x:t[a],y:t[a+1]};typeof e=="function"&&(r=e(n,r)),i.mergeNodeAttributes(n,r),a+=s})},Fe.collectLayoutChanges=function(i,t,e){var a={},n=0;return i.forEachNode(function(r){var o={x:t[n],y:t[n+1]};typeof e=="function"&&(o=e(r,o)),a[r]=o,n+=s}),a},Fe.createWorker=function(t){var e=window.URL||window.webkitURL,a=t.toString(),n=e.createObjectURL(new Blob(["("+a+").call(this);"],{type:"text/javascript"})),r=new Worker(n);return e.revokeObjectURL(n),r},Fe}var Nt,zi;function Sr(){return zi||(zi=1,Nt={gridSize:20,margin:5,expansion:1.1,ratio:1,speed:3}),Nt}var Ot,$i;function wr(){if($i)return Ot;$i=1;var s=ke(),i=Er(),t=br(),e=Sr(),a=500;function n(o,u,c){if(!s(u))throw new Error("graphology-layout-noverlap: the given graph is not a valid graphology instance.");typeof c=="number"?c={maxIterations:c}:c=c||{};var l=c.maxIterations||a;if(typeof l!="number"||l<=0)throw new Error("graphology-layout-force: you should provide a positive number of maximum iterations.");var d=Object.assign({},e,c.settings),y=t.validateSettings(d);if(y)throw new Error("graphology-layout-noverlap: "+y.message);var p=t.graphToByteArray(u,c.inputReducer),E=!1,b;for(b=0;b<l&&!E;b++)E=i(d,p).converged;if(o){t.assignLayoutChanges(u,p,c.outputReducer);return}return t.collectLayoutChanges(u,p,c.outputReducer)}var r=n.bind(null,!1);return r.assign=n.bind(null,!0),Ot=r,Ot}var Cr=wr();const Pr=qt(Cr),Aa=JSON.parse(`[{"study":"Accounting and Control","related_studies":["Corporate Finance and Control (Master's specialisation)","Economics, Behaviour and Policy (Master's specialisation)","Financial Economics (Master's specialisation)","International Economics & Development (Master's specialisation)","International Political Economy (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"48","study_type":"Master's specialisation"},{"study":"Adaptive Organisms","related_studies":["Conservation and Restoration Ecology (Master's specialisation)","Microbiology (Master's specialisation)","Environment & Sustainability (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"39","study_type":"Master's specialisation"},{"study":"American Studies","related_studies":["English Language and Culture (Bachelor's)","Arts and Culture Studies (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"17","study_type":"Bachelor's"},{"study":"American Studies","related_studies":["English Language and Culture (Bachelor's)","Arts and Culture Studies (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"17","study_type":"Bachelor's"},{"study":"Ancient and Medieval Mediterranean Worlds","related_studies":["Historical Studies (Master's)","Roman Archeology (Master's specialisation)","Politics and Parliament (Master's specialisation)","Modern and Contemporary History (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"20","study_type":"Master's specialisation"},{"study":"Anthropology and Development Studies","related_studies":["Pre-Master's Anthropology and Development Studies (Pre-Master's)","Social and Cultural Science: Comparative Research on Societies (research) (Research Master's)","Intersectional Gender Studies (Master's)","Sociology (Master's)","International Economics & Development (Master's specialisation)"],"faculty":["Faculty of Social Sciences"],"student_count":"28","study_type":"Master's | Joint programme optional"},{"study":"Art History","related_studies":["Arts and Culture Studies (Bachelor's)","History (Bachelor's)","Philosophy (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"30","study_type":"Bachelor's"},{"study":"Art History","related_studies":["Creative Industries (Master's specialisation)","Cultural Policy and the Business of Art (Master's specialisation)","Tourism and Culture (Master's specialisation)","Art and Visual Culture (Master's)","Roman Archeology (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"30","study_type":"Master's specialisation"},{"study":"Art and Visual Culture","related_studies":["Literary Studies (Master's)","Creative Industries (Master's specialisation)","Cultural Policy and the Business of Art (Master's specialisation)","Art History (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"8","study_type":"Master's"},{"study":"Artificial Intelligence","related_studies":["Computing Science (Bachelor's)","Biomedical Sciences (Bachelor's)","Human Neuroscience (Bachelor's)","Medicine (Bachelor's)","Molecular Life Sciences (Bachelor's)","Linguistics (Bachelor's)","Physics and Astronomy (Bachelor's)"],"faculty":["Faculty of Social Sciences"],"student_count":"230","study_type":"Bachelor's"},{"study":"Artificial Intelligence","related_studies":["Computing Science (Bachelor's)","Biomedical Sciences (Bachelor's)","Human Neuroscience (Bachelor's)","Medicine (Bachelor's)","Molecular Life Sciences (Bachelor's)","Linguistics (Bachelor's)","Physics and Astronomy (Bachelor's)"],"faculty":["Faculty of Social Sciences"],"student_count":"230","study_type":"Bachelor's"},{"study":"Arts and Culture Studies","related_studies":["Arts and Culture Studies (Bachelor's)","Art History (Bachelor's)","Cultural Anthropology and Development Sociology (Bachelor's)","American Studies (Bachelor's)","Philosophy (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"26","study_type":"Bachelor's"},{"study":"Arts and Culture Studies","related_studies":["Arts and Culture Studies (Bachelor's)","Art History (Bachelor's)","Cultural Anthropology and Development Sociology (Bachelor's)","American Studies (Bachelor's)","Philosophy (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"26","study_type":"Bachelor's"},{"study":"Arts and Culture Studies","related_studies":["Arts and Culture Studies (Bachelor's)","Art History (Bachelor's)","Cultural Anthropology and Development Sociology (Bachelor's)","American Studies (Bachelor's)","Philosophy (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"26","study_type":"Bachelor's"},{"study":"Bedrijfskunde","related_studies":["Economics and Business Economics (Bachelor's)","Economics and Business Economics (Bachelor's)","International Business Administration (Bachelor's)","Law and Management (Bachelor's)","Public Administration (Bachelor's)","International Business Communication (Bachelor's)"],"faculty":["Nijmegen School of Management"],"student_count":"452","study_type":"Bachelor's"},{"study":"Behaviour Change","related_studies":["Work, Organisation and Health (Master's specialisation)","Cognitive Neuroscience (research) (Research Master's)","Social and Cultural Science: Comparative Research on Societies (research) (Research Master's)","Behavioural Science (research) (Research Master's)","Healthcare Psychology (Master's specialisation)"],"faculty":["Faculty of Social Sciences"],"student_count":"40","study_type":"Master's specialisation"},{"study":"Behavioural Science (research)","related_studies":["Cognitive Neuroscience (research) (Research Master's)","Social and Cultural Science: Comparative Research on Societies (research) (Research Master's)","Communication Science (Master's)","Behaviour Change (Master's specialisation)","Educational Sciences (Master's)","Pedagogical Sciences (Master's)"],"faculty":["Faculty of Social Sciences"],"student_count":"42","study_type":"Research Master's"},{"study":"Biblical Exegesis","related_studies":["Theology 1 yr (Master's specialisation)","Philosophy of Religion (Master's specialisation)","Religious Studies (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Biology","related_studies":["Biomedical Sciences (Bachelor's)","Medicine (Bachelor's)","Molecular Life Sciences (Bachelor's)","Physics and Astronomy (Bachelor's)","Chemistry (Bachelor's)","Human Neuroscience (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"143","study_type":"Bachelor's"},{"study":"Biology","related_studies":["Biomedical Sciences (Bachelor's)","Medicine (Bachelor's)","Molecular Life Sciences (Bachelor's)","Physics and Astronomy (Bachelor's)","Chemistry (Bachelor's)","Human Neuroscience (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"143","study_type":"Bachelor's"},{"study":"Biology","related_studies":["Biomedical Sciences (Bachelor's)","Medicine (Bachelor's)","Molecular Life Sciences (Bachelor's)","Physics and Astronomy (Bachelor's)","Chemistry (Bachelor's)","Human Neuroscience (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"143","study_type":"Bachelor's"},{"study":"Biomedical Sciences","related_studies":["Medicine (Bachelor's)","Biology (Bachelor's)","Mathematics (Bachelor's)"],"faculty":["Faculty of Medical Sciences"],"student_count":"97","study_type":"Bachelor's"},{"study":"Biomedical Sciences","related_studies":["Molecular Mechanisms of Disease (research) (Research Master's)","Human Biology (Master's specialisation)","Microbiology (Master's specialisation)"],"faculty":["Faculty of Medical Sciences"],"student_count":"97","study_type":"Master's"},{"study":"Borders, Migration and Justice","related_studies":["Conflict, Territories and Identities (Master's specialisation | Joint programme optional)","Capital, Labour and Extraction (Master's specialisation | Joint programme optional)","Cities, Culture and Inequality (Master's specialisation | Joint programme optional)","Two-year Educational Master's Geography (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"study_type":"Master's specialisation | Joint programme optional"},{"study":"Business Analysis and Modelling","related_studies":["European Master in System Dynamics (Master's specialisation | Joint programme)","Gender Equality, Diversity and Inclusion in Management (Master's specialisation)","Innovation and Entrepreneurship (Master's specialisation)","International Business (Master's specialisation | Joint programme optional)","Marketing (Master's specialisation)","Organisational Design & Development (Master's specialisation)","Strategic Human Resources Leadership (Master's specialisation | Joint programme optional)","Strategic Management (Master's specialisation)","Responsible Digitalisation (Master's specialisation)","Science for Sustainability (Master's)"],"faculty":["Nijmegen School of Management"],"student_count":"14","study_type":"Master's specialisation"},{"study":"Business Law","related_studies":["International and European Law Advanced (Master's specialisation)","European Law and Global Affairs (Master's specialisation)","Human Rights and Migration (Master's specialisation)"],"faculty":["Faculty of Law"],"student_count":"29","study_type":"Master's specialisation"},{"study":"Business and Law (research)","related_studies":["Business and Law - dual master (Master's)","Company Law (Master's specialisation)","Business Law (Master's specialisation)"],"faculty":["Faculty of Law"],"student_count":"12","study_type":"Research Master's"},{"study":"Business and Law - dual master","related_studies":["Business and Law (research) (Research Master's)","Company Law (Master's specialisation)","Business Law (Master's specialisation)"],"faculty":["Faculty of Law"],"student_count":"20","study_type":"Master's"},{"study":"Capital, Labour and Extraction","related_studies":["Conflict, Territories and Identities (Master's specialisation | Joint programme optional)","Borders, Migration and Justice (Master's specialisation | Joint programme optional)","Cities, Culture and Inequality (Master's specialisation | Joint programme optional)","Two-year Educational Master's Geography (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"study_type":"Master's specialisation | Joint programme optional"},{"study":"Chemistry","related_studies":["Molecular Life Sciences (Bachelor's)","Biomedical Sciences (Bachelor's)","Physics and Astronomy (Bachelor's)","Science (Bachelor's)","Biology (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"39","study_type":"Bachelor's"},{"study":"Chemistry","related_studies":["Molecular Life Sciences (Bachelor's)","Biomedical Sciences (Bachelor's)","Physics and Astronomy (Bachelor's)","Science (Bachelor's)","Biology (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"39","study_type":"Bachelor's"},{"study":"Chemistry","related_studies":["Molecular Life Sciences (Bachelor's)","Biomedical Sciences (Bachelor's)","Physics and Astronomy (Bachelor's)","Science (Bachelor's)","Biology (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"39","study_type":"Bachelor's"},{"study":"Chemistry of Life","related_studies":["Molecular Chemistry (Master's specialisation)","Medicinal Chemistry (Master's specialisation)","Physical Chemistry (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"23","study_type":"Master's specialisation"},{"study":"Cities, Culture and Inequality","related_studies":["Conflict, Territories and Identities (Master's specialisation | Joint programme optional)","Capital, Labour and Extraction (Master's specialisation | Joint programme optional)","Borders, Migration and Justice (Master's specialisation | Joint programme optional)","Two-year Educational Master's Geography (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"study_type":"Master's specialisation | Joint programme optional"},{"study":"Cities, Water and Climate Change","related_studies":["Planning, Land and Real Estate Development (Master's specialisation)","Urban and Regional Mobility (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"56","study_type":"Master's specialisation"},{"study":"Civil Law","related_studies":["Financial Law (Master's specialisation)","Company Law (Master's specialisation)","Constitutional and Administrative Law (Master's specialisation)","Criminal Law (Master's specialisation)","Tax Law (Master's)","Notarial Law (Master's)"],"faculty":["Faculty of Law"],"student_count":"376","study_type":"Master's specialisation"},{"study":"Classics","related_studies":["History (Bachelor's)","Art History (Bachelor's)","Arts and Culture Studies (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"21","study_type":"Bachelor's"},{"study":"Cognitive Computing","related_studies":["Intelligent Technology (Master's specialisation | Joint programme optional)","Cognitive Neuroscience (research) (Research Master's)","Data Science (Master's specialisation)"],"faculty":["Faculty of Social Sciences"],"student_count":"21","study_type":"Master's specialisation"},{"study":"Cognitive Neuroscience (research)","related_studies":["Cognitive Computing (Master's specialisation)","Intelligent Technology (Master's specialisation | Joint programme optional)","Behavioural Science (research) (Research Master's)","Behaviour Change (Master's specialisation)","Linguistics and Communication Sciences (research) (Research Master's)","Neurobiology (Master's specialisation)"],"faculty":["Faculty of Social Sciences"],"student_count":"92","study_type":"Research Master's"},{"study":"Communication Science","related_studies":["Sociology (Bachelor's)","Psychology (Bachelor's)","Bedrijfskunde (Bachelor's)","Pedagogical Sciences (Bachelor's)","Bedrijfskunde (Bachelor's)","Communication and Information Studies (Bachelor's)"],"faculty":["Faculty of Social Sciences"],"student_count":"107","study_type":"Bachelor's"},{"study":"Communication Science","related_studies":["Pre-Master's Communication Science (Pre-Master's)","Communication and Persuasion (Master's specialisation)","Sociology (Master's)","Behavioural Science (research) (Research Master's)","Social and Cultural Science: Comparative Research on Societies (research) (Research Master's)","Global Communication and Diversity (Master's specialisation)"],"faculty":["Faculty of Social Sciences"],"student_count":"107","study_type":"Master's"},{"study":"Communication and Information Studies","related_studies":["Dutch Language and Culture (Bachelor's)","Linguistics (Bachelor's)","Communication Science (Bachelor's)","International Business Communication (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"16","study_type":"Bachelor's"},{"study":"Communication and Persuasion","related_studies":["Global Communication and Diversity (Master's specialisation)","Communication Science (Master's)","Linguistics and Communication Sciences (research) (Research Master's)"],"faculty":["Faculty of Arts"],"student_count":"95","study_type":"Master's specialisation"},{"study":"Company Law","related_studies":["Civil Law (Master's specialisation)","Financial Law (Master's specialisation)","Constitutional and Administrative Law (Master's specialisation)","Criminal Law (Master's specialisation)","Business and Law (research) (Research Master's)","Business and Law - dual master (Master's)"],"faculty":["Faculty of Law"],"student_count":"157","study_type":"Master's specialisation"},{"study":"Comparative Politics: Democracies and Autocracies","related_studies":["Conflict, Power and Politics (Master's specialisation | Joint programme optional)","European Union Politics and Governance (Master's specialisation | Joint programme optional)","Gender Equality, Diversity and Inclusion in Politics (Master's specialisation | Joint programme optional)","Global Political Economy (Master's specialisation | Joint programme optional)","International Relations (Master's specialisation | Joint programme optional)","Political Theory (Master's specialisation | Joint programme optional)","Social and Cultural Science: Comparative Research on Societies (research) (Research Master's)"],"faculty":["Nijmegen School of Management"],"student_count":"25","study_type":"Master's specialisation | Joint programme optional"},{"study":"Computing Science","related_studies":["Artificial Intelligence (Bachelor's)","Physics and Astronomy (Bachelor's)","Chemistry (Bachelor's)","Mathematics (Bachelor's)","Biomedical Sciences (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"167","study_type":"Bachelor's"},{"study":"Computing Science","related_studies":["Artificial Intelligence (Bachelor's)","Physics and Astronomy (Bachelor's)","Chemistry (Bachelor's)","Mathematics (Bachelor's)","Biomedical Sciences (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"167","study_type":"Bachelor's"},{"study":"Computing Science","related_studies":["Artificial Intelligence (Bachelor's)","Physics and Astronomy (Bachelor's)","Chemistry (Bachelor's)","Mathematics (Bachelor's)","Biomedical Sciences (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"167","study_type":"Bachelor's"},{"study":"Conflict, Power and Politics","related_studies":["Comparative Politics: Democracies and Autocracies (Master's specialisation | Joint programme optional)","European Union Politics and Governance (Master's specialisation | Joint programme optional)","Gender Equality, Diversity and Inclusion in Politics (Master's specialisation | Joint programme optional)","Global Political Economy (Master's specialisation | Joint programme optional)","International Relations (Master's specialisation | Joint programme optional)","Political Theory (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"43","study_type":"Master's specialisation | Joint programme optional"},{"study":"Conflict, Territories and Identities","related_studies":["Capital, Labour and Extraction (Master's specialisation | Joint programme optional)","Borders, Migration and Justice (Master's specialisation | Joint programme optional)","Cities, Culture and Inequality (Master's specialisation | Joint programme optional)","Two-year Educational Master's Geography (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"81","study_type":"Master's specialisation | Joint programme optional"},{"study":"Conservation and Restoration Ecology","related_studies":["Microbiology (Master's specialisation)","Adaptive Organisms (Master's specialisation)","Environment & Sustainability (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"75","study_type":"Master's specialisation"},{"study":"Constitutional and Administrative Law","related_studies":["Civil Law (Master's specialisation)","Financial Law (Master's specialisation)","Company Law (Master's specialisation)","Criminal Law (Master's specialisation)","Publiekrecht (Onderzoeksmaster | Joint programme)","Business and Law (research) (Research Master's)"],"faculty":["Faculty of Law"],"student_count":"112","study_type":"Master's specialisation"},{"study":"Continental Philosophy: Phenomenology, Hermeneutics and Psychoanalysis","related_studies":["Practical Philosophy: Critique of Modernity (Master's specialisation)","Theology 1 yr (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Corporate Finance and Control","related_studies":["Accounting and Control (Master's specialisation)","Economics, Behaviour and Policy (Master's specialisation)","Financial Economics (Master's specialisation)","International Economics & Development (Master's specialisation)","International Political Economy (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"32","study_type":"Master's specialisation"},{"study":"Creative Industries","related_studies":["Tourism and Culture (Master's specialisation)","Art and Visual Culture (Master's)","Cultural Policy and the Business of Art (Master's specialisation)","Art History (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"25","study_type":"Master's specialisation"},{"study":"Criminal Law","related_studies":["Civil Law (Master's specialisation)","Financial Law (Master's specialisation)","Company Law (Master's specialisation)","Constitutional and Administrative Law (Master's specialisation)","Publiekrecht (Onderzoeksmaster | Joint programme)","Business and Law - dual master (Master's)"],"faculty":["Faculty of Law"],"student_count":"189","study_type":"Master's specialisation"},{"study":"Cultural Anthropology and Development Sociology","related_studies":["Sociology (Bachelor's)","Geography, Spatial Planning and Environment (Bachelor's)","Communication Science (Bachelor's)","Psychology (Bachelor's)","Philosophy, Politics and Society (Bachelor's)","Arts and Culture Studies (Bachelor's)"],"faculty":["Faculty of Social Sciences"],"student_count":"65","study_type":"Bachelor's"},{"study":"Cultural Policy and the Business of Art","related_studies":["Creative Industries (Master's specialisation)","Art History (Master's specialisation)","Art and Visual Culture (Master's)","The Book Industry (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"19","study_type":"Master's specialisation"},{"study":"Curriculum Development for Primary Education","related_studies":["Pedagogical Sciences (Master's)","Educational Sciences (Master's)","Pre-master Curriculumontwikkeling voor Primair Onderwijs (Pre-Master's)"],"faculty":["Faculty of Social Sciences"],"student_count":"8","study_type":"Master's"},{"study":"Cyber Security","related_studies":["Data Science (Master's specialisation)","Information Sciences (Master's)","Software Science (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"109","study_type":"Master's specialisation"},{"study":"Cyber Security and AI","related_studies":["Cyber Security (Master's specialisation)","Cognitive Computing (Master's specialisation)","Intelligent Technology (Master's specialisation | Joint programme optional)"],"faculty":["Faculty of Science"],"student_count":"20","study_type":"Master's specialisation | Joint programme optional"},{"study":"Data Science","related_studies":["Software Science (Master's specialisation)","Cyber Security (Master's specialisation)","Mathematical Foundations of Computer Science (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"129","study_type":"Master's specialisation"},{"study":"Dentistry","related_studies":["Medicine (Bachelor's)","Biomedical Sciences (Bachelor's)","Biology (Bachelor's)"],"faculty":["Faculty of Medical Sciences"],"student_count":"66","study_type":"Bachelor's"},{"study":"Dentistry","related_studies":["Medicine (Master's)","Biomedical Sciences (Master's)","Molecular Mechanisms of Disease (research) (Research Master's)"],"faculty":["Faculty of Medical Sciences"],"student_count":"66","study_type":"Master's"},{"study":"Dutch Language and Culture","related_studies":["Linguistics (Bachelor's)","Communication and Information Studies (Bachelor's)","Arts and Culture Studies (Bachelor's)","Communication Science (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"29","study_type":"Bachelor's"},{"study":"Dutch as a Second Language: Teacher and Expert","related_studies":["Language Variation and Multilingualism (Master's specialisation)","Educational Sciences (Master's)","Communication and Persuasion (Master's specialisation)","Two-year Educational Master's Dutch (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"28","study_type":"Master's specialisation"},{"study":"Dutch-German-Studies (joint degree)","related_studies":["Global Communication and Diversity (Master's specialisation)","Linguistics and Communication Sciences (research) (Research Master's)","Political Theory (Master's specialisation | Joint programme optional)","Two-year Educational Master's German (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"11","study_type":"Master's | Joint programme"},{"study":"Economics and Business Economics","related_studies":["Bedrijfskunde (Bachelor's)","Economics and Business Economics (Bachelor's)","Law and Economics (Bachelor's)","Public Administration (Bachelor's)","International Business Administration (Bachelor's)","Political Science (Bachelor's)"],"faculty":["Nijmegen School of Management"],"student_count":"189","study_type":"Bachelor's"},{"study":"Economics and Business Economics","related_studies":["Bedrijfskunde (Bachelor's)","Economics and Business Economics (Bachelor's)","Law and Economics (Bachelor's)","Public Administration (Bachelor's)","International Business Administration (Bachelor's)","Political Science (Bachelor's)"],"faculty":["Nijmegen School of Management"],"student_count":"189","study_type":"Bachelor's"},{"study":"Economics and Business Economics","related_studies":["Bedrijfskunde (Bachelor's)","Economics and Business Economics (Bachelor's)","Law and Economics (Bachelor's)","Public Administration (Bachelor's)","International Business Administration (Bachelor's)","Political Science (Bachelor's)"],"faculty":["Nijmegen School of Management"],"student_count":"189","study_type":"Bachelor's"},{"study":"Economics, Behaviour and Policy","related_studies":["Accounting and Control (Master's specialisation)","Corporate Finance and Control (Master's specialisation)","Financial Economics (Master's specialisation)","International Economics & Development (Master's specialisation)","International Political Economy (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"33","study_type":"Master's specialisation"},{"study":"Educatieve Minor of Module Informatica","related_studies":["Eenjarige Educatieve Master Informatica (Master's specialisation)","Two-year Educational Master's Science Education (Master's)","Computing Science (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module Biology","related_studies":["Master in teaching Biology (Master's specialisation)","Biology (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module Chemistry","related_studies":["One-year Educational Master's Chemistry (Master's specialisation)","Two-year Educational Master's Science Education (Master's)","Chemistry (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module Dutch","related_studies":["One-year Educational Master's Dutch (Master's specialisation)","Two-year Educational Master's Dutch (Master's specialisation)","Dutch Language and Culture (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module English","related_studies":["Two-year Educational Master's English (Master's specialisation)","One-year Educational Master's English (Master's specialisation)","Two-year Educational Pre-Master's English (Pre-Master's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module French","related_studies":["One-year Educational Master's French (Master's specialisation)","Two-year Educational Master's French (Master's specialisation)","French Language and Culture (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module Geography","related_studies":["One-year Educational Master's Geography (Master's specialisation)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module German","related_studies":["One-year Educational Master's German (Master's specialisation)","Two-year Educational Master's German (Master's specialisation)","German Language and Culture (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module Greek and Latin","related_studies":["One-year Educational Master's Greek & Latin (Master's specialisation)","Two-year Educational Master's Classics (Master's specialisation)","Classics (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module History","related_studies":["One-year Educational Master's History and Civics (Master's specialisation)","Two-year Educational Master's History (Master's specialisation)","Two-year Educational Pre-Master's History (Pre-Master's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module Mathematics","related_studies":["One-year Educational Master's Mathematics (Master's specialisation)","Two-year Educational Master's Science Education (Master's)","Mathematics (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module Physics","related_studies":["One-year Educational Master's Physics (Master's specialisation)","Physics and Astronomy (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module Religious Studies","related_studies":["One-year Educational Master's Religious Studies (Master's specialisation)","Two-year Educational Master's Religion (Master's specialisation)","Philosophy of Religious Sciences (Master's specialisation)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education Module Spanish","related_studies":["One-year Educational Master's Spanish (Master's specialisation)","Two-year Educational Master's Spanish (Master's specialisation)","Spanish Language and Culture (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Educatieve minor/ module"},{"study":"Education in Museums and Heritage (double degree programme)","related_studies":["Art History (Master's specialisation)","Cultural Policy and the Business of Art (Master's specialisation)","Creative Industries (Master's specialisation)","Tourism and Culture (Master's specialisation)"],"faculty":["Faculty of Arts"],"study_type":"Master's | Joint programme"},{"study":"Educational Sciences","related_studies":["Behavioural Science (research) (Research Master's)","Curriculum Development for Primary Education (Master's)","Sociology (Master's)","Pedagogical Sciences (Master's)","Dutch as a Second Language: Teacher and Expert (Master's specialisation)"],"faculty":["Faculty of Social Sciences"],"student_count":"45","study_type":"Master's"},{"study":"Eenjarige Educatieve Master Informatica","related_studies":[],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"English Language and Culture","related_studies":["American Studies (Bachelor's)","Arts and Culture Studies (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"69","study_type":"Bachelor's"},{"study":"English Language and Culture","related_studies":["American Studies (Bachelor's)","Arts and Culture Studies (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"69","study_type":"Bachelor's"},{"study":"Environment & Sustainability","related_studies":["Adaptive Organisms (Master's specialisation)","Conservation and Restoration Ecology (Master's specialisation)","Science, Management and Innovation (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"7","study_type":"Master's specialisation"},{"study":"Environmental Justice and Governance","related_studies":["Global Environment and Sustainability (Master's specialisation)","Local Environmental Change and Sustainable Cities (Master's specialisation)","Sustainable Economies and Corporations (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"5","study_type":"Master's specialisation"},{"study":"Ethics and Political Philosophy","related_studies":[],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's"},{"study":"European Law School","related_studies":["Law (Bachelor's)","Notarial Law (Bachelor's)","Law and Management (Bachelor's)","Law and Economics (Bachelor's)"],"faculty":["Faculty of Law"],"student_count":"83","study_type":"Bachelor's"},{"study":"European Law and Global Affairs","related_studies":["International and European Law Advanced (Master's specialisation)","Human Rights and Migration (Master's specialisation)","Business Law (Master's specialisation)"],"faculty":["Faculty of Law"],"student_count":"16","study_type":"Master's specialisation"},{"study":"European Master in System Dynamics","related_studies":["Business Analysis and Modelling (Master's specialisation)","Gender Equality, Diversity and Inclusion in Management (Master's specialisation)","Innovation and Entrepreneurship (Master's specialisation)","International Business (Master's specialisation | Joint programme optional)","Marketing (Master's specialisation)","Organisational Design & Development (Master's specialisation)","Strategic Human Resources Leadership (Master's specialisation | Joint programme optional)","Strategic Management (Master's specialisation)","Science for Sustainability (Master's)","Responsible Digitalisation (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"4","study_type":"Master's specialisation | Joint programme"},{"study":"European Union Governance and Politics","related_studies":["Policy, Knowledge and Conflict (Master's specialisation)","Governance of Safety and Security (Master's specialisation)","Management of Civil Challenges (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"20","study_type":"Master's specialisation"},{"study":"European Union Politics and Governance","related_studies":["Comparative Politics: Democracies and Autocracies (Master's specialisation | Joint programme optional)","Conflict, Power and Politics (Master's specialisation | Joint programme optional)","Gender Equality, Diversity and Inclusion in Politics (Master's specialisation | Joint programme optional)","Global Political Economy (Master's specialisation | Joint programme optional)","International Relations (Master's specialisation | Joint programme optional)","Political Theory (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"12","study_type":"Master's specialisation | Joint programme optional"},{"study":"Filosofie van de Geesteswetenschappen","related_studies":["Creative Industries (Master's specialisation)","Art and Visual Culture (Master's)","Practical Philosophy: Critique of Modernity (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Financial Economics","related_studies":["Accounting and Control (Master's specialisation)","Corporate Finance and Control (Master's specialisation)","Financial Economics (Master's specialisation)","International Economics & Development (Master's specialisation)","International Political Economy (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"47","study_type":"Master's specialisation"},{"study":"Financial Law","related_studies":["Civil Law (Master's specialisation)","Company Law (Master's specialisation)","Constitutional and Administrative Law (Master's specialisation)","Criminal Law (Master's specialisation)","Tax Law (Master's)","Notarial Law (Master's)"],"faculty":["Faculty of Law"],"student_count":"29","study_type":"Master's specialisation"},{"study":"French Language and Culture","related_studies":["Communication and Information Studies (Bachelor's)","Spanish Language and Culture (Bachelor's)","German Language and Culture (Bachelor's)","Linguistics (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"9","study_type":"Bachelor's"},{"study":"Gender Equality, Diversity and Inclusion in Management","related_studies":["Business Analysis and Modelling (Master's specialisation)","European Master in System Dynamics (Master's specialisation | Joint programme)","Innovation and Entrepreneurship (Master's specialisation)","International Business (Master's specialisation | Joint programme optional)","Marketing (Master's specialisation)","Organisational Design & Development (Master's specialisation)","Responsible Digitalisation (Master's specialisation)","Science for Sustainability (Master's)","Strategic Human Resources Leadership (Master's specialisation | Joint programme optional)","Strategic Management (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"5","study_type":"Master's specialisation"},{"study":"Gender Equality, Diversity and Inclusion in Politics","related_studies":["Comparative Politics: Democracies and Autocracies (Master's specialisation | Joint programme optional)","Conflict, Power and Politics (Master's specialisation | Joint programme optional)","European Union Politics and Governance (Master's specialisation | Joint programme optional)","Global Political Economy (Master's specialisation | Joint programme optional)","International Relations (Master's specialisation | Joint programme optional)","Political Theory (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"10","study_type":"Master's specialisation | Joint programme optional"},{"study":"Geography, Spatial Planning and Environment","related_studies":["Sociology (Bachelor's)","Political Science (Bachelor's)","Public Administration (Bachelor's)","Cultural Anthropology and Development Sociology (Bachelor's)","Physics and Astronomy (Bachelor's)","Biology (Bachelor's)"],"faculty":["Nijmegen School of Management"],"student_count":"154","study_type":"Bachelor's"},{"study":"German Language and Culture","related_studies":["International Business Communication (Bachelor's)","History (Bachelor's)","Linguistics (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"10","study_type":"Bachelor's"},{"study":"Global Communication and Diversity","related_studies":["Linguistics and Communication Sciences (research) (Research Master's)","Communication and Persuasion (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"32","study_type":"Master's specialisation"},{"study":"Global Environment and Sustainability","related_studies":["Sustainable Economies and Corporations (Master's specialisation)","Local Environmental Change and Sustainable Cities (Master's specialisation)","Environmental Justice and Governance (Master's specialisation)","Science for Sustainability (Master's)"],"faculty":["Nijmegen School of Management"],"student_count":"19","study_type":"Master's specialisation"},{"study":"Global Political Economy","related_studies":["Comparative Politics: Democracies and Autocracies (Master's specialisation | Joint programme optional)","Conflict, Power and Politics (Master's specialisation | Joint programme optional)","European Union Politics and Governance (Master's specialisation | Joint programme optional)","Gender Equality, Diversity and Inclusion in Politics (Master's specialisation | Joint programme optional)","International Relations (Master's specialisation | Joint programme optional)","Political Theory (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"8","study_type":"Master's specialisation | Joint programme optional"},{"study":"Governance of Safety and Security","related_studies":["Management of Civil Challenges (Master's specialisation)","Policy, Knowledge and Conflict (Master's specialisation)","European Union Governance and Politics (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"38","study_type":"Master's specialisation"},{"study":"Great ideas and their history","related_studies":["Continental Philosophy: Phenomenology, Hermeneutics and Psychoanalysis (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Greek and Latin Language and Literature","related_studies":["Roman Archeology (Master's specialisation)","The Book Industry (Master's specialisation)","Literature and Society (Master's specialisation)","Literary Studies (Master's)","Two-year Educational Master's Classics (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"7","study_type":"Master's specialisation"},{"study":"Healthcare Psychology","related_studies":["Behaviour Change (Master's specialisation)","Work, Organisation and Health (Master's specialisation)","Behavioural Science (research) (Research Master's)","Cognitive Neuroscience (research) (Research Master's)","Intersectional Gender Studies (Master's)","Pedagogical Sciences (Master's)"],"faculty":["Faculty of Social Sciences"],"study_type":"Master's specialisation"},{"study":"Historical Studies","related_studies":["Ancient and Medieval Mediterranean Worlds (Master's specialisation)","History of Church and Theology (Master's specialisation)","Philosophy of History (Master's specialisation)","Modern and Contemporary History (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"17","study_type":"Master's"},{"study":"History","related_studies":["Classics (Bachelor's)","Art History (Bachelor's)","Political Science (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"127","study_type":"Bachelor's"},{"study":"History of Church and Theology","related_studies":["Theology 1 yr (Master's specialisation)","Philosophy of Religion (Master's specialisation)","Religious Studies (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"History of Philosophy and Science","related_studies":["Philosophy of History (Master's specialisation)","Great ideas and their history (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's"},{"study":"Human Biology","related_studies":["Medical Epigenomics (Master's specialisation)","Neurobiology (Master's specialisation)","Medicinal Chemistry (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"182","study_type":"Master's specialisation"},{"study":"Human Neuroscience","related_studies":["Biology (Bachelor's)","Psychology (Bachelor's)","Artificial Intelligence (Bachelor's)","Biomedical Sciences (Bachelor's)"],"faculty":["Faculty of Social Sciences"],"study_type":"Bachelor's"},{"study":"Human Rights and Migration","related_studies":["International and European Law Advanced (Master's specialisation)","European Law and Global Affairs (Master's specialisation)","Business Law (Master's specialisation)"],"faculty":["Faculty of Law"],"student_count":"20","study_type":"Master's specialisation"},{"study":"Information Sciences","related_studies":["Cyber Security (Master's specialisation)","Intelligent Technology (Master's specialisation | Joint programme optional)","Data Science (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"38","study_type":"Master's"},{"study":"Innovation and Entrepreneurship","related_studies":["Business Analysis and Modelling (Master's specialisation)","European Master in System Dynamics (Master's specialisation | Joint programme)","Gender Equality, Diversity and Inclusion in Management (Master's specialisation)","International Business (Master's specialisation | Joint programme optional)","Marketing (Master's specialisation)","Organisational Design & Development (Master's specialisation)","Responsible Digitalisation (Master's specialisation)","Science for Sustainability (Master's)","Strategic Human Resources Leadership (Master's specialisation | Joint programme optional)","Strategic Management (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"55","study_type":"Master's specialisation"},{"study":"Intelligent Technology","related_studies":["Cognitive Computing (Master's specialisation)","Cognitive Neuroscience (research) (Research Master's)","Data Science (Master's specialisation)"],"faculty":["Faculty of Social Sciences"],"student_count":"56","study_type":"Master's specialisation | Joint programme optional"},{"study":"International Business","related_studies":["Business Analysis and Modelling (Master's specialisation)","European Master in System Dynamics (Master's specialisation | Joint programme)","Gender Equality, Diversity and Inclusion in Management (Master's specialisation)","Innovation and Entrepreneurship (Master's specialisation)","Marketing (Master's specialisation)","Organisational Design & Development (Master's specialisation)","Responsible Digitalisation (Master's specialisation)","Science for Sustainability (Master's)","Strategic Human Resources Leadership (Master's specialisation | Joint programme optional)","Strategic Management (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"70","study_type":"Master's specialisation | Joint programme optional"},{"study":"International Business Administration","related_studies":["Business Administration (Bachelor's)","Economics and Business Economics (Bachelor's)","Economics and Business Economics (Bachelor's)","International Business Communication (Bachelor's)","Law and Management (Bachelor's)","Law and Economics (Bachelor's)"],"faculty":["Nijmegen School of Management"],"student_count":"452","study_type":"Bachelor's"},{"study":"International Business Administration","related_studies":["Business Administration (Bachelor's)","Economics and Business Economics (Bachelor's)","Economics and Business Economics (Bachelor's)","International Business Communication (Bachelor's)","Law and Management (Bachelor's)","Law and Economics (Bachelor's)"],"faculty":["Nijmegen School of Management"],"student_count":"452","study_type":"Bachelor's"},{"study":"International Business Communication","related_studies":["Communication and Information Studies (Bachelor's)","International Business Administration (Bachelor's)","English Language and Culture (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"55","study_type":"Bachelor's"},{"study":"International Business Communication","related_studies":["Communication and Information Studies (Bachelor's)","International Business Administration (Bachelor's)","English Language and Culture (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"55","study_type":"Bachelor's"},{"study":"International Economics & Development","related_studies":["Accounting and Control (Master's specialisation)","Corporate Finance and Control (Master's specialisation)","Economics, Behaviour and Policy (Master's specialisation)","Financial Economics (Master's specialisation)","International Political Economy (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"10","study_type":"Master's specialisation"},{"study":"International Law and Global Security, Peace and Development (joint degree)","related_studies":[],"faculty":["Faculty of Law"],"study_type":"Master's | Joint programme"},{"study":"International Political Economy","related_studies":["Accounting and Control (Master's specialisation)","Corporate Finance and Control (Master's specialisation)","Economics, Behaviour and Policy (Master's specialisation)","Financial Economics (Master's specialisation)","International Economics & Development (Master's specialisation)","Global Political Economy (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"16","study_type":"Master's specialisation | Joint programme optional"},{"study":"International Relations","related_studies":["Comparative Politics: Democracies and Autocracies (Master's specialisation | Joint programme optional)","Conflict, Power and Politics (Master's specialisation | Joint programme optional)","European Union Politics and Governance (Master's specialisation | Joint programme optional)","Gender Equality, Diversity and Inclusion in Politics (Master's specialisation | Joint programme optional)","Global Political Economy (Master's specialisation | Joint programme optional)","Political Theory (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"38","study_type":"Master's specialisation | Joint programme optional"},{"study":"International and European Law Advanced","related_studies":["Business Law (Master's specialisation)","Human Rights and Migration (Master's specialisation)","European Law and Global Affairs (Master's specialisation)"],"faculty":["Faculty of Law"],"student_count":"28","study_type":"Master's specialisation"},{"study":"Intersectional Gender Studies","related_studies":["Social and Cultural Science: Comparative Research on Societies (research) (Research Master's)","Anthropology and Development Studies (Master's | Joint programme optional)","Sociology (Master's)","Gender Equality, Diversity and Inclusion in Politics (Master's specialisation | Joint programme optional)","Gender Equality, Diversity and Inclusion in Management (Master's specialisation)"],"faculty":["Faculty of Social Sciences"],"study_type":"Master's"},{"study":"Islam, Politics and Society","related_studies":["Pre-Master's Theology & Religious Studies: Islam, Politics and Society (Pre-Master's)","Religion, Politics and Society (Bachelor's)","Philosophy, Politics and Society (Bachelor's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Bachelor's"},{"study":"Islam, Politics and Society","related_studies":["Religion and Policy (Master's specialisation)","Religious Studies (Master's specialisation)","Philosophy of Religious Sciences (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Language Variation and Multilingualism","related_studies":["Language and Speech Pathology (Master's specialisation)","Linguistics and Communication Sciences (research) (Research Master's)","Dutch as a Second Language: Teacher and Expert (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"48","study_type":"Master's specialisation"},{"study":"Language and Communication Technology","related_studies":["Language and Speech Pathology (Master's specialisation)","Intelligent Technology (Master's specialisation | Joint programme optional)","Communication and Persuasion (Master's specialisation)","Linguistics and Communication Sciences (research) (Research Master's)"],"faculty":["Faculty of Arts"],"study_type":"Master's"},{"study":"Language and Speech Pathology","related_studies":["Language Variation and Multilingualism (Master's specialisation)","Dutch as a Second Language: Teacher and Expert (Master's specialisation)","Two-year Educational Master's Dutch (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"23","study_type":"Master's specialisation"},{"study":"Law","related_studies":["Notarial Law (Bachelor's)","European Law School (Bachelor's)","Law and Management (Bachelor's)","Law and Economics (Bachelor's)"],"faculty":["Faculty of Law"],"student_count":"395 28","study_type":"Bachelor's"},{"study":"Law and Economics","related_studies":["Law and Management (Bachelor's)","Law (Bachelor's)","Notarial Law (Bachelor's)","European Law School (Bachelor's)"],"faculty":["Faculty of Law"],"study_type":"Bachelor's"},{"study":"Law and Management","related_studies":["Law (Bachelor's)","European Law School (Bachelor's)","Notarial Law (Bachelor's)","Law and Economics (Bachelor's)"],"faculty":["Faculty of Law"],"study_type":"Bachelor's"},{"study":"Linguistics","related_studies":["Dutch Language and Culture (Bachelor's)","Communication and Information Studies (Bachelor's)","Artificial Intelligence (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"27","study_type":"Bachelor's"},{"study":"Linguistics and Communication Sciences (research)","related_studies":["Language Variation and Multilingualism (Master's specialisation)","Global Communication and Diversity (Master's specialisation)","Cognitive Neuroscience (research) (Research Master's)","Communication and Persuasion (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"30","study_type":"Research Master's"},{"study":"Literary Studies","related_studies":["Literature and Society (Master's specialisation)","Cultural Policy and the Business of Art (Master's specialisation)","Greek and Latin Language and Literature (Master's specialisation)","Dutch-German-Studies (joint degree) (Master's | Joint programme)"],"faculty":["Faculty of Arts"],"student_count":"16","study_type":"Master's"},{"study":"Literature and Society","related_studies":["The Book Industry (Master's specialisation)","Literary Studies (Master's)","Dutch-German-Studies (joint degree) (Master's | Joint programme)","Two-year Educational Master's Dutch (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"26","study_type":"Master's specialisation"},{"study":"Local Environmental Change and Sustainable Cities","related_studies":["Sustainable Economies and Corporations (Master's specialisation)","Global Environment and Sustainability (Master's specialisation)","Environmental Justice and Governance (Master's specialisation)","Science for Sustainability (Master's)"],"faculty":["Nijmegen School of Management"],"student_count":"27","study_type":"Master's specialisation"},{"study":"Management of Civil Challenges","related_studies":["Policy, Knowledge and Conflict (Master's specialisation)","Governance of Safety and Security (Master's specialisation)","European Union Governance and Politics (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"35","study_type":"Master's specialisation"},{"study":"Marketing","related_studies":["Business Analysis and Modelling (Master's specialisation)","European Master in System Dynamics (Master's specialisation | Joint programme)","Gender Equality, Diversity and Inclusion in Management (Master's specialisation)","Innovation and Entrepreneurship (Master's specialisation)","International Business (Master's specialisation | Joint programme optional)","Organisational Design & Development (Master's specialisation)","Responsible Digitalisation (Master's specialisation)","Science for Sustainability (Master's)","Strategic Human Resources Leadership (Master's specialisation | Joint programme optional)","Strategic Management (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"58","study_type":"Master's specialisation"},{"study":"Master in teaching Biology","related_studies":["Education Module Biology (Educatieve minor/ module)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Mathematical Foundations of Computer Science","related_studies":["Mathematics (Master's specialisation)","Data Science (Master's specialisation)","Information Sciences (Master's)"],"faculty":["Faculty of Science"],"student_count":"46","study_type":"Master's specialisation"},{"study":"Mathematics","related_studies":["Physics and Astronomy (Bachelor's)","Computing Science (Bachelor's)","Artificial Intelligence (Bachelor's)","Medicine (Bachelor's)","Science (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"77","study_type":"Bachelor's"},{"study":"Mathematics","related_studies":["Physics and Astronomy (Bachelor's)","Computing Science (Bachelor's)","Artificial Intelligence (Bachelor's)","Medicine (Bachelor's)","Science (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"77","study_type":"Bachelor's"},{"study":"Mathematics","related_studies":["Physics and Astronomy (Bachelor's)","Computing Science (Bachelor's)","Artificial Intelligence (Bachelor's)","Medicine (Bachelor's)","Science (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"77","study_type":"Bachelor's"},{"study":"Mathematics","related_studies":["Mathematical Foundations of Computer Science (Master's specialisation)","Particle and Astrophysics (Master's specialisation)","Quantum Matter (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"77","study_type":"Master's specialisation"},{"study":"Mathematics","related_studies":["Mathematical Foundations of Computer Science (Master's specialisation)","Particle and Astrophysics (Master's specialisation)","Quantum Matter (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"77","study_type":"Master's specialisation"},{"study":"Mathematics","related_studies":["Mathematical Foundations of Computer Science (Master's specialisation)","Particle and Astrophysics (Master's specialisation)","Quantum Matter (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"77","study_type":"Master's specialisation"},{"study":"Medical Epigenomics","related_studies":["Neurobiology (Master's specialisation)","Biomedical Sciences (Master's)","Medicinal Chemistry (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"59","study_type":"Master's specialisation"},{"study":"Medicinal Chemistry","related_studies":["Chemistry of Life (Master's specialisation)","Medical Epigenomics (Master's specialisation)","Molecular Chemistry (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"52","study_type":"Master's specialisation"},{"study":"Medicine","related_studies":["Dentistry (Bachelor's)","Biomedical Sciences (Bachelor's)","Biology (Bachelor's)"],"faculty":["Faculty of Medical Sciences"],"student_count":"326","study_type":"Bachelor's"},{"study":"Medicine","related_studies":["Biomedical Sciences (Master's)","Dentistry (Master's)","Molecular Mechanisms of Disease (research) (Research Master's)"],"faculty":["Faculty of Medical Sciences"],"student_count":"326","study_type":"Master's"},{"study":"Metaphysics and Philosophical Anthropology","related_studies":["Continental Philosophy: Phenomenology, Hermeneutics and Psychoanalysis (Master's specialisation)","Philosophy of Religion (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Research Master's"},{"study":"Microbiology","related_studies":["Adaptive Organisms (Master's specialisation)","Conservation and Restoration Ecology (Master's specialisation)","Environment & Sustainability (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"54","study_type":"Master's specialisation"},{"study":"Modern and Contemporary History","related_studies":["Ancient and Medieval Mediterranean Worlds (Master's specialisation)","Politics and Parliament (Master's specialisation)","Historical Studies (Master's)","History of Church and Theology (Master's specialisation)","Two-year Educational Master's History (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"39","study_type":"Master's specialisation"},{"study":"Molecular Chemistry","related_studies":["Physical Chemistry (Master's specialisation)","Chemistry of Life (Master's specialisation)","Medicinal Chemistry (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"49","study_type":"Master's specialisation"},{"study":"Molecular Life Sciences","related_studies":["Biomedical Sciences (Bachelor's)","Medicine (Bachelor's)","Biology (Bachelor's)","Chemistry (Bachelor's)","Science (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"93","study_type":"Bachelor's"},{"study":"Molecular Life Sciences","related_studies":["Biomedical Sciences (Bachelor's)","Medicine (Bachelor's)","Biology (Bachelor's)","Chemistry (Bachelor's)","Science (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"93","study_type":"Bachelor's"},{"study":"Molecular Life Sciences","related_studies":["Biomedical Sciences (Bachelor's)","Medicine (Bachelor's)","Biology (Bachelor's)","Chemistry (Bachelor's)","Science (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"93","study_type":"Bachelor's"},{"study":"Molecular Mechanisms of Disease (research)","related_studies":["Biomedical Sciences (Master's)"],"faculty":["Faculty of Medical Sciences"],"study_type":"Research Master's"},{"study":"Neurobiology","related_studies":["Neurophysics (Master's specialisation)","Human Biology (Master's specialisation)","Cognitive Neuroscience (research) (Research Master's)"],"faculty":["Faculty of Science"],"student_count":"95","study_type":"Master's specialisation"},{"study":"Neurophysics","related_studies":["Neurobiology (Master's specialisation)","Quantum Matter (Master's specialisation)","Cognitive Neuroscience (research) (Research Master's)"],"faculty":["Faculty of Science"],"student_count":"47","study_type":"Master's specialisation"},{"study":"Notarial Law","related_studies":["Law (Bachelor's)","European Law School (Bachelor's)","Law and Management (Bachelor's)","Law and Economics (Bachelor's)"],"faculty":["Faculty of Law"],"student_count":"6 53","study_type":"Bachelor's"},{"study":"Notarial Law","related_studies":["Law (Bachelor's)","European Law School (Bachelor's)","Law and Management (Bachelor's)","Law and Economics (Bachelor's)"],"faculty":["Faculty of Law"],"student_count":"125 9","study_type":"Bachelor's"},{"study":"Notarial Law","related_studies":["Tax Law (Master's)","Civil Law (Master's specialisation)","Company Law (Master's specialisation)"],"faculty":["Faculty of Law"],"student_count":"6 53","study_type":"Master's"},{"study":"Notarial Law","related_studies":["Tax Law (Master's)","Civil Law (Master's specialisation)","Company Law (Master's specialisation)"],"faculty":["Faculty of Law"],"student_count":"125 9","study_type":"Master's"},{"study":"One-year Educational Master's Art History and Cultural and Artistic Education","related_studies":["Two-year Educational Master's Art History and Cultural and Artistic Education (Master's specialisation)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's Business Economics","related_studies":["Economics and Business Economics (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's Chemistry","related_studies":["Education Module Chemistry (Educatieve minor/ module)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's Dutch","related_studies":["Two-year Educational Pre-Master's Dutch (Pre-Master's)","Two-year Educational Master's Dutch (Master's specialisation)","Dutch Language and Culture (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's Economics","related_studies":["Economics and Business Economics (Bachelor's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's English","related_studies":["Two-year Educational Pre-Master's English (Pre-Master's)","Two-year Educational Master's English (Master's specialisation)","Education Module English (Educatieve minor/ module)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's French","related_studies":["Two-year Educational Pre-Master's French (Pre-Master's)","Two-year Educational Master's French (Master's specialisation)","Education Module French (Educatieve minor/ module)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's Geography","related_studies":["Two-year Educational Master's Geography (Master's specialisation)","Education Module Geography (Educatieve minor/ module)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's German","related_studies":["Two-year Educational Pre-Master's German (Pre-Master's)","Two-year Educational Master's German (Master's specialisation)","Education Module German (Educatieve minor/ module)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's Greek & Latin","related_studies":["Two-year Educational Master's Classics (Master's specialisation)","Greek and Latin Language and Literature (Master's specialisation)","Education Module Greek and Latin (Educatieve minor/ module)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's History and Civics","related_studies":["Two-year Educational Master's History (Master's specialisation)","Education Module History (Educatieve minor/ module)","Two-year Educational Pre-Master's History (Pre-Master's)","Politics and Parliament (Master's specialisation)","Modern and Contemporary History (Master's specialisation)","Ancient and Medieval Mediterranean Worlds (Master's specialisation)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's Mathematics","related_studies":["Education Module Mathematics (Educatieve minor/ module)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's Philosophy","related_studies":["Two-year Educational Master's Philosophy (Master's specialisation)","Pre-Master's Philosophy (Pre-Master's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's Physics","related_studies":["Education Module Physics (Educatieve minor/ module)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's Religious Studies","related_studies":["Two-year Educational Master's Religion (Master's specialisation)","Philosophy of Religious Sciences (Master's specialisation)","Pre-Master's Philosophy (Pre-Master's)","Education Module Religious Studies (Educatieve minor/ module)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"One-year Educational Master's Social Studies and Social Sciences","related_studies":["Two-year Educational Pre-Master's Society Studies (Pre-Master's)","Two-year Educational Master's Social Studies (Master's)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's"},{"study":"One-year Educational Master's Spanish","related_studies":["Two-year Educational Pre-Master's Spanish (Pre-Master's)","Education Module Spanish (Educatieve minor/ module)","Two-year Educational Master's Spanish (Master's specialisation)"],"faculty":["Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Organisational Design & Development","related_studies":["Business Analysis and Modelling (Master's specialisation)","European Master in System Dynamics (Master's specialisation | Joint programme)","Gender Equality, Diversity and Inclusion in Management (Master's specialisation)","Innovation and Entrepreneurship (Master's specialisation)","International Business (Master's specialisation | Joint programme optional)","Marketing (Master's specialisation)","Responsible Digitalisation (Master's specialisation)","Science for Sustainability (Master's)","Strategic Human Resources Leadership (Master's specialisation | Joint programme optional)","Strategic Management (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"60","study_type":"Master's specialisation"},{"study":"Particle and Astrophysics","related_studies":["Neurophysics (Master's specialisation)","Quantum Matter (Master's specialisation)","Mathematics (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"82","study_type":"Master's specialisation"},{"study":"Pedagogical Sciences","related_studies":["Psychology (Bachelor's)","Sociology (Bachelor's)","Medicine (Bachelor's)","Communication Science (Master's)","Pedagogical Sciences of Primary Education (Bachelor's)","Pedagogical Sciences (ALPO traject) (Bachelor's)"],"faculty":["Faculty of Social Sciences"],"student_count":"316","study_type":"Bachelor's"},{"study":"Pedagogical Sciences","related_studies":["Educational Sciences (Master's)","Curriculum Development for Primary Education (Master's)","Behavioural Science (research) (Research Master's)","Healthcare Psychology (Master's specialisation)","Sociology (Master's)","Intersectional Gender Studies (Master's)"],"faculty":["Faculty of Social Sciences"],"student_count":"316","study_type":"Master's"},{"study":"Pedagogical Sciences (ALPO traject)","related_studies":["Pedagogical Sciences of Primary Education (Bachelor's)","Pedagogical Sciences (Bachelor's)","Psychology (Bachelor's)","Medicine (Bachelor's)","Sociology (Bachelor's)","Communication Science (Bachelor's)"],"faculty":["Faculty of Social Sciences"],"study_type":"Bachelor's"},{"study":"Pedagogical Sciences of Primary Education","related_studies":["Pedagogical Sciences (ALPO traject) (Bachelor's)","Pedagogical Sciences (Bachelor's)","Medicine (Bachelor's)","Psychology (Bachelor's)","Sociology (Bachelor's)","Psychology (Bachelor's)"],"faculty":["Faculty of Social Sciences"],"student_count":"49","study_type":"Bachelor's"},{"study":"Philosophy","related_studies":["History (Bachelor's)","Sociology (Bachelor's)","Theology (Bachelor's)","Philosophy, Politics and Society (Bachelor's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Bachelor's"},{"study":"Philosophy of Behavioural Sciences","related_studies":["Behavioural Science (research) (Research Master's)","Pedagogical Sciences (Master's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Philosophy of Cognitive Sciences","related_studies":["Philosophy of Behavioural Sciences (Master's specialisation)","Cognitive Neuroscience (research) (Research Master's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Philosophy of Language and Cognition","related_studies":["Philosophy of Cognitive Sciences (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Philosophy of Law","related_studies":["Practical Philosophy: Critique of Modernity (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Philosophy of Mind and Language","related_studies":["Philosophy of Language and Cognition (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Research Master's"},{"study":"Philosophy of Natural and Life Sciences","related_studies":["Philosophy of Behavioural Sciences (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Philosophy of Political Sciences","related_studies":["Philosophy of Behavioural Sciences (Master's specialisation)","Practical Philosophy: Critique of Modernity (Master's specialisation)","Political Theory (Master's specialisation | Joint programme optional)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Philosophy of Religion","related_studies":["Theology 1 yr (Master's specialisation)","Religious Studies (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Philosophy of Religious Sciences","related_studies":["Theology 1 yr (Master's specialisation)","Religious Studies (Master's specialisation)","Philosophy of Religion (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Philosophy, Politics and Society","related_studies":["Political Science (Bachelor's)","Psychology (Bachelor's)","Psychology (Bachelor's)","Philosophy (Bachelor's)","Religion, Politics and Society (Bachelor's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Bachelor's"},{"study":"Philosophy, Politics and Society","related_studies":["Political Science (Bachelor's)","Psychology (Bachelor's)","Psychology (Bachelor's)","Philosophy (Bachelor's)","Religion, Politics and Society (Bachelor's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Bachelor's"},{"study":"Philosophy, Politics and Society","related_studies":["Practical Philosophy: Critique of Modernity (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Philosophy, Politics and Society","related_studies":["Practical Philosophy: Critique of Modernity (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Physical Chemistry","related_studies":["Quantum Matter (Master's specialisation)","Molecular Chemistry (Master's specialisation)","Chemistry of Life (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"34","study_type":"Master's specialisation"},{"study":"Physics and Astronomy","related_studies":["Medicine (Bachelor's)","Biomedical Sciences (Bachelor's)","Mathematics (Bachelor's)","Chemistry (Bachelor's)","Science (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"134","study_type":"Bachelor's"},{"study":"Planning, Land and Real Estate Development","related_studies":["Cities, Water and Climate Change (Master's specialisation)","Urban and Regional Mobility (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"79","study_type":"Master's specialisation"},{"study":"Policy, Knowledge and Conflict","related_studies":["Governance of Safety and Security (Master's specialisation)","Management of Civil Challenges (Master's specialisation)","European Union Governance and Politics (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"study_type":"Master's specialisation"},{"study":"Political Science","related_studies":["Public Administration (Bachelor's)","Sociology (Bachelor's)","Geography, Spatial Planning and Environment (Bachelor's)","Philosophy, Politics and Society (Bachelor's)","History (Bachelor's)","European Law School (Bachelor's)"],"faculty":["Nijmegen School of Management"],"student_count":"110","study_type":"Bachelor's"},{"study":"Political Theory","related_studies":["Comparative Politics: Democracies and Autocracies (Master's specialisation | Joint programme optional)","Conflict, Power and Politics (Master's specialisation | Joint programme optional)","European Union Politics and Governance (Master's specialisation | Joint programme optional)","Gender Equality, Diversity and Inclusion in Politics (Master's specialisation | Joint programme optional)","Global Political Economy (Master's specialisation | Joint programme optional)","International Relations (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"18","study_type":"Master's specialisation | Joint programme optional"},{"study":"Politics and Parliament","related_studies":["Ancient and Medieval Mediterranean Worlds (Master's specialisation)","Modern and Contemporary History (Master's specialisation)","Historical Studies (Master's)","Political Theory (Master's specialisation | Joint programme optional)","Two-year Educational Master's History (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"55","study_type":"Master's specialisation"},{"study":"Practical Philosophy: Critique of Modernity","related_studies":["Philosophy of Political Sciences (Master's specialisation)","Continental Philosophy: Phenomenology, Hermeneutics and Psychoanalysis (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Practical Theology","related_studies":["Theology 1 yr (Master's specialisation)","Philosophy of Religion (Master's specialisation)","Religious Studies (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Pre-Master's Anthropology and Development Studies","related_studies":["Anthropology and Development Studies (Master's | Joint programme optional)","Social and Cultural Science: Comparative Research on Societies (research) (Research Master's)","Pre-Master's Sociology (Pre-Master's)","Pre-Master's Human Geography (Pre-Master's)","Pre-Master's Environment and Society Studies (Pre-Master's)","Pre-Master's Political Science (Pre-Master's)"],"faculty":["Faculty of Social Sciences"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Artificial Intelligence: Cognitive Computing","related_studies":["Pre-Master's Artificial Intelligence: Intelligent Technology (Pre-Master's)","Intelligent Technology (Master's specialisation | Joint programme optional)","Cognitive Computing (Master's specialisation)"],"faculty":["Faculty of Social Sciences"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Artificial Intelligence: Intelligent Technology","related_studies":["Pre-Master's Artificial Intelligence: Cognitive Computing (Pre-Master's)","Intelligent Technology (Master's specialisation | Joint programme optional)","Cognitive Computing (Master's specialisation)"],"faculty":["Faculty of Social Sciences"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Arts & Culture: Art History","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Arts & Culture: Creative Industries","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Arts & Culture: Tourism and Culture","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Biology","related_studies":[],"faculty":["Faculty of Science"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Biomedical Sciences","related_studies":[],"faculty":["Faculty of Medical Sciences"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Business Administration","related_studies":[],"faculty":["Nijmegen School of Management"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Classics & Ancient Civilizations: Classical Culture","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Communication Science","related_studies":["Communication Science (Master's)","Pre-Master's Sociology (Pre-Master's)","Pre-Master's Communication and Persuasion (Pre-Master's)","Pre-Master's Anthropology and Development Studies (Pre-Master's)","Pre-Master's Educational Sciences (Pre-Master's)"],"faculty":["Faculty of Social Sciences"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Communication and Persuasion","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Computing Science","related_studies":[],"faculty":["Faculty of Science"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Dutch as a Second Language: Teacher and Expert","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Economics","related_studies":[],"faculty":["Nijmegen School of Management"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Educational Sciences","related_studies":["Educational Sciences (Master's)","Pre-Master's Pedagogical Sciences (Pre-Master's)","Pre-Master's Sociology (Pre-Master's)","Pre-master Curriculumontwikkeling voor Primair Onderwijs (Pre-Master's)"],"faculty":["Faculty of Social Sciences"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Environment and Society Studies","related_studies":[],"faculty":["Nijmegen School of Management"],"study_type":"Pre-Master's"},{"study":"Pre-Master's European Studies","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Global Communication and Diversity","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's History: Ancient and Medieval Mediterranean Worlds","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's History: Modern and Contemporary History","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's History: Politics and Parliament","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Human Geography","related_studies":[],"faculty":["Nijmegen School of Management"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Information Sciences","related_studies":[],"faculty":["Faculty of Science"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Language Variation and Multilingualism","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Language and Communication Technology","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Language and Speech Pathology","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Literary Studies","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Mathematics","related_studies":["Mathematics (Master's specialisation)","Mathematics (Bachelor's)"],"faculty":["Faculty of Science"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Medical Biology","related_studies":[],"faculty":["Faculty of Science"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Molecular Sciences","related_studies":[],"faculty":["Faculty of Science"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Orthodox Christianity","related_studies":["Pre-Master's Theology (Pre-Master's)","Pre-Master's Theology & Religious Studies: Religious Studies (Pre-Master's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Pedagogical Sciences","related_studies":["Pedagogical Sciences (Master's)","Pre-Master's Educational Sciences (Pre-Master's)","Pre-master Curriculumontwikkeling voor Primair Onderwijs (Pre-Master's)","Pre-Master's Sociology (Pre-Master's)","Pre-Master's Communication Science (Pre-Master's)"],"faculty":["Faculty of Social Sciences"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Philosophy","related_studies":[],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Physics and Astronomy","related_studies":[],"faculty":["Faculty of Science"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Political Science","related_studies":[],"faculty":["Nijmegen School of Management"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Private Law","related_studies":["Civil Law (Master's specialisation)","Financial Law (Master's specialisation)","Company Law (Master's specialisation)","Business and Law - dual master (Master's)","Business and Law (research) (Research Master's)"],"faculty":["Faculty of Law"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Public Administration","related_studies":[],"faculty":["Nijmegen School of Management"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Public Law","related_studies":["Constitutional and Administrative Law (Master's specialisation)","Criminal Law (Master's specialisation)"],"faculty":["Faculty of Law"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Sociology","related_studies":["Sociology (Master's)","Pre-Master's Anthropology and Development Studies (Pre-Master's)","Pre-Master's Communication Science (Pre-Master's)","Pre-Master's Educational Sciences (Pre-Master's)"],"faculty":["Faculty of Social Sciences"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Spatial Planning","related_studies":[],"faculty":["Nijmegen School of Management"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Tax Law","related_studies":["Tax Law (Master's)"],"faculty":["Faculty of Law"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Theology","related_studies":["Pre-Master's Theology & Religious Studies: Religious Studies (Pre-Master's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Theology & Religious Studies: Islam, Politics and Society","related_studies":["Pre-Master's Theology & Religious Studies: Religious Studies (Pre-Master's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Theology & Religious Studies: Religious Studies","related_studies":["Pre-Master's Theology & Religious Studies: Islam, Politics and Society (Pre-Master's)","Pre-Master's Theology (Pre-Master's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Pre-Master's"},{"study":"Pre-Master's Transatlantic Studies: History, Culture and Politics","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Pre-master Curriculumontwikkeling voor Primair Onderwijs","related_studies":["Curriculum Development for Primary Education (Master's)","Pre-Master's Pedagogical Sciences (Pre-Master's)","Pre-Master's Educational Sciences (Pre-Master's)","Two-year Educational Pre-Master's Dutch (Pre-Master's)"],"faculty":["Faculty of Social Sciences"],"study_type":"Pre-Master's"},{"study":"Pre-master Educatie in de BÃ¨tawetenschappen","related_studies":[],"faculty":["Faculty of Science"],"study_type":"Pre-Master's"},{"study":"Pre-master Geneeskunde","related_studies":[],"faculty":["Faculty of Medical Sciences"],"study_type":"Pre-Master's"},{"study":"Pre-master Notarieel Recht","related_studies":["Law (Bachelor's)","Notarial Law (Bachelor's)","European Law School (Bachelor's)"],"faculty":["Faculty of Law"],"study_type":"Pre-Master's"},{"study":"Psychology","related_studies":["Medicine (Bachelor's)","Pedagogical Sciences (Bachelor's)","Human Neuroscience (Bachelor's)","Sociology (Bachelor's)","Biomedical Sciences (Bachelor's)","Communication Science (Bachelor's)"],"faculty":["Faculty of Social Sciences"],"student_count":"563","study_type":"Bachelor's"},{"study":"Psychology","related_studies":["Medicine (Bachelor's)","Pedagogical Sciences (Bachelor's)","Human Neuroscience (Bachelor's)","Sociology (Bachelor's)","Biomedical Sciences (Bachelor's)","Communication Science (Bachelor's)"],"faculty":["Faculty of Social Sciences"],"student_count":"563","study_type":"Bachelor's"},{"study":"Psychology","related_studies":["Medicine (Bachelor's)","Pedagogical Sciences (Bachelor's)","Human Neuroscience (Bachelor's)","Sociology (Bachelor's)","Biomedical Sciences (Bachelor's)","Communication Science (Bachelor's)"],"faculty":["Faculty of Social Sciences"],"student_count":"563","study_type":"Bachelor's"},{"study":"Public Administration","related_studies":["Political Science (Bachelor's)","Sociology (Bachelor's)","Bedrijfskunde (Bachelor's)","Law (Bachelor's)","Economics and Business Economics (Bachelor's)","Law and Management (Bachelor's)"],"faculty":["Nijmegen School of Management"],"student_count":"89","study_type":"Bachelor's"},{"study":"Publiekrecht","related_studies":["Business and Law (research) (Research Master's)","Criminal Law (Master's specialisation)","Constitutional and Administrative Law (Master's specialisation)"],"faculty":["Faculty of Law"],"study_type":"Onderzoeksmaster | Joint programme"},{"study":"Quantum Matter","related_studies":["Physical Chemistry (Master's specialisation)","Neurophysics (Master's specialisation)","Particle and Astrophysics (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"33","study_type":"Master's specialisation"},{"study":"Religion and Policy","related_studies":["Religious Studies (Master's specialisation)","Islam, Politics and Society (Master's specialisation)","Spiritual Care (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Religion, Politics and Society","related_studies":["Islam, Politics and Society (Bachelor's)","Cultural Anthropology and Development Sociology (Bachelor's)","Political Science (Bachelor's)","Sociology (Bachelor's)","Philosophy (Bachelor's)","Theology (Bachelor's)","Philosophy, Politics and Society (Bachelor's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Bachelor's"},{"study":"Religious Studies","related_studies":["Religion and Policy (Master's specialisation)","Spiritual Care (Master's specialisation)","Islam, Politics and Society (Master's specialisation)","Theology 1 yr (Master's specialisation)","Philosophy of Religious Sciences (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Responsible Digitalisation","related_studies":["Business Analysis and Modelling (Master's specialisation)","European Master in System Dynamics (Master's specialisation | Joint programme)","Gender Equality, Diversity and Inclusion in Management (Master's specialisation)","International Business (Master's specialisation | Joint programme optional)","Marketing (Master's specialisation)","Organisational Design & Development (Master's specialisation)","Science for Sustainability (Master's)","Strategic Human Resources Leadership (Master's specialisation | Joint programme optional)","Strategic Management (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"study_type":"Master's specialisation"},{"study":"Roman Archeology","related_studies":["Art History (Master's specialisation)","Greek and Latin Language and Literature (Master's specialisation)","Ancient and Medieval Mediterranean Worlds (Master's specialisation)","Historical Studies (Master's)","Two-year Educational Master's Classics (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"7","study_type":"Master's specialisation"},{"study":"Science","related_studies":["Physics and Astronomy (Bachelor's)","Chemistry (Bachelor's)","Biomedical Sciences (Bachelor's)","Molecular Life Sciences (Bachelor's)","Biology (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"29","study_type":"Bachelor's"},{"study":"Science","related_studies":["Physics and Astronomy (Bachelor's)","Chemistry (Bachelor's)","Biomedical Sciences (Bachelor's)","Molecular Life Sciences (Bachelor's)","Biology (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"29","study_type":"Bachelor's"},{"study":"Science","related_studies":["Physics and Astronomy (Bachelor's)","Chemistry (Bachelor's)","Biomedical Sciences (Bachelor's)","Molecular Life Sciences (Bachelor's)","Biology (Bachelor's)"],"faculty":["Faculty of Science"],"student_count":"29","study_type":"Bachelor's"},{"study":"Science for Sustainability","related_studies":["Environment & Sustainability (Master's specialisation)","Cities, Water and Climate Change (Master's specialisation)","Conservation and Restoration Ecology (Master's specialisation)"],"faculty":["Faculty of Science"],"study_type":"Master's"},{"study":"Science in Society","related_studies":["Science, Management and Innovation (Master's specialisation)","Philosophy, Politics and Society (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"37","study_type":"Master's specialisation"},{"study":"Science, Management and Innovation","related_studies":["Science in Society (Master's specialisation)","Innovation and Entrepreneurship (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"78","study_type":"Master's specialisation"},{"study":"Social and Cultural Science: Comparative Research on Societies (research)","related_studies":["Sociology (Master's)","Anthropology and Development Studies (Master's | Joint programme optional)","Intersectional Gender Studies (Master's)","Comparative Politics: Democracies and Autocracies (Master's specialisation | Joint programme optional)","Behavioural Science (research) (Research Master's)","Communication Science (Master's)"],"faculty":["Faculty of Social Sciences"],"student_count":"11","study_type":"Research Master's"},{"study":"Society, Language and Culture","related_studies":["Cultural Anthropology and Development Sociology (Bachelor's)","German Language and Culture (Bachelor's)","French Language and Culture (Bachelor's)","Geography, Spatial Planning and Environment (Bachelor's)","Spanish Language and Culture (Bachelor's)","Sociology (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"50","study_type":"Bachelor's"},{"study":"Sociology","related_studies":["Psychology (Bachelor's)","Pedagogical Sciences (Bachelor's)","Political Science (Bachelor's)","Communication Science (Bachelor's)","Cultural Anthropology and Development Sociology (Bachelor's)","Public Administration (Bachelor's)"],"faculty":["Faculty of Social Sciences"],"student_count":"67","study_type":"Bachelor's"},{"study":"Sociology","related_studies":["Pre-Master's Sociology (Pre-Master's)","Intersectional Gender Studies (Master's)","Social and Cultural Science: Comparative Research on Societies (research) (Research Master's)","Anthropology and Development Studies (Master's | Joint programme optional)","One-year Educational Master's Social Studies and Social Sciences (Master's)","Communication Science (Master's)"],"faculty":["Faculty of Social Sciences"],"student_count":"67","study_type":"Master's"},{"study":"Software Science","related_studies":["Cyber Security (Master's specialisation)","Data Science (Master's specialisation)","Mathematical Foundations of Computer Science (Master's specialisation)"],"faculty":["Faculty of Science"],"student_count":"57","study_type":"Master's specialisation"},{"study":"Spanish Language and Culture","related_studies":["Communication and Information Studies (Bachelor's)","French Language and Culture (Bachelor's)","Linguistics (Bachelor's)","German Language and Culture (Bachelor's)","Cultural Anthropology and Development Sociology (Bachelor's)"],"faculty":["Faculty of Arts"],"student_count":"9","study_type":"Bachelor's"},{"study":"Spiritual Care","related_studies":["Theology 1 yr (Master's specialisation)","Religious Studies (Master's specialisation)","Practical Theology (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Strategic Human Resources Leadership","related_studies":["Business Analysis and Modelling (Master's specialisation)","European Master in System Dynamics (Master's specialisation | Joint programme)","Gender Equality, Diversity and Inclusion in Management (Master's specialisation)","Innovation and Entrepreneurship (Master's specialisation)","International Business (Master's specialisation | Joint programme optional)","Marketing (Master's specialisation)","Organisational Design & Development (Master's specialisation)","Responsible Digitalisation (Master's specialisation)","Science for Sustainability (Master's)","Strategic Management (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"55","study_type":"Master's specialisation | Joint programme optional"},{"study":"Strategic Management","related_studies":["Business Analysis and Modelling (Master's specialisation)","European Master in System Dynamics (Master's specialisation | Joint programme)","Gender Equality, Diversity and Inclusion in Management (Master's specialisation)","Innovation and Entrepreneurship (Master's specialisation)","International Business (Master's specialisation | Joint programme optional)","Marketing (Master's specialisation)","Organisational Design & Development (Master's specialisation)","Responsible Digitalisation (Master's specialisation)","Science for Sustainability (Master's)","Strategic Human Resources Leadership (Master's specialisation | Joint programme optional)"],"faculty":["Nijmegen School of Management"],"student_count":"153","study_type":"Master's specialisation"},{"study":"Sustainable Economies and Corporations","related_studies":["Global Environment and Sustainability (Master's specialisation)","Local Environmental Change and Sustainable Cities (Master's specialisation)","Environmental Justice and Governance (Master's specialisation)","Science for Sustainability (Master's)"],"faculty":["Nijmegen School of Management"],"student_count":"20","study_type":"Master's specialisation"},{"study":"Systematic Theology","related_studies":["Theology 1 yr (Master's specialisation)","Philosophy of Religion (Master's specialisation)","Religious Studies (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Tax Law","related_studies":["Financial Law (Master's specialisation)","Company Law (Master's specialisation)","Notarial Law (Master's)"],"faculty":["Faculty of Law"],"student_count":"27","study_type":"Master's"},{"study":"The Book Industry","related_studies":["Literature and Society (Master's specialisation)","Literary Studies (Master's)","Cultural Policy and the Business of Art (Master's specialisation)","Two-year Educational Master's Dutch (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"28","study_type":"Master's specialisation"},{"study":"Theology","related_studies":["Philosophy (Bachelor's)","Philosophy, Politics and Society (Bachelor's)","Religion, Politics and Society (Bachelor's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"student_count":"14 7","study_type":"Bachelor's"},{"study":"Theology 1 yr","related_studies":["Biblical Exegesis (Master's specialisation)","History of Church and Theology (Master's specialisation)","Practical Theology (Master's specialisation)","Systematic Theology (Master's specialisation)","Religious Studies (Master's specialisation)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies"],"study_type":"Master's specialisation"},{"study":"Tourism and Culture","related_studies":["Creative Industries (Master's specialisation)","Ancient and Medieval Mediterranean Worlds (Master's specialisation)","Cultural Policy and the Business of Art (Master's specialisation)","Art and Visual Culture (Master's)"],"faculty":["Faculty of Arts"],"student_count":"28","study_type":"Master's specialisation"},{"study":"Transatlantic Studies: History, Culture and Politics","related_studies":["Comparative Politics: Democracies and Autocracies (Master's specialisation | Joint programme optional)","International Relations (Master's specialisation | Joint programme optional)","Politics and Parliament (Master's specialisation)","Two-year Educational Master's English (Master's specialisation)"],"faculty":["Faculty of Arts"],"student_count":"23","study_type":"Master's specialisation"},{"study":"Two-year Educational Master's Art History and Cultural and Artistic Education","related_studies":["One-year Educational Master's Art History and Cultural and Artistic Education (Master's specialisation)","Art History (Master's specialisation)","Cultural Policy and the Business of Art (Master's specialisation)","Creative Industries (Master's specialisation)"],"faculty":["Faculty of Arts","Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Two-year Educational Master's Classics","related_studies":["One-year Educational Master's Greek & Latin (Master's specialisation)","Greek and Latin Language and Literature (Master's specialisation)","Roman Archeology (Master's specialisation)"],"faculty":["Faculty of Arts","Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Two-year Educational Master's Dutch","related_studies":["One-year Educational Master's Dutch (Master's specialisation)","Dutch as a Second Language: Teacher and Expert (Master's specialisation)","The Book Industry (Master's specialisation)","Literature and Society (Master's specialisation)"],"faculty":["Faculty of Arts","Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Two-year Educational Master's English","related_studies":["One-year Educational Master's English (Master's specialisation)","Language Variation and Multilingualism (Master's specialisation)","The Book Industry (Master's specialisation)","Literature and Society (Master's specialisation)"],"faculty":["Faculty of Arts","Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Two-year Educational Master's French","related_studies":["One-year Educational Master's French (Master's specialisation)","Language Variation and Multilingualism (Master's specialisation)","The Book Industry (Master's specialisation)","Literature and Society (Master's specialisation)"],"faculty":["Faculty of Arts","Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Two-year Educational Master's Geography","related_studies":["Cities, Water and Climate Change (Master's specialisation)","Planning, Land and Real Estate Development (Master's specialisation)","Urban and Regional Mobility (Master's specialisation)","Conflict, Territories and Identities (Master's specialisation | Joint programme optional)","Capital, Labour and Extraction (Master's specialisation | Joint programme optional)","Borders, Migration and Justice (Master's specialisation | Joint programme optional)","Cities, Culture and Inequality (Master's specialisation | Joint programme optional)","Sustainable Economies and Corporations (Master's specialisation)","Global Environment and Sustainability (Master's specialisation)","Local Environmental Change and Sustainable Cities (Master's specialisation)"],"faculty":["Nijmegen School of Management","Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Two-year Educational Master's German","related_studies":["One-year Educational Master's German (Master's specialisation)","Dutch-German-Studies (joint degree) (Master's | Joint programme)","The Book Industry (Master's specialisation)","Literature and Society (Master's specialisation)"],"faculty":["Faculty of Arts","Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Two-year Educational Master's History","related_studies":["One-year Educational Master's History and Civics (Master's specialisation)","Modern and Contemporary History (Master's specialisation)","Politics and Parliament (Master's specialisation)","Ancient and Medieval Mediterranean Worlds (Master's specialisation)"],"faculty":["Faculty of Arts","Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Two-year Educational Master's Philosophy","related_studies":["One-year Educational Master's Philosophy (Master's specialisation)","Two-year Educational Master's Religion (Master's specialisation)","Practical Philosophy: Critique of Modernity (Master's specialisation)","One-year Educational Master's Social Studies and Social Sciences (Master's)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies","Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Two-year Educational Master's Religion","related_studies":["One-year Educational Master's Religious Studies (Master's specialisation)","Education Module Religious Studies (Educatieve minor/ module)"],"faculty":["Faculty of Philosophy, Theology and Religious Studies","Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Two-year Educational Master's Science Education","related_studies":[],"faculty":["Faculty of Science","Radboud Teachers Academy"],"student_count":"23","study_type":"Master's"},{"study":"Two-year Educational Master's Social Studies","related_studies":["Two-year Educational Master's Geography (Master's specialisation)","Two-year Educational Master's Philosophy (Master's specialisation)","Two-year Educational Master's History (Master's specialisation)","Two-year Educational Master's Religion (Master's specialisation)","Two-year Educational Master's Art History and Cultural and Artistic Education (Master's specialisation)"],"faculty":["Nijmegen School of Management","Radboud Teachers Academy"],"study_type":"Master's"},{"study":"Two-year Educational Master's Spanish","related_studies":["One-year Educational Master's Spanish (Master's specialisation)","Language Variation and Multilingualism (Master's specialisation)","The Book Industry (Master's specialisation)","Literature and Society (Master's specialisation)"],"faculty":["Faculty of Arts","Radboud Teachers Academy"],"study_type":"Master's specialisation"},{"study":"Two-year Educational Pre-Master's Art History and Cultural and Artistic Education","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Two-year Educational Pre-Master's Dutch","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Two-year Educational Pre-Master's English","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Two-year Educational Pre-Master's French","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Two-year Educational Pre-Master's Geography","related_studies":[],"faculty":["Nijmegen School of Management"],"study_type":"Pre-Master's"},{"study":"Two-year Educational Pre-Master's German","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Two-year Educational Pre-Master's History","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Two-year Educational Pre-Master's Society Studies","related_studies":[],"faculty":["Nijmegen School of Management"],"study_type":"Pre-Master's"},{"study":"Two-year Educational Pre-Master's Spanish","related_studies":[],"faculty":["Faculty of Arts"],"study_type":"Pre-Master's"},{"study":"Urban and Regional Mobility","related_studies":["Cities, Water and Climate Change (Master's specialisation)","Planning, Land and Real Estate Development (Master's specialisation)"],"faculty":["Nijmegen School of Management"],"student_count":"41","study_type":"Master's specialisation"},{"study":"Work, Organisation and Health","related_studies":["Behaviour Change (Master's specialisation)","Healthcare Psychology (Master's specialisation)","Behavioural Science (research) (Research Master's)","Intersectional Gender Studies (Master's)","Social and Cultural Science: Comparative Research on Societies (research) (Research Master's)","Cognitive Neuroscience (research) (Research Master's)"],"faculty":["Faculty of Social Sciences"],"student_count":"51","study_type":"Master's specialisation"}]`),Hi=s=>s.split("").reduce((t,e)=>t=e.charCodeAt(0)+(t<<6)+(t<<16)-t,0),ji=["#191970","#006400","#ff0000","#ffd700","#00ff00","#00ffff","#ff00ff","#ffb6c1"],Ut=new Map;let Ar=0;function Tr(s){return Ut.has(s)||Ut.set(s,ji[Ar++%ji.length]),Ut.get(s)}function Rr(s){const i=Number(s);return isFinite(i)&&i>0?Math.max(8,Math.sqrt(i)*1.2):8}const de=new Z({multi:!1,type:"undirected"}),Wi=new Set;Aa.forEach(s=>{const i=`${s.study} (${s.study_type})`,t=s.faculty??[],e=Rr(s.student_count?s.student_count:0),a=Tr(t[0]);de.hasNode(i)||de.addNode(i,{label:i,size:e,color:a})});Aa.forEach(s=>{(s.related_studies??[]).forEach(i=>{de.hasNode(i)||de.addNode(i,{label:i,size:8,color:"#bbbbbb"});const t=`${s.study} (${s.study_type})`,e=Hi(t)+Hi(i)+"";Wi.has(e)||(de.addEdge(`${s.study} (${s.study_type})`,i),Wi.add(e))})});_r.random.assign(de,{scale:1});const Lr=Pa.inferSettings(de);Pa.assign(de,{iterations:500,settings:Lr});Pr.assign(de);let Ge=null,ei=new Set;const ze=new en(de,document.getElementById("container"),{labelRenderedSizeThreshold:14,defaultEdgeType:"line",zIndex:"canvas"});ze.setSetting("nodeReducer",(s,i)=>!Ge||s===Ge||ei.has(s)?i:{...i,color:i.color,label:"",hidden:!1,zIndex:0,size:i.size*.5,color:"#cccccc"});ze.setSetting("edgeReducer",(s,i)=>{if(!Ge)return i;const{source:t,target:e}=de.extremities(s);return t===Ge||e===Ge?i:{...i,hidden:!1,color:"#E0E0E0"}});ze.on("enterNode",({node:s})=>{Ge=s,ei=new Set(de.neighbors(s)),ze.refresh()});ze.on("leaveNode",()=>{Ge=null,ei.clear(),ze.refresh()});
